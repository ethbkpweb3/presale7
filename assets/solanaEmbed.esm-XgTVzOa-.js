import{by as xe,bB as ye,c0 as Lr,bk as _t,bl as lr,ak as Vf,ap as ue,bC as Sr,bz as mc,bg as ka}from"./index-CpP-AC1q.js";import{r as Kr,s as Io,f as _c,l as gn,a as vc,_ as ce,o as Sc,e as $a,b as Ec,c as Ac,i as Rc,p as ja}from"./index-CVIP3emZ.js";import{e as Xt}from"./events-sPNiP9gX.js";import{c as Ua}from"./_commonjs-dynamic-modules-TDtrdbi3.js";var _i={},vi={},Gf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Si,Wa;function ea(){if(Wa)return Si;Wa=1;var e=Gf;return Si=function(){return e()&&!!Symbol.toStringTag},Si}var Tc=Error,Oc=EvalError,Ic=RangeError,Pc=ReferenceError,zf=SyntaxError,Xr=TypeError,Bc=URIError,Ha=typeof Symbol<"u"&&Symbol,Lc=Gf,Cc=function(){return typeof Ha!="function"||typeof Symbol!="function"||typeof Ha("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Lc()},Ei={__proto__:null,foo:{}},Nc=Object,Mc=function(){return{__proto__:Ei}.foo===Ei.foo&&!(Ei instanceof Nc)},xc="Function.prototype.bind called on incompatible ",Dc=Object.prototype.toString,kc=Math.max,$c="[object Function]",Fa=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var o=0;o<r.length;o+=1)n[o+t.length]=r[o];return n},jc=function(t,r){for(var n=[],i=r,o=0;i<t.length;i+=1,o+=1)n[o]=t[i];return n},Uc=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},Wc=function(t){var r=this;if(typeof r!="function"||Dc.apply(r)!==$c)throw new TypeError(xc+r);for(var n=jc(arguments,1),i,o=function(){if(this instanceof i){var S=r.apply(this,Fa(n,arguments));return Object(S)===S?S:this}return r.apply(t,Fa(n,arguments))},a=kc(0,r.length-n.length),f=[],s=0;s<a;s++)f[s]="$"+s;if(i=Function("binder","return function ("+Uc(f,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},Hc=Wc,ta=Function.prototype.bind||Hc,Fc=Function.prototype.call,qc=Object.prototype.hasOwnProperty,Vc=ta,Gc=Vc.call(Fc,qc),be,zc=Tc,Kc=Oc,Yc=Ic,Zc=Pc,Tr=zf,Er=Xr,Jc=Bc,Kf=Function,Ai=function(e){try{return Kf('"use strict"; return ('+e+").constructor;")()}catch{}},ir=Object.getOwnPropertyDescriptor;if(ir)try{ir({},"")}catch{ir=null}var Ri=function(){throw new Er},Xc=ir?function(){try{return arguments.callee,Ri}catch{try{return ir(arguments,"callee").get}catch{return Ri}}}():Ri,gr=Cc(),Qc=Mc(),He=Object.getPrototypeOf||(Qc?function(e){return e.__proto__}:null),_r={},ed=typeof Uint8Array>"u"||!He?be:He(Uint8Array),or={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?be:ArrayBuffer,"%ArrayIteratorPrototype%":gr&&He?He([][Symbol.iterator]()):be,"%AsyncFromSyncIteratorPrototype%":be,"%AsyncFunction%":_r,"%AsyncGenerator%":_r,"%AsyncGeneratorFunction%":_r,"%AsyncIteratorPrototype%":_r,"%Atomics%":typeof Atomics>"u"?be:Atomics,"%BigInt%":typeof BigInt>"u"?be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":zc,"%eval%":eval,"%EvalError%":Kc,"%Float32Array%":typeof Float32Array>"u"?be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?be:FinalizationRegistry,"%Function%":Kf,"%GeneratorFunction%":_r,"%Int8Array%":typeof Int8Array>"u"?be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":gr&&He?He(He([][Symbol.iterator]())):be,"%JSON%":typeof JSON=="object"?JSON:be,"%Map%":typeof Map>"u"?be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!gr||!He?be:He(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?be:Promise,"%Proxy%":typeof Proxy>"u"?be:Proxy,"%RangeError%":Yc,"%ReferenceError%":Zc,"%Reflect%":typeof Reflect>"u"?be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!gr||!He?be:He(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":gr&&He?He(""[Symbol.iterator]()):be,"%Symbol%":gr?Symbol:be,"%SyntaxError%":Tr,"%ThrowTypeError%":Xc,"%TypedArray%":ed,"%TypeError%":Er,"%Uint8Array%":typeof Uint8Array>"u"?be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?be:Uint32Array,"%URIError%":Jc,"%WeakMap%":typeof WeakMap>"u"?be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?be:WeakSet};if(He)try{null.error}catch(e){var td=He(He(e));or["%Error.prototype%"]=td}var rd=function e(t){var r;if(t==="%AsyncFunction%")r=Ai("async function () {}");else if(t==="%GeneratorFunction%")r=Ai("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Ai("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&He&&(r=He(i.prototype))}return or[t]=r,r},qa={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Qr=ta,bn=Gc,nd=Qr.call(Function.call,Array.prototype.concat),id=Qr.call(Function.apply,Array.prototype.splice),Va=Qr.call(Function.call,String.prototype.replace),wn=Qr.call(Function.call,String.prototype.slice),od=Qr.call(Function.call,RegExp.prototype.exec),ad=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sd=/\\(\\)?/g,fd=function(t){var r=wn(t,0,1),n=wn(t,-1);if(r==="%"&&n!=="%")throw new Tr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Tr("invalid intrinsic syntax, expected opening `%`");var i=[];return Va(t,ad,function(o,a,f,s){i[i.length]=f?Va(s,sd,"$1"):a||o}),i},ld=function(t,r){var n=t,i;if(bn(qa,n)&&(i=qa[n],n="%"+i[0]+"%"),bn(or,n)){var o=or[n];if(o===_r&&(o=rd(n)),typeof o>"u"&&!r)throw new Er("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Tr("intrinsic "+t+" does not exist!")},Cr=function(t,r){if(typeof t!="string"||t.length===0)throw new Er("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Er('"allowMissing" argument must be a boolean');if(od(/^%?[^%]*%?$/,t)===null)throw new Tr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=fd(t),i=n.length>0?n[0]:"",o=ld("%"+i+"%",r),a=o.name,f=o.value,s=!1,l=o.alias;l&&(i=l[0],id(n,nd([0,1],l)));for(var S=1,T=!0;S<n.length;S+=1){var w=n[S],d=wn(w,0,1),P=wn(w,-1);if((d==='"'||d==="'"||d==="`"||P==='"'||P==="'"||P==="`")&&d!==P)throw new Tr("property names with quotes must have matching quotes");if((w==="constructor"||!T)&&(s=!0),i+="."+w,a="%"+i+"%",bn(or,a))f=or[a];else if(f!=null){if(!(w in f)){if(!r)throw new Er("base intrinsic for "+t+" exists, but the property is not available.");return}if(ir&&S+1>=n.length){var I=ir(f,w);T=!!I,T&&"get"in I&&!("originalValue"in I.get)?f=I.get:f=f[w]}else T=bn(f,w),f=f[w];T&&!s&&(or[a]=f)}}return f},Yf={exports:{}},Ti,Ga;function ra(){if(Ga)return Ti;Ga=1;var e=Cr,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Ti=t,Ti}var Oi,za;function na(){if(za)return Oi;za=1;var e=Cr,t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Oi=t,Oi}var Ka=ra(),ud=zf,br=Xr,Ya=na(),cd=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new br("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new br("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new br("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new br("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new br("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new br("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,s=!!Ya&&Ya(t,r);if(Ka)Ka(t,r,{configurable:a===null&&s?s.configurable:!a,enumerable:i===null&&s?s.enumerable:!i,value:n,writable:o===null&&s?s.writable:!o});else if(f||!i&&!o&&!a)t[r]=n;else throw new ud("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Po=ra(),Zf=function(){return!!Po};Zf.hasArrayLengthDefineBug=function(){if(!Po)return null;try{return Po([],"length",{value:1}).length!==1}catch{return!0}};var dd=Zf,hd=Cr,Za=cd,pd=dd(),Ja=na(),Xa=Xr,yd=hd("%Math.floor%"),gd=function(t,r){if(typeof t!="function")throw new Xa("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||yd(r)!==r)throw new Xa("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&Ja){var a=Ja(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(pd?Za(t,"length",r,!0,!0):Za(t,"length",r)),t};(function(e){var t=ta,r=Cr,n=gd,i=Xr,o=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(a,o),s=ra(),l=r("%Math.max%");e.exports=function(w){if(typeof w!="function")throw new i("a function is required");var d=f(t,a,arguments);return n(d,1+l(0,w.length-(arguments.length-1)),!0)};var S=function(){return f(t,o,arguments)};s?s(e.exports,"apply",{value:S}):e.exports.apply=S})(Yf);var Jf=Yf.exports,Xf=Cr,Qf=Jf,bd=Qf(Xf("String.prototype.indexOf")),ia=function(t,r){var n=Xf(t,!!r);return typeof n=="function"&&bd(t,".prototype.")>-1?Qf(n):n},Ii,Qa;function wd(){if(Qa)return Ii;Qa=1;var e=ea()(),t=ia,r=t("Object.prototype.toString"),n=function(f){return e&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:r(f)==="[object Arguments]"},i=function(f){return n(f)?!0:f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&r(f)!=="[object Array]"&&r(f.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,Ii=o?n:i,Ii}var Pi,es;function md(){if(es)return Pi;es=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=ea()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return Pi=function(s){if(typeof s!="function")return!1;if(r.test(t.call(s)))return!0;if(!n){var l=e.call(s);return l==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var S=o();a=S?i(S):!1}return i(s)===a},Pi}var Bi,ts;function _d(){if(ts)return Bi;ts=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(h){h!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(u){try{var c=e.call(u);return i.test(c)}catch{return!1}},a=function(u){try{return o(u)?!1:(e.call(u),!0)}catch{return!1}},f=Object.prototype.toString,s="[object Object]",l="[object Function]",S="[object GeneratorFunction]",T="[object HTMLAllCollection]",w="[object HTML document.all class]",d="[object HTMLCollection]",P=typeof Symbol=="function"&&!!Symbol.toStringTag,I=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var A=document.all;f.call(A)===f.call(document.all)&&(y=function(u){if((I||!u)&&(typeof u>"u"||typeof u=="object"))try{var c=f.call(u);return(c===T||c===w||c===d||c===s)&&u("")==null}catch{}return!1})}return Bi=t?function(u){if(y(u))return!0;if(!u||typeof u!="function"&&typeof u!="object")return!1;try{t(u,null,r)}catch(c){if(c!==n)return!1}return!o(u)&&a(u)}:function(u){if(y(u))return!0;if(!u||typeof u!="function"&&typeof u!="object")return!1;if(P)return a(u);if(o(u))return!1;var c=f.call(u);return c!==l&&c!==S&&!/^\[object HTML/.test(c)?!1:a(u)},Bi}var Li,rs;function vd(){if(rs)return Li;rs=1;var e=_d(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(s,l,S){for(var T=0,w=s.length;T<w;T++)r.call(s,T)&&(S==null?l(s[T],T,s):l.call(S,s[T],T,s))},i=function(s,l,S){for(var T=0,w=s.length;T<w;T++)S==null?l(s.charAt(T),T,s):l.call(S,s.charAt(T),T,s)},o=function(s,l,S){for(var T in s)r.call(s,T)&&(S==null?l(s[T],T,s):l.call(S,s[T],T,s))},a=function(s,l,S){if(!e(l))throw new TypeError("iterator must be a function");var T;arguments.length>=3&&(T=S),t.call(s)==="[object Array]"?n(s,l,T):typeof s=="string"?i(s,l,T):o(s,l,T)};return Li=a,Li}var Ci,ns;function Sd(){return ns||(ns=1,Ci=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Ci}var Ni,is;function Ed(){if(is)return Ni;is=1;var e=Sd(),t=typeof globalThis>"u"?xe:globalThis;return Ni=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Ni}var Mi,os;function el(){if(os)return Mi;os=1;var e=vd(),t=Ed(),r=Jf,n=ia,i=na(),o=n("Object.prototype.toString"),a=ea()(),f=typeof globalThis>"u"?xe:globalThis,s=t(),l=n("String.prototype.slice"),S=Object.getPrototypeOf,T=n("Array.prototype.indexOf",!0)||function(y,A){for(var h=0;h<y.length;h+=1)if(y[h]===A)return h;return-1},w={__proto__:null};a&&i&&S?e(s,function(I){var y=new f[I];if(Symbol.toStringTag in y){var A=S(y),h=i(A,Symbol.toStringTag);if(!h){var u=S(A);h=i(u,Symbol.toStringTag)}w["$"+I]=r(h.get)}}):e(s,function(I){var y=new f[I],A=y.slice||y.set;A&&(w["$"+I]=r(A))});var d=function(y){var A=!1;return e(w,function(h,u){if(!A)try{"$"+h(y)===u&&(A=l(u,1))}catch{}}),A},P=function(y){var A=!1;return e(w,function(h,u){if(!A)try{h(y),A=l(u,1)}catch{}}),A};return Mi=function(y){if(!y||typeof y!="object")return!1;if(!a){var A=l(o(y),8,-1);return T(s,A)>-1?A:A!=="Object"?!1:P(y)}return i?d(y):null},Mi}var xi,as;function Ad(){if(as)return xi;as=1;var e=el();return xi=function(r){return!!e(r)},xi}var ss;function Rd(){return ss||(ss=1,function(e){var t=wd(),r=md(),n=el(),i=Ad();function o(J){return J.call.bind(J)}var a=typeof BigInt<"u",f=typeof Symbol<"u",s=o(Object.prototype.toString),l=o(Number.prototype.valueOf),S=o(String.prototype.valueOf),T=o(Boolean.prototype.valueOf);if(a)var w=o(BigInt.prototype.valueOf);if(f)var d=o(Symbol.prototype.valueOf);function P(J,de){if(typeof J!="object")return!1;try{return de(J),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function I(J){return typeof Promise<"u"&&J instanceof Promise||J!==null&&typeof J=="object"&&typeof J.then=="function"&&typeof J.catch=="function"}e.isPromise=I;function y(J){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(J):i(J)||v(J)}e.isArrayBufferView=y;function A(J){return n(J)==="Uint8Array"}e.isUint8Array=A;function h(J){return n(J)==="Uint8ClampedArray"}e.isUint8ClampedArray=h;function u(J){return n(J)==="Uint16Array"}e.isUint16Array=u;function c(J){return n(J)==="Uint32Array"}e.isUint32Array=c;function b(J){return n(J)==="Int8Array"}e.isInt8Array=b;function $(J){return n(J)==="Int16Array"}e.isInt16Array=$;function C(J){return n(J)==="Int32Array"}e.isInt32Array=C;function Y(J){return n(J)==="Float32Array"}e.isFloat32Array=Y;function z(J){return n(J)==="Float64Array"}e.isFloat64Array=z;function ne(J){return n(J)==="BigInt64Array"}e.isBigInt64Array=ne;function ie(J){return n(J)==="BigUint64Array"}e.isBigUint64Array=ie;function m(J){return s(J)==="[object Map]"}m.working=typeof Map<"u"&&m(new Map);function B(J){return typeof Map>"u"?!1:m.working?m(J):J instanceof Map}e.isMap=B;function N(J){return s(J)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function H(J){return typeof Set>"u"?!1:N.working?N(J):J instanceof Set}e.isSet=H;function Z(J){return s(J)==="[object WeakMap]"}Z.working=typeof WeakMap<"u"&&Z(new WeakMap);function q(J){return typeof WeakMap>"u"?!1:Z.working?Z(J):J instanceof WeakMap}e.isWeakMap=q;function G(J){return s(J)==="[object WeakSet]"}G.working=typeof WeakSet<"u"&&G(new WeakSet);function U(J){return G(J)}e.isWeakSet=U;function D(J){return s(J)==="[object ArrayBuffer]"}D.working=typeof ArrayBuffer<"u"&&D(new ArrayBuffer);function F(J){return typeof ArrayBuffer>"u"?!1:D.working?D(J):J instanceof ArrayBuffer}e.isArrayBuffer=F;function ee(J){return s(J)==="[object DataView]"}ee.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ee(new DataView(new ArrayBuffer(1),0,1));function v(J){return typeof DataView>"u"?!1:ee.working?ee(J):J instanceof DataView}e.isDataView=v;var M=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function k(J){return s(J)==="[object SharedArrayBuffer]"}function O(J){return typeof M>"u"?!1:(typeof k.working>"u"&&(k.working=k(new M)),k.working?k(J):J instanceof M)}e.isSharedArrayBuffer=O;function x(J){return s(J)==="[object AsyncFunction]"}e.isAsyncFunction=x;function W(J){return s(J)==="[object Map Iterator]"}e.isMapIterator=W;function V(J){return s(J)==="[object Set Iterator]"}e.isSetIterator=V;function te(J){return s(J)==="[object Generator]"}e.isGeneratorObject=te;function g(J){return s(J)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=g;function E(J){return P(J,l)}e.isNumberObject=E;function p(J){return P(J,S)}e.isStringObject=p;function _(J){return P(J,T)}e.isBooleanObject=_;function j(J){return a&&P(J,w)}e.isBigIntObject=j;function Q(J){return f&&P(J,d)}e.isSymbolObject=Q;function re(J){return E(J)||p(J)||_(J)||j(J)||Q(J)}e.isBoxedPrimitive=re;function le(J){return typeof Uint8Array<"u"&&(F(J)||O(J))}e.isAnyArrayBuffer=le,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(J){Object.defineProperty(e,J,{enumerable:!1,value:function(){throw new Error(J+" is not supported in userland")}})})}(vi)),vi}var Di,fs;function Td(){return fs||(fs=1,Di=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Di}var ls;function Od(){return ls||(ls=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(M){for(var k=Object.keys(M),O={},x=0;x<k.length;x++)O[k[x]]=Object.getOwnPropertyDescriptor(M,k[x]);return O},n=/%[sdj%]/g;e.format=function(v){if(!$(v)){for(var M=[],k=0;k<arguments.length;k++)M.push(f(arguments[k]));return M.join(" ")}for(var k=1,O=arguments,x=O.length,W=String(v).replace(n,function(te){if(te==="%%")return"%";if(k>=x)return te;switch(te){case"%s":return String(O[k++]);case"%d":return Number(O[k++]);case"%j":try{return JSON.stringify(O[k++])}catch{return"[Circular]"}default:return te}}),V=O[k];k<x;V=O[++k])u(V)||!ne(V)?W+=" "+V:W+=" "+f(V);return W},e.deprecate=function(v,M){if(typeof ye<"u"&&ye.noDeprecation===!0)return v;if(typeof ye>"u")return function(){return e.deprecate(v,M).apply(this,arguments)};var k=!1;function O(){if(!k){if(ye.throwDeprecation)throw new Error(M);ye.traceDeprecation?console.trace(M):console.error(M),k=!0}return v.apply(this,arguments)}return O};var i={},o=/^$/;if(t.NODE_DEBUG){var a=t.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}e.debuglog=function(v){if(v=v.toUpperCase(),!i[v])if(o.test(v)){var M=ye.pid;i[v]=function(){var k=e.format.apply(e,arguments);console.error("%s %d: %s",v,M,k)}}else i[v]=function(){};return i[v]};function f(v,M){var k={seen:[],stylize:l};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),h(M)?k.showHidden=M:M&&e._extend(k,M),Y(k.showHidden)&&(k.showHidden=!1),Y(k.depth)&&(k.depth=2),Y(k.colors)&&(k.colors=!1),Y(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=s),T(k,v,k.depth)}e.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(v,M){var k=f.styles[M];return k?"\x1B["+f.colors[k][0]+"m"+v+"\x1B["+f.colors[k][1]+"m":v}function l(v,M){return v}function S(v){var M={};return v.forEach(function(k,O){M[k]=!0}),M}function T(v,M,k){if(v.customInspect&&M&&B(M.inspect)&&M.inspect!==e.inspect&&!(M.constructor&&M.constructor.prototype===M)){var O=M.inspect(k,v);return $(O)||(O=T(v,O,k)),O}var x=w(v,M);if(x)return x;var W=Object.keys(M),V=S(W);if(v.showHidden&&(W=Object.getOwnPropertyNames(M)),m(M)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return d(M);if(W.length===0){if(B(M)){var te=M.name?": "+M.name:"";return v.stylize("[Function"+te+"]","special")}if(z(M))return v.stylize(RegExp.prototype.toString.call(M),"regexp");if(ie(M))return v.stylize(Date.prototype.toString.call(M),"date");if(m(M))return d(M)}var g="",E=!1,p=["{","}"];if(A(M)&&(E=!0,p=["[","]"]),B(M)){var _=M.name?": "+M.name:"";g=" [Function"+_+"]"}if(z(M)&&(g=" "+RegExp.prototype.toString.call(M)),ie(M)&&(g=" "+Date.prototype.toUTCString.call(M)),m(M)&&(g=" "+d(M)),W.length===0&&(!E||M.length==0))return p[0]+g+p[1];if(k<0)return z(M)?v.stylize(RegExp.prototype.toString.call(M),"regexp"):v.stylize("[Object]","special");v.seen.push(M);var j;return E?j=P(v,M,k,V,W):j=W.map(function(Q){return I(v,M,k,V,Q,E)}),v.seen.pop(),y(j,g,p)}function w(v,M){if(Y(M))return v.stylize("undefined","undefined");if($(M)){var k="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return v.stylize(k,"string")}if(b(M))return v.stylize(""+M,"number");if(h(M))return v.stylize(""+M,"boolean");if(u(M))return v.stylize("null","null")}function d(v){return"["+Error.prototype.toString.call(v)+"]"}function P(v,M,k,O,x){for(var W=[],V=0,te=M.length;V<te;++V)U(M,String(V))?W.push(I(v,M,k,O,String(V),!0)):W.push("");return x.forEach(function(g){g.match(/^\d+$/)||W.push(I(v,M,k,O,g,!0))}),W}function I(v,M,k,O,x,W){var V,te,g;if(g=Object.getOwnPropertyDescriptor(M,x)||{value:M[x]},g.get?g.set?te=v.stylize("[Getter/Setter]","special"):te=v.stylize("[Getter]","special"):g.set&&(te=v.stylize("[Setter]","special")),U(O,x)||(V="["+x+"]"),te||(v.seen.indexOf(g.value)<0?(u(k)?te=T(v,g.value,null):te=T(v,g.value,k-1),te.indexOf(`
`)>-1&&(W?te=te.split(`
`).map(function(E){return"  "+E}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(E){return"   "+E}).join(`
`))):te=v.stylize("[Circular]","special")),Y(V)){if(W&&x.match(/^\d+$/))return te;V=JSON.stringify(""+x),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=v.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=v.stylize(V,"string"))}return V+": "+te}function y(v,M,k){var O=v.reduce(function(x,W){return W.indexOf(`
`)>=0,x+W.replace(/\u001b\[\d\d?m/g,"").length+1},0);return O>60?k[0]+(M===""?"":M+`
 `)+" "+v.join(`,
  `)+" "+k[1]:k[0]+M+" "+v.join(", ")+" "+k[1]}e.types=Rd();function A(v){return Array.isArray(v)}e.isArray=A;function h(v){return typeof v=="boolean"}e.isBoolean=h;function u(v){return v===null}e.isNull=u;function c(v){return v==null}e.isNullOrUndefined=c;function b(v){return typeof v=="number"}e.isNumber=b;function $(v){return typeof v=="string"}e.isString=$;function C(v){return typeof v=="symbol"}e.isSymbol=C;function Y(v){return v===void 0}e.isUndefined=Y;function z(v){return ne(v)&&H(v)==="[object RegExp]"}e.isRegExp=z,e.types.isRegExp=z;function ne(v){return typeof v=="object"&&v!==null}e.isObject=ne;function ie(v){return ne(v)&&H(v)==="[object Date]"}e.isDate=ie,e.types.isDate=ie;function m(v){return ne(v)&&(H(v)==="[object Error]"||v instanceof Error)}e.isError=m,e.types.isNativeError=m;function B(v){return typeof v=="function"}e.isFunction=B;function N(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||typeof v>"u"}e.isPrimitive=N,e.isBuffer=Td();function H(v){return Object.prototype.toString.call(v)}function Z(v){return v<10?"0"+v.toString(10):v.toString(10)}var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var v=new Date,M=[Z(v.getHours()),Z(v.getMinutes()),Z(v.getSeconds())].join(":");return[v.getDate(),q[v.getMonth()],M].join(" ")}e.log=function(){console.log("%s - %s",G(),e.format.apply(e,arguments))},e.inherits=Lr,e._extend=function(v,M){if(!M||!ne(M))return v;for(var k=Object.keys(M),O=k.length;O--;)v[k[O]]=M[k[O]];return v};function U(v,M){return Object.prototype.hasOwnProperty.call(v,M)}var D=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');if(D&&M[D]){var k=M[D];if(typeof k!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(k,D,{value:k,enumerable:!1,writable:!1,configurable:!0}),k}function k(){for(var O,x,W=new Promise(function(g,E){O=g,x=E}),V=[],te=0;te<arguments.length;te++)V.push(arguments[te]);V.push(function(g,E){g?x(g):O(E)});try{M.apply(this,V)}catch(g){x(g)}return W}return Object.setPrototypeOf(k,Object.getPrototypeOf(M)),D&&Object.defineProperty(k,D,{value:k,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(k,r(M))},e.promisify.custom=D;function F(v,M){if(!v){var k=new Error("Promise was rejected with a falsy value");k.reason=v,v=k}return M(v)}function ee(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');function M(){for(var k=[],O=0;O<arguments.length;O++)k.push(arguments[O]);var x=k.pop();if(typeof x!="function")throw new TypeError("The last argument must be of type Function");var W=this,V=function(){return x.apply(W,arguments)};v.apply(this,k).then(function(te){ye.nextTick(V.bind(null,null,te))},function(te){ye.nextTick(F.bind(null,te,V))})}return Object.setPrototypeOf(M,Object.getPrototypeOf(v)),Object.defineProperties(M,r(v)),M}e.callbackify=ee}(_i)),_i}var Id={exports:{}},ki={exports:{}},Ne={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},tl={exports:{}};(function(e){const t=_t,{kResistStopPropagation:r,SymbolDispose:n}=Ne,i=globalThis.AbortSignal||Kr().AbortSignal,o=globalThis.AbortController||Kr().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||t.Blob,s=typeof f<"u"?function(d){return d instanceof f}:function(d){return!1},l=(w,d)=>{if(w!==void 0&&(w===null||typeof w!="object"||!("aborted"in w)))throw new ERR_INVALID_ARG_TYPE(d,"AbortSignal",w)},S=(w,d)=>{if(typeof w!="function")throw new ERR_INVALID_ARG_TYPE(d,"Function",w)};class T extends Error{constructor(d){if(!Array.isArray(d))throw new TypeError(`Expected input to be an Array, got ${typeof d}`);let P="";for(let I=0;I<d.length;I++)P+=`    ${d[I].stack}
`;super(P),this.name="AggregateError",this.errors=d}}e.exports={AggregateError:T,kEmptyObject:Object.freeze({}),once(w){let d=!1;return function(...P){d||(d=!0,w.apply(this,P))}},createDeferredPromise:function(){let w,d;return{promise:new Promise((I,y)=>{w=I,d=y}),resolve:w,reject:d}},promisify(w){return new Promise((d,P)=>{w((I,...y)=>I?P(I):d(...y))})},debuglog(){return function(){}},format(w,...d){return w.replace(/%([sdifj])/g,function(...[P,I]){const y=d.shift();return I==="f"?y.toFixed(6):I==="j"?JSON.stringify(y):I==="s"&&typeof y=="object"?`${y.constructor!==Object?y.constructor.name:""} {}`.trim():y.toString()})},inspect(w){switch(typeof w){case"string":if(w.includes("'"))if(w.includes('"')){if(!w.includes("`")&&!w.includes("${"))return`\`${w}\``}else return`"${w}"`;return`'${w}'`;case"number":return isNaN(w)?"NaN":Object.is(w,-0)?String(w):w;case"bigint":return`${String(w)}n`;case"boolean":case"undefined":return String(w);case"object":return"{}"}},types:{isAsyncFunction(w){return w instanceof a},isArrayBufferView(w){return ArrayBuffer.isView(w)}},isBlob:s,deprecate(w,d){return w},addAbortListener:Xt.addAbortListener||function(d,P){if(d===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",d);l(d,"signal"),S(P,"listener");let I;return d.aborted?queueMicrotask(()=>P()):(d.addEventListener("abort",P,{__proto__:null,once:!0,[r]:!0}),I=()=>{d.removeEventListener("abort",P)}),{__proto__:null,[n](){var y;(y=I)===null||y===void 0||y()}}},AbortSignalAny:i.any||function(d){if(d.length===1)return d[0];const P=new o,I=()=>P.abort();return d.forEach(y=>{l(y,"signals"),y.addEventListener("abort",I,{once:!0})}),P.signal.addEventListener("abort",()=>{d.forEach(y=>y.removeEventListener("abort",I))},{once:!0}),P.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(tl);var et=tl.exports,oa={};const{format:Pd,inspect:mn,AggregateError:Bd}=et,Ld=globalThis.AggregateError||Bd,Cd=Symbol("kIsNodeError"),Nd=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Md=/^([A-Z][a-z0-9]*)+$/,xd="__node_internal_",In={};function ar(e,t){if(!e)throw new In.ERR_INTERNAL_ASSERTION(t)}function us(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Dd(e,t,r){if(typeof t=="function")return ar(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return ar(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:Pd(t,...r)}function Ve(e,t,r){r||(r=Error);class n extends r{constructor(...o){super(Dd(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Cd]=!0,In[e]=n}function cs(e){const t=xd+e.name;return Object.defineProperty(e,"name",{value:t}),e}function kd(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new Ld([t,e],t.message);return r.code=t.code,r}return e||t}let $d=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new In.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};Ve("ERR_ASSERTION","%s",Error);Ve("ERR_INVALID_ARG_TYPE",(e,t,r)=>{ar(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const i=[],o=[],a=[];for(const s of t)ar(typeof s=="string","All expected entries have to be of type string"),Nd.includes(s)?i.push(s.toLowerCase()):Md.test(s)?o.push(s):(ar(s!=="object",'The value "object" should be written as "Object"'),a.push(s));if(o.length>0){const s=i.indexOf("object");s!==-1&&(i.splice(i,s,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const s=i.pop();n+=`one of type ${i.join(", ")}, or ${s}`}}(o.length>0||a.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const s=o.pop();n+=`an instance of ${o.join(", ")}, or ${s}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const s=a.pop();n+=`one of ${a.join(", ")}, or ${s}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var f;if((f=r.constructor)!==null&&f!==void 0&&f.name)n+=`. Received an instance of ${r.constructor.name}`;else{const s=mn(r,{depth:-1});n+=`. Received ${s}`}}else{let s=mn(r,{colors:!1});s.length>25&&(s=`${s.slice(0,25)}...`),n+=`. Received type ${typeof r} (${s})`}return n},TypeError);Ve("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=mn(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);Ve("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);Ve("ERR_MISSING_ARGS",(...e)=>{ar(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);Ve("ERR_OUT_OF_RANGE",(e,t,r)=>{ar(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=us(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=us(n)),n+="n"):n=mn(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);Ve("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ve("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ve("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ve("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ve("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ve("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ve("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ve("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ve("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ve("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ve("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var ot={AbortError:$d,aggregateTwoErrors:cs(kd),hideStackFrames:cs,codes:In};const{ArrayIsArray:aa,ArrayPrototypeIncludes:rl,ArrayPrototypeJoin:nl,ArrayPrototypeMap:jd,NumberIsInteger:sa,NumberIsNaN:Ud,NumberMAX_SAFE_INTEGER:Wd,NumberMIN_SAFE_INTEGER:Hd,NumberParseInt:Fd,ObjectPrototypeHasOwnProperty:qd,RegExpPrototypeExec:il,String:Vd,StringPrototypeToUpperCase:Gd,StringPrototypeTrim:zd}=Ne,{hideStackFrames:yt,codes:{ERR_SOCKET_BAD_PORT:Kd,ERR_INVALID_ARG_TYPE:Je,ERR_INVALID_ARG_VALUE:Nr,ERR_OUT_OF_RANGE:sr,ERR_UNKNOWN_SIGNAL:ds}}=ot,{normalizeEncoding:Yd}=et,{isAsyncFunction:Zd,isArrayBufferView:Jd}=et.types,hs={};function Xd(e){return e===(e|0)}function Qd(e){return e===e>>>0}const eh=/^[0-7]+$/,th="must be a 32-bit unsigned integer or an octal string";function rh(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(il(eh,e)===null)throw new Nr(t,e,th);e=Fd(e,8)}return ol(e,t),e}const nh=yt((e,t,r=Hd,n=Wd)=>{if(typeof e!="number")throw new Je(t,"number",e);if(!sa(e))throw new sr(t,"an integer",e);if(e<r||e>n)throw new sr(t,`>= ${r} && <= ${n}`,e)}),ih=yt((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Je(t,"number",e);if(!sa(e))throw new sr(t,"an integer",e);if(e<r||e>n)throw new sr(t,`>= ${r} && <= ${n}`,e)}),ol=yt((e,t,r=!1)=>{if(typeof e!="number")throw new Je(t,"number",e);if(!sa(e))throw new sr(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new sr(t,`>= ${n} && <= ${i}`,e)});function fa(e,t){if(typeof e!="string")throw new Je(t,"string",e)}function oh(e,t,r=void 0,n){if(typeof e!="number")throw new Je(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Ud(e))throw new sr(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const ah=yt((e,t,r)=>{if(!rl(r,e)){const i="must be one of: "+nl(jd(r,o=>typeof o=="string"?`'${o}'`:Vd(o)),", ");throw new Nr(t,e,i)}});function al(e,t){if(typeof e!="boolean")throw new Je(t,"boolean",e)}function $i(e,t,r){return e==null||!qd(e,t)?r:e[t]}const sh=yt((e,t,r=null)=>{const n=$i(r,"allowArray",!1),i=$i(r,"allowFunction",!1);if(!$i(r,"nullable",!1)&&e===null||!n&&aa(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new Je(t,"Object",e)}),fh=yt((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Je(t,"a dictionary",e)}),Pn=yt((e,t,r=0)=>{if(!aa(e))throw new Je(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new Nr(t,e,n)}});function lh(e,t){Pn(e,t);for(let r=0;r<e.length;r++)fa(e[r],`${t}[${r}]`)}function uh(e,t){Pn(e,t);for(let r=0;r<e.length;r++)al(e[r],`${t}[${r}]`)}function ch(e,t){Pn(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(n==null)throw new Je(i,"AbortSignal",n);sl(n,i)}}function dh(e,t="signal"){if(fa(e,t),hs[e]===void 0)throw hs[Gd(e)]!==void 0?new ds(e+" (signals must use all capital letters)"):new ds(e)}const hh=yt((e,t="buffer")=>{if(!Jd(e))throw new Je(t,["Buffer","TypedArray","DataView"],e)});function ph(e,t){const r=Yd(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Nr("encoding",t,`is invalid for data of length ${n}`)}function yh(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&zd(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Kd(t,e,r);return e|0}const sl=yt((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Je(t,"AbortSignal",e)}),gh=yt((e,t)=>{if(typeof e!="function")throw new Je(t,"Function",e)}),bh=yt((e,t)=>{if(typeof e!="function"||Zd(e))throw new Je(t,"Function",e)}),wh=yt((e,t)=>{if(e!==void 0)throw new Je(t,"undefined",e)});function mh(e,t,r){if(!rl(r,e))throw new Je(t,`('${nl(r,"|")}')`,e)}const _h=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ps(e,t){if(typeof e>"u"||!il(_h,e))throw new Nr(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function vh(e){if(typeof e=="string")return ps(e,"hints"),e;if(aa(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const i=e[n];ps(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new Nr("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var en={isInt32:Xd,isUint32:Qd,parseFileMode:rh,validateArray:Pn,validateStringArray:lh,validateBooleanArray:uh,validateAbortSignalArray:ch,validateBoolean:al,validateBuffer:hh,validateDictionary:fh,validateEncoding:ph,validateFunction:gh,validateInt32:ih,validateInteger:nh,validateNumber:oh,validateObject:sh,validateOneOf:ah,validatePlainFunction:bh,validatePort:yh,validateSignalName:dh,validateString:fa,validateUint32:ol,validateUndefined:wh,validateUnion:mh,validateAbortSignal:sl,validateLinkHeaderValue:vh},la={exports:{}};const{SymbolAsyncIterator:ys,SymbolIterator:gs,SymbolFor:ur}=Ne,fl=ur("nodejs.stream.destroyed"),ll=ur("nodejs.stream.errored"),Bo=ur("nodejs.stream.readable"),Lo=ur("nodejs.stream.writable"),ul=ur("nodejs.stream.disturbed"),Sh=ur("nodejs.webstream.isClosedPromise"),Eh=ur("nodejs.webstream.controllerErrorFunction");function Bn(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function Ln(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Ah(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function It(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function cl(e){return!!(e&&!It(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function dl(e){return!!(e&&!It(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function hl(e){return!!(e&&!It(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Rh(e){return cl(e)||dl(e)||hl(e)}function Th(e,t){return e==null?!1:t===!0?typeof e[ys]=="function":t===!1?typeof e[gs]=="function":typeof e[ys]=="function"||typeof e[gs]=="function"}function Cn(e){if(!It(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[fl]||n!=null&&n.destroyed)}function pl(e){if(!Ln(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Oh(e,t){if(!Ln(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Ih(e){if(!Bn(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function yl(e,t){if(!Bn(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function gl(e){return e&&e[Bo]!=null?e[Bo]:typeof(e==null?void 0:e.readable)!="boolean"?null:Cn(e)?!1:Bn(e)&&e.readable&&!yl(e)}function bl(e){return e&&e[Lo]!=null?e[Lo]:typeof(e==null?void 0:e.writable)!="boolean"?null:Cn(e)?!1:Ln(e)&&e.writable&&!pl(e)}function Ph(e,t){return It(e)?Cn(e)?!0:!((t==null?void 0:t.readable)!==!1&&gl(e)||(t==null?void 0:t.writable)!==!1&&bl(e)):null}function Bh(e){var t,r;return It(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Lh(e){var t,r;return It(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Ch(e){if(!It(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&wl(e)?e._closed:null}function wl(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function ml(e){return typeof e._sent100=="boolean"&&wl(e)}function Nh(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function Mh(e){if(!It(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&ml(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function xh(e){var t;return!!(e&&((t=e[ul])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Dh(e){var t,r,n,i,o,a,f,s,l,S;return!!(e&&((t=(r=(n=(i=(o=(a=e[ll])!==null&&a!==void 0?a:e.readableErrored)!==null&&o!==void 0?o:e.writableErrored)!==null&&i!==void 0?i:(f=e._readableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&n!==void 0?n:(s=e._writableState)===null||s===void 0?void 0:s.errorEmitted)!==null&&r!==void 0?r:(l=e._readableState)===null||l===void 0?void 0:l.errored)!==null&&t!==void 0?t:!((S=e._writableState)===null||S===void 0)&&S.errored))}var Ht={isDestroyed:Cn,kIsDestroyed:fl,isDisturbed:xh,kIsDisturbed:ul,isErrored:Dh,kIsErrored:ll,isReadable:gl,kIsReadable:Bo,kIsClosedPromise:Sh,kControllerErrorFunction:Eh,kIsWritable:Lo,isClosed:Ch,isDuplexNodeStream:Ah,isFinished:Ph,isIterable:Th,isReadableNodeStream:Bn,isReadableStream:cl,isReadableEnded:Ih,isReadableFinished:yl,isReadableErrored:Lh,isNodeStream:It,isWebStream:Rh,isWritable:bl,isWritableNodeStream:Ln,isWritableStream:dl,isWritableEnded:pl,isWritableFinished:Oh,isWritableErrored:Bh,isServerRequest:Nh,isServerResponse:ml,willEmitClose:Mh,isTransformStream:hl};const Gt=lr(),{AbortError:_l,codes:kh}=ot,{ERR_INVALID_ARG_TYPE:$h,ERR_STREAM_PREMATURE_CLOSE:bs}=kh,{kEmptyObject:Co,once:No}=et,{validateAbortSignal:jh,validateFunction:Uh,validateObject:Wh,validateBoolean:Hh}=en,{Promise:Fh,PromisePrototypeThen:qh,SymbolDispose:vl}=Ne,{isClosed:Vh,isReadable:ws,isReadableNodeStream:ji,isReadableStream:Gh,isReadableFinished:ms,isReadableErrored:_s,isWritable:vs,isWritableNodeStream:Ss,isWritableStream:zh,isWritableFinished:Es,isWritableErrored:As,isNodeStream:Kh,willEmitClose:Yh,kIsClosedPromise:Zh}=Ht;let Ar;function Jh(e){return e.setHeader&&typeof e.abort=="function"}const Mo=()=>{};function Sl(e,t,r){var n,i;if(arguments.length===2?(r=t,t=Co):t==null?t=Co:Wh(t,"options"),Uh(r,"callback"),jh(t.signal,"options.signal"),r=No(r),Gh(e)||zh(e))return Xh(e,t,r);if(!Kh(e))throw new $h("stream",["ReadableStream","WritableStream","Stream"],e);const o=(n=t.readable)!==null&&n!==void 0?n:ji(e),a=(i=t.writable)!==null&&i!==void 0?i:Ss(e),f=e._writableState,s=e._readableState,l=()=>{e.writable||w()};let S=Yh(e)&&ji(e)===o&&Ss(e)===a,T=Es(e,!1);const w=()=>{T=!0,e.destroyed&&(S=!1),!(S&&(!e.readable||o))&&(!o||d)&&r.call(e)};let d=ms(e,!1);const P=()=>{d=!0,e.destroyed&&(S=!1),!(S&&(!e.writable||a))&&(!a||T)&&r.call(e)},I=b=>{r.call(e,b)};let y=Vh(e);const A=()=>{y=!0;const b=As(e)||_s(e);if(b&&typeof b!="boolean")return r.call(e,b);if(o&&!d&&ji(e,!0)&&!ms(e,!1))return r.call(e,new bs);if(a&&!T&&!Es(e,!1))return r.call(e,new bs);r.call(e)},h=()=>{y=!0;const b=As(e)||_s(e);if(b&&typeof b!="boolean")return r.call(e,b);r.call(e)},u=()=>{e.req.on("finish",w)};Jh(e)?(e.on("complete",w),S||e.on("abort",A),e.req?u():e.on("request",u)):a&&!f&&(e.on("end",l),e.on("close",l)),!S&&typeof e.aborted=="boolean"&&e.on("aborted",A),e.on("end",P),e.on("finish",w),t.error!==!1&&e.on("error",I),e.on("close",A),y?Gt.nextTick(A):f!=null&&f.errorEmitted||s!=null&&s.errorEmitted?S||Gt.nextTick(h):(!o&&(!S||ws(e))&&(T||vs(e)===!1)||!a&&(!S||vs(e))&&(d||ws(e)===!1)||s&&e.req&&e.aborted)&&Gt.nextTick(h);const c=()=>{r=Mo,e.removeListener("aborted",A),e.removeListener("complete",w),e.removeListener("abort",A),e.removeListener("request",u),e.req&&e.req.removeListener("finish",w),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",w),e.removeListener("end",P),e.removeListener("error",I),e.removeListener("close",A)};if(t.signal&&!y){const b=()=>{const $=r;c(),$.call(e,new _l(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Gt.nextTick(b);else{Ar=Ar||et.addAbortListener;const $=Ar(t.signal,b),C=r;r=No((...Y)=>{$[vl](),C.apply(e,Y)})}}return c}function Xh(e,t,r){let n=!1,i=Mo;if(t.signal)if(i=()=>{n=!0,r.call(e,new _l(void 0,{cause:t.signal.reason}))},t.signal.aborted)Gt.nextTick(i);else{Ar=Ar||et.addAbortListener;const a=Ar(t.signal,i),f=r;r=No((...s)=>{a[vl](),f.apply(e,s)})}const o=(...a)=>{n||Gt.nextTick(()=>r.apply(e,a))};return qh(e[Zh].promise,o,o),Mo}function Qh(e,t){var r;let n=!1;return t===null&&(t=Co),(r=t)!==null&&r!==void 0&&r.cleanup&&(Hh(t.cleanup,"cleanup"),n=t.cleanup),new Fh((i,o)=>{const a=Sl(e,t,f=>{n&&a(),f?o(f):i()})})}la.exports=Sl;la.exports.finished=Qh;var Qt=la.exports;const Tt=lr(),{aggregateTwoErrors:ep,codes:{ERR_MULTIPLE_CALLBACK:tp},AbortError:rp}=ot,{Symbol:El}=Ne,{kIsDestroyed:np,isDestroyed:ip,isFinished:op,isServerRequest:ap}=Ht,Al=El("kDestroy"),xo=El("kConstruct");function Rl(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function sp(e,t){const r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(Rl(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Rs(this,e,t):this.once(Al,function(o){Rs(this,ep(o,e),t)}),this)}function Rs(e,t,r){let n=!1;function i(o){if(n)return;n=!0;const a=e._readableState,f=e._writableState;Rl(o,f,a),f&&(f.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(o),o?Tt.nextTick(fp,e,o):Tt.nextTick(Tl,e)}try{e._destroy(t||null,i)}catch(o){i(o)}}function fp(e,t){Do(e,t),Tl(e)}function Tl(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function Do(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function lp(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function ko(e,t,r){const n=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?Tt.nextTick(Do,e,t):Do(e,t))}function up(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(xo,t),!(e.listenerCount(xo)>1)&&Tt.nextTick(cp,e)}function cp(e){let t=!1;function r(n){if(t){ko(e,n??new tp);return}t=!0;const i=e._readableState,o=e._writableState,a=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(Al,n):n?ko(e,n,!0):Tt.nextTick(dp,e)}try{e._construct(n=>{Tt.nextTick(r,n)})}catch(n){Tt.nextTick(r,n)}}function dp(e){e.emit(xo)}function Ts(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function Ol(e){e.emit("close")}function hp(e,t){e.emit("error",t),Tt.nextTick(Ol,e)}function pp(e,t){!e||ip(e)||(!t&&!op(e)&&(t=new rp),ap(e)?(e.socket=null,e.destroy(t)):Ts(e)?e.abort():Ts(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Tt.nextTick(hp,e,t):Tt.nextTick(Ol,e),e.destroyed||(e[np]=!0))}var Mr={construct:up,destroyer:pp,destroy:sp,undestroy:lp,errorOrDestroy:ko};const{ArrayIsArray:yp,ObjectSetPrototypeOf:Il}=Ne,{EventEmitter:Nn}=Xt;function Mn(e){Nn.call(this,e)}Il(Mn.prototype,Nn.prototype);Il(Mn,Nn);Mn.prototype.pipe=function(e,t){const r=this;function n(S){e.writable&&e.write(S)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",f));let o=!1;function a(){o||(o=!0,e.end())}function f(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function s(S){l(),Nn.listenerCount(this,"error")===0&&this.emit("error",S)}$o(r,"error",s),$o(e,"error",s);function l(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",f),r.removeListener("error",s),e.removeListener("error",s),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e};function $o(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):yp(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var ua={Stream:Mn,prependListener:$o},Pl={exports:{}};(function(e){const{SymbolDispose:t}=Ne,{AbortError:r,codes:n}=ot,{isNodeStream:i,isWebStream:o,kControllerErrorFunction:a}=Ht,f=Qt,{ERR_INVALID_ARG_TYPE:s}=n;let l;const S=(T,w)=>{if(typeof T!="object"||!("aborted"in T))throw new s(w,"AbortSignal",T)};e.exports.addAbortSignal=function(w,d){if(S(w,"signal"),!i(d)&&!o(d))throw new s("stream",["ReadableStream","WritableStream","Stream"],d);return e.exports.addAbortSignalNoValidate(w,d)},e.exports.addAbortSignalNoValidate=function(T,w){if(typeof T!="object"||!("aborted"in T))return w;const d=i(w)?()=>{w.destroy(new r(void 0,{cause:T.reason}))}:()=>{w[a](new r(void 0,{cause:T.reason}))};if(T.aborted)d();else{l=l||et.addAbortListener;const P=l(T,d);f(w,P[t])}return w}})(Pl);var xn=Pl.exports;const{StringPrototypeSlice:Os,SymbolIterator:gp,TypedArrayPrototypeSet:on,Uint8Array:bp}=Ne,{Buffer:Ui}=_t,{inspect:wp}=et;var mp=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return Ui.alloc(0);const r=Ui.allocUnsafe(t>>>0);let n=this.head,i=0;for(;n;)on(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[gp](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{const o=n.data;if(t>o.length)r+=o,t-=o.length;else{t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Os(o,0,t),this.head=n,n.data=Os(o,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){const r=Ui.allocUnsafe(t),n=t;let i=this.head,o=0;do{const a=i.data;if(t>a.length)on(r,a,n-t),t-=a.length;else{t===a.length?(on(r,a,n-t),++o,i.next?this.head=i.next:this.head=this.tail=null):(on(r,new bp(a.buffer,a.byteOffset,t),n-t),this.head=i,i.data=a.slice(t));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return wp(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:_p,NumberIsInteger:vp}=Ne,{validateInteger:Sp}=en,{ERR_INVALID_ARG_VALUE:Ep}=ot.codes;let Bl=16*1024,Ll=16;function Ap(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Cl(e){return e?Ll:Bl}function Rp(e,t){Sp(t,"value",0),e?Ll=t:Bl=t}function Tp(e,t,r,n){const i=Ap(t,n,r);if(i!=null){if(!vp(i)||i<0){const o=n?`options.${r}`:"options.highWaterMark";throw new Ep(o,i)}return _p(i)}return Cl(e.objectMode)}var Dn={getHighWaterMark:Tp,getDefaultHighWaterMark:Cl,setDefaultHighWaterMark:Rp};const Is=lr(),{PromisePrototypeThen:Op,SymbolAsyncIterator:Ps,SymbolIterator:Bs}=Ne,{Buffer:Ip}=_t,{ERR_INVALID_ARG_TYPE:Pp,ERR_STREAM_NULL_VALUES:Bp}=ot.codes;function Lp(e,t,r){let n;if(typeof t=="string"||t instanceof Ip)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[Ps])i=!0,n=t[Ps]();else if(t&&t[Bs])i=!1,n=t[Bs]();else throw new Pp("iterable",["Iterable"],t);const o=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;o._read=function(){a||(a=!0,s())},o._destroy=function(l,S){Op(f(l),()=>Is.nextTick(S,l),T=>Is.nextTick(S,T||l))};async function f(l){const S=l!=null,T=typeof n.throw=="function";if(S&&T){const{value:w,done:d}=await n.throw(l);if(await w,d)return}if(typeof n.return=="function"){const{value:w}=await n.return();await w}}async function s(){for(;;){try{const{value:l,done:S}=i?await n.next():n.next();if(S)o.push(null);else{const T=l&&typeof l.then=="function"?await l:l;if(T===null)throw a=!1,new Bp;if(o.push(T))continue;a=!1}}catch(l){o.destroy(l)}break}}return o}var Nl=Lp,Wi,Ls;function kn(){if(Ls)return Wi;Ls=1;const e=lr(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:f,Promise:s,SafeSet:l,SymbolAsyncDispose:S,SymbolAsyncIterator:T,Symbol:w}=Ne;Wi=fe,fe.ReadableState=me;const{EventEmitter:d}=Xt,{Stream:P,prependListener:I}=ua,{Buffer:y}=_t,{addAbortSignal:A}=xn,h=Qt;let u=et.debuglog("stream",R=>{u=R});const c=mp,b=Mr,{getHighWaterMark:$,getDefaultHighWaterMark:C}=Dn,{aggregateTwoErrors:Y,codes:{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_OUT_OF_RANGE:ie,ERR_STREAM_PUSH_AFTER_EOF:m,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B},AbortError:N}=ot,{validateObject:H}=en,Z=w("kPaused"),{StringDecoder:q}=Io,G=Nl;f(fe.prototype,P.prototype),f(fe,P);const U=()=>{},{errorOrDestroy:D}=b,F=1,ee=2,v=4,M=8,k=16,O=32,x=64,W=128,V=256,te=512,g=1024,E=2048,p=4096,_=8192,j=16384,Q=32768,re=65536,le=1<<17,J=1<<18;function de(R){return{enumerable:!1,get(){return(this.state&R)!==0},set(L){L?this.state|=R:this.state&=~R}}}o(me.prototype,{objectMode:de(F),ended:de(ee),endEmitted:de(v),reading:de(M),constructed:de(k),sync:de(O),needReadable:de(x),emittedReadable:de(W),readableListening:de(V),resumeScheduled:de(te),errorEmitted:de(g),emitClose:de(E),autoDestroy:de(p),destroyed:de(_),closed:de(j),closeEmitted:de(Q),multiAwaitDrain:de(re),readingMore:de(le),dataEmitted:de(J)});function me(R,L,oe){typeof oe!="boolean"&&(oe=L instanceof $t()),this.state=E|p|k|O,R&&R.objectMode&&(this.state|=F),oe&&R&&R.readableObjectMode&&(this.state|=F),this.highWaterMark=R?$(this,R,"readableHighWaterMark",oe):C(!1),this.buffer=new c,this.length=0,this.pipes=[],this.flowing=null,this[Z]=null,R&&R.emitClose===!1&&(this.state&=~E),R&&R.autoDestroy===!1&&(this.state&=~p),this.errored=null,this.defaultEncoding=R&&R.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,R&&R.encoding&&(this.decoder=new q(R.encoding),this.encoding=R.encoding)}function fe(R){if(!(this instanceof fe))return new fe(R);const L=this instanceof $t();this._readableState=new me(R,this,L),R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.construct=="function"&&(this._construct=R.construct),R.signal&&!L&&A(R.signal,this)),P.call(this,R),b.construct(this,()=>{this._readableState.needReadable&&Pe(this,this._readableState)})}fe.prototype.destroy=b.destroy,fe.prototype._undestroy=b.undestroy,fe.prototype._destroy=function(R,L){L(R)},fe.prototype[d.captureRejectionSymbol]=function(R){this.destroy(R)},fe.prototype[S]=function(){let R;return this.destroyed||(R=this.readableEnded?null:new N,this.destroy(R)),new s((L,oe)=>h(this,ae=>ae&&ae!==R?oe(ae):L(null)))},fe.prototype.push=function(R,L){return Ee(this,R,L,!1)},fe.prototype.unshift=function(R,L){return Ee(this,R,L,!0)};function Ee(R,L,oe,ae){u("readableAddChunk",L);const se=R._readableState;let Be;if(se.state&F||(typeof L=="string"?(oe=oe||se.defaultEncoding,se.encoding!==oe&&(ae&&se.encoding?L=y.from(L,oe).toString(se.encoding):(L=y.from(L,oe),oe=""))):L instanceof y?oe="":P._isUint8Array(L)?(L=P._uint8ArrayToBuffer(L),oe=""):L!=null&&(Be=new z("chunk",["string","Buffer","Uint8Array"],L))),Be)D(R,Be);else if(L===null)se.state&=~M,Le(R,se);else if(se.state&F||L&&L.length>0)if(ae)if(se.state&v)D(R,new B);else{if(se.destroyed||se.errored)return!1;je(R,se,L,!0)}else if(se.ended)D(R,new m);else{if(se.destroyed||se.errored)return!1;se.state&=~M,se.decoder&&!oe?(L=se.decoder.write(L),se.objectMode||L.length!==0?je(R,se,L,!1):Pe(R,se)):je(R,se,L,!1)}else ae||(se.state&=~M,Pe(R,se));return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function je(R,L,oe,ae){L.flowing&&L.length===0&&!L.sync&&R.listenerCount("data")>0?(L.state&re?L.awaitDrainWriters.clear():L.awaitDrainWriters=null,L.dataEmitted=!0,R.emit("data",oe)):(L.length+=L.objectMode?1:oe.length,ae?L.buffer.unshift(oe):L.buffer.push(oe),L.state&x&&at(R)),Pe(R,L)}fe.prototype.isPaused=function(){const R=this._readableState;return R[Z]===!0||R.flowing===!1},fe.prototype.setEncoding=function(R){const L=new q(R);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;const oe=this._readableState.buffer;let ae="";for(const se of oe)ae+=L.write(se);return oe.clear(),ae!==""&&oe.push(ae),this._readableState.length=ae.length,this};const Ue=1073741824;function De(R){if(R>Ue)throw new ie("size","<= 1GiB",R);return R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++,R}function Ie(R,L){return R<=0||L.length===0&&L.ended?0:L.state&F?1:n(R)?L.flowing&&L.length?L.buffer.first().length:L.length:R<=L.length?R:L.ended?L.length:0}fe.prototype.read=function(R){u("read",R),R===void 0?R=NaN:r(R)||(R=i(R,10));const L=this._readableState,oe=R;if(R>L.highWaterMark&&(L.highWaterMark=De(R)),R!==0&&(L.state&=~W),R===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return u("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Ge(this):at(this),null;if(R=Ie(R,L),R===0&&L.ended)return L.length===0&&Ge(this),null;let ae=(L.state&x)!==0;if(u("need readable",ae),(L.length===0||L.length-R<L.highWaterMark)&&(ae=!0,u("length less than watermark",ae)),L.ended||L.reading||L.destroyed||L.errored||!L.constructed)ae=!1,u("reading, ended or constructing",ae);else if(ae){u("do read"),L.state|=M|O,L.length===0&&(L.state|=x);try{this._read(L.highWaterMark)}catch(Be){D(this,Be)}L.state&=~O,L.reading||(R=Ie(oe,L))}let se;return R>0?se=ke(R,L):se=null,se===null?(L.needReadable=L.length<=L.highWaterMark,R=0):(L.length-=R,L.multiAwaitDrain?L.awaitDrainWriters.clear():L.awaitDrainWriters=null),L.length===0&&(L.ended||(L.needReadable=!0),oe!==R&&L.ended&&Ge(this)),se!==null&&!L.errorEmitted&&!L.closeEmitted&&(L.dataEmitted=!0,this.emit("data",se)),se};function Le(R,L){if(u("onEofChunk"),!L.ended){if(L.decoder){const oe=L.decoder.end();oe&&oe.length&&(L.buffer.push(oe),L.length+=L.objectMode?1:oe.length)}L.ended=!0,L.sync?at(R):(L.needReadable=!1,L.emittedReadable=!0,Xe(R))}}function at(R){const L=R._readableState;u("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(u("emitReadable",L.flowing),L.emittedReadable=!0,e.nextTick(Xe,R))}function Xe(R){const L=R._readableState;u("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&!L.errored&&(L.length||L.ended)&&(R.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,pe(R)}function Pe(R,L){!L.readingMore&&L.constructed&&(L.readingMore=!0,e.nextTick(qe,R,L))}function qe(R,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){const oe=L.length;if(u("maybeReadMore read 0"),R.read(0),oe===L.length)break}L.readingMore=!1}fe.prototype._read=function(R){throw new ne("_read()")},fe.prototype.pipe=function(R,L){const oe=this,ae=this._readableState;ae.pipes.length===1&&(ae.multiAwaitDrain||(ae.multiAwaitDrain=!0,ae.awaitDrainWriters=new l(ae.awaitDrainWriters?[ae.awaitDrainWriters]:[]))),ae.pipes.push(R),u("pipe count=%d opts=%j",ae.pipes.length,L);const Be=(!L||L.end!==!1)&&R!==e.stdout&&R!==e.stderr?Lt:nt;ae.endEmitted?e.nextTick(Be):oe.once("end",Be),R.on("unpipe",$e);function $e(ft,ze){u("onunpipe"),ft===oe&&ze&&ze.hasUnpiped===!1&&(ze.hasUnpiped=!0,Ft())}function Lt(){u("onend"),R.end()}let tt,vt=!1;function Ft(){u("cleanup"),R.removeListener("close",bt),R.removeListener("finish",rt),tt&&R.removeListener("drain",tt),R.removeListener("error",Nt),R.removeListener("unpipe",$e),oe.removeListener("end",Lt),oe.removeListener("end",nt),oe.removeListener("data",Ct),vt=!0,tt&&ae.awaitDrainWriters&&(!R._writableState||R._writableState.needDrain)&&tt()}function St(){vt||(ae.pipes.length===1&&ae.pipes[0]===R?(u("false write response, pause",0),ae.awaitDrainWriters=R,ae.multiAwaitDrain=!1):ae.pipes.length>1&&ae.pipes.includes(R)&&(u("false write response, pause",ae.awaitDrainWriters.size),ae.awaitDrainWriters.add(R)),oe.pause()),tt||(tt=K(oe,R),R.on("drain",tt))}oe.on("data",Ct);function Ct(ft){u("ondata");const ze=R.write(ft);u("dest.write",ze),ze===!1&&St()}function Nt(ft){if(u("onerror",ft),nt(),R.removeListener("error",Nt),R.listenerCount("error")===0){const ze=R._writableState||R._readableState;ze&&!ze.errorEmitted?D(R,ft):R.emit("error",ft)}}I(R,"error",Nt);function bt(){R.removeListener("finish",rt),nt()}R.once("close",bt);function rt(){u("onfinish"),R.removeListener("close",bt),nt()}R.once("finish",rt);function nt(){u("unpipe"),oe.unpipe(R)}return R.emit("pipe",oe),R.writableNeedDrain===!0?St():ae.flowing||(u("pipe resume"),oe.resume()),R};function K(R,L){return function(){const ae=R._readableState;ae.awaitDrainWriters===L?(u("pipeOnDrain",1),ae.awaitDrainWriters=null):ae.multiAwaitDrain&&(u("pipeOnDrain",ae.awaitDrainWriters.size),ae.awaitDrainWriters.delete(L)),(!ae.awaitDrainWriters||ae.awaitDrainWriters.size===0)&&R.listenerCount("data")&&R.resume()}}fe.prototype.unpipe=function(R){const L=this._readableState,oe={hasUnpiped:!1};if(L.pipes.length===0)return this;if(!R){const se=L.pipes;L.pipes=[],this.pause();for(let Be=0;Be<se.length;Be++)se[Be].emit("unpipe",this,{hasUnpiped:!1});return this}const ae=t(L.pipes,R);return ae===-1?this:(L.pipes.splice(ae,1),L.pipes.length===0&&this.pause(),R.emit("unpipe",this,oe),this)},fe.prototype.on=function(R,L){const oe=P.prototype.on.call(this,R,L),ae=this._readableState;return R==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):R==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,u("on readable",ae.length,ae.reading),ae.length?at(this):ae.reading||e.nextTick(ge,this)),oe},fe.prototype.addListener=fe.prototype.on,fe.prototype.removeListener=function(R,L){const oe=P.prototype.removeListener.call(this,R,L);return R==="readable"&&e.nextTick(X,this),oe},fe.prototype.off=fe.prototype.removeListener,fe.prototype.removeAllListeners=function(R){const L=P.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(X,this),L};function X(R){const L=R._readableState;L.readableListening=R.listenerCount("readable")>0,L.resumeScheduled&&L[Z]===!1?L.flowing=!0:R.listenerCount("data")>0?R.resume():L.readableListening||(L.flowing=null)}function ge(R){u("readable nexttick read 0"),R.read(0)}fe.prototype.resume=function(){const R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,we(this,R)),R[Z]=!1,this};function we(R,L){L.resumeScheduled||(L.resumeScheduled=!0,e.nextTick(ve,R,L))}function ve(R,L){u("resume",L.reading),L.reading||R.read(0),L.resumeScheduled=!1,R.emit("resume"),pe(R),L.flowing&&!L.reading&&R.read(0)}fe.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Z]=!0,this};function pe(R){const L=R._readableState;for(u("flow",L.flowing);L.flowing&&R.read()!==null;);}fe.prototype.wrap=function(R){let L=!1;R.on("data",ae=>{!this.push(ae)&&R.pause&&(L=!0,R.pause())}),R.on("end",()=>{this.push(null)}),R.on("error",ae=>{D(this,ae)}),R.on("close",()=>{this.destroy()}),R.on("destroy",()=>{this.destroy()}),this._read=()=>{L&&R.resume&&(L=!1,R.resume())};const oe=a(R);for(let ae=1;ae<oe.length;ae++){const se=oe[ae];this[se]===void 0&&typeof R[se]=="function"&&(this[se]=R[se].bind(R))}return this},fe.prototype[T]=function(){return Qe(this)},fe.prototype.iterator=function(R){return R!==void 0&&H(R,"options"),Qe(this,R)};function Qe(R,L){typeof R.read!="function"&&(R=fe.wrap(R,{objectMode:!0}));const oe=st(R,L);return oe.stream=R,oe}async function*st(R,L){let oe=U;function ae($e){this===R?(oe(),oe=U):oe=$e}R.on("readable",ae);let se;const Be=h(R,{writable:!1},$e=>{se=$e?Y(se,$e):null,oe(),oe=U});try{for(;;){const $e=R.destroyed?null:R.read();if($e!==null)yield $e;else{if(se)throw se;if(se===null)return;await new s(ae)}}}catch($e){throw se=Y(se,$e),se}finally{(se||(L==null?void 0:L.destroyOnReturn)!==!1)&&(se===void 0||R._readableState.autoDestroy)?b.destroyer(R,null):(R.off("readable",ae),Be())}}o(fe.prototype,{readable:{__proto__:null,get(){const R=this._readableState;return!!R&&R.readable!==!1&&!R.destroyed&&!R.errorEmitted&&!R.endEmitted},set(R){this._readableState&&(this._readableState.readable=!!R)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(R){this._readableState&&(this._readableState.destroyed=R)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(me.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Z]!==!1},set(R){this[Z]=!!R}}}),fe._fromList=ke;function ke(R,L){if(L.length===0)return null;let oe;return L.objectMode?oe=L.buffer.shift():!R||R>=L.length?(L.decoder?oe=L.buffer.join(""):L.buffer.length===1?oe=L.buffer.first():oe=L.buffer.concat(L.length),L.buffer.clear()):oe=L.buffer.consume(R,L.decoder),oe}function Ge(R){const L=R._readableState;u("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,e.nextTick(Pt,L,R))}function Pt(R,L){if(u("endReadableNT",R.endEmitted,R.length),!R.errored&&!R.closeEmitted&&!R.endEmitted&&R.length===0){if(R.endEmitted=!0,L.emit("end"),L.writable&&L.allowHalfOpen===!1)e.nextTick(ct,L);else if(R.autoDestroy){const oe=L._writableState;(!oe||oe.autoDestroy&&(oe.finished||oe.writable===!1))&&L.destroy()}}}function ct(R){R.writable&&!R.writableEnded&&!R.destroyed&&R.end()}fe.from=function(R,L){return G(fe,R,L)};let We;function Bt(){return We===void 0&&(We={}),We}return fe.fromWeb=function(R,L){return Bt().newStreamReadableFromReadableStream(R,L)},fe.toWeb=function(R,L){return Bt().newReadableStreamFromStreamReadable(R,L)},fe.wrap=function(R,L){var oe,ae;return new fe({objectMode:(oe=(ae=R.readableObjectMode)!==null&&ae!==void 0?ae:R.objectMode)!==null&&oe!==void 0?oe:!0,...L,destroy(se,Be){b.destroyer(R,se),Be(se)}}).wrap(R)},Wi}var Hi,Cs;function ca(){if(Cs)return Hi;Cs=1;const e=lr(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:f,Symbol:s,SymbolHasInstance:l}=Ne;Hi=H,H.WritableState=B;const{EventEmitter:S}=Xt,T=ua.Stream,{Buffer:w}=_t,d=Mr,{addAbortSignal:P}=xn,{getHighWaterMark:I,getDefaultHighWaterMark:y}=Dn,{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:h,ERR_MULTIPLE_CALLBACK:u,ERR_STREAM_CANNOT_PIPE:c,ERR_STREAM_DESTROYED:b,ERR_STREAM_ALREADY_FINISHED:$,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:Y,ERR_UNKNOWN_ENCODING:z}=ot.codes,{errorOrDestroy:ne}=d;a(H.prototype,T.prototype),a(H,T);function ie(){}const m=s("kOnFinished");function B(p,_,j){typeof j!="boolean"&&(j=_ instanceof $t()),this.objectMode=!!(p&&p.objectMode),j&&(this.objectMode=this.objectMode||!!(p&&p.writableObjectMode)),this.highWaterMark=p?I(this,p,"writableHighWaterMark",j):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Q=!!(p&&p.decodeStrings===!1);this.decodeStrings=!Q,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,_),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!p||p.emitClose!==!1,this.autoDestroy=!p||p.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[m]=[]}function N(p){p.buffered=[],p.bufferedIndex=0,p.allBuffers=!0,p.allNoop=!0}B.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(B.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function H(p){const _=this instanceof $t();if(!_&&!n(H,this))return new H(p);this._writableState=new B(p,this,_),p&&(typeof p.write=="function"&&(this._write=p.write),typeof p.writev=="function"&&(this._writev=p.writev),typeof p.destroy=="function"&&(this._destroy=p.destroy),typeof p.final=="function"&&(this._final=p.final),typeof p.construct=="function"&&(this._construct=p.construct),p.signal&&P(p.signal,this)),T.call(this,p),d.construct(this,()=>{const j=this._writableState;j.writing||M(this,j),W(this,j)})}i(H,l,{__proto__:null,value:function(p){return n(this,p)?!0:this!==H?!1:p&&p._writableState instanceof B}}),H.prototype.pipe=function(){ne(this,new c)};function Z(p,_,j,Q){const re=p._writableState;if(typeof j=="function")Q=j,j=re.defaultEncoding;else{if(!j)j=re.defaultEncoding;else if(j!=="buffer"&&!w.isEncoding(j))throw new z(j);typeof Q!="function"&&(Q=ie)}if(_===null)throw new C;if(!re.objectMode)if(typeof _=="string")re.decodeStrings!==!1&&(_=w.from(_,j),j="buffer");else if(_ instanceof w)j="buffer";else if(T._isUint8Array(_))_=T._uint8ArrayToBuffer(_),j="buffer";else throw new A("chunk",["string","Buffer","Uint8Array"],_);let le;return re.ending?le=new Y:re.destroyed&&(le=new b("write")),le?(e.nextTick(Q,le),ne(p,le,!0),le):(re.pendingcb++,q(p,re,_,j,Q))}H.prototype.write=function(p,_,j){return Z(this,p,_,j)===!0},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){const p=this._writableState;p.corked&&(p.corked--,p.writing||M(this,p))},H.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=f(_)),!w.isEncoding(_))throw new z(_);return this._writableState.defaultEncoding=_,this};function q(p,_,j,Q,re){const le=_.objectMode?1:j.length;_.length+=le;const J=_.length<_.highWaterMark;return J||(_.needDrain=!0),_.writing||_.corked||_.errored||!_.constructed?(_.buffered.push({chunk:j,encoding:Q,callback:re}),_.allBuffers&&Q!=="buffer"&&(_.allBuffers=!1),_.allNoop&&re!==ie&&(_.allNoop=!1)):(_.writelen=le,_.writecb=re,_.writing=!0,_.sync=!0,p._write(j,Q,_.onwrite),_.sync=!1),J&&!_.errored&&!_.destroyed}function G(p,_,j,Q,re,le,J){_.writelen=Q,_.writecb=J,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new b("write")):j?p._writev(re,_.onwrite):p._write(re,le,_.onwrite),_.sync=!1}function U(p,_,j,Q){--_.pendingcb,Q(j),v(_),ne(p,j)}function D(p,_){const j=p._writableState,Q=j.sync,re=j.writecb;if(typeof re!="function"){ne(p,new u);return}j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,_?(_.stack,j.errored||(j.errored=_),p._readableState&&!p._readableState.errored&&(p._readableState.errored=_),Q?e.nextTick(U,p,j,_,re):U(p,j,_,re)):(j.buffered.length>j.bufferedIndex&&M(p,j),Q?j.afterWriteTickInfo!==null&&j.afterWriteTickInfo.cb===re?j.afterWriteTickInfo.count++:(j.afterWriteTickInfo={count:1,cb:re,stream:p,state:j},e.nextTick(F,j.afterWriteTickInfo)):ee(p,j,1,re))}function F({stream:p,state:_,count:j,cb:Q}){return _.afterWriteTickInfo=null,ee(p,_,j,Q)}function ee(p,_,j,Q){for(!_.ending&&!p.destroyed&&_.length===0&&_.needDrain&&(_.needDrain=!1,p.emit("drain"));j-- >0;)_.pendingcb--,Q();_.destroyed&&v(_),W(p,_)}function v(p){if(p.writing)return;for(let re=p.bufferedIndex;re<p.buffered.length;++re){var _;const{chunk:le,callback:J}=p.buffered[re],de=p.objectMode?1:le.length;p.length-=de,J((_=p.errored)!==null&&_!==void 0?_:new b("write"))}const j=p[m].splice(0);for(let re=0;re<j.length;re++){var Q;j[re]((Q=p.errored)!==null&&Q!==void 0?Q:new b("end"))}N(p)}function M(p,_){if(_.corked||_.bufferProcessing||_.destroyed||!_.constructed)return;const{buffered:j,bufferedIndex:Q,objectMode:re}=_,le=j.length-Q;if(!le)return;let J=Q;if(_.bufferProcessing=!0,le>1&&p._writev){_.pendingcb-=le-1;const de=_.allNoop?ie:fe=>{for(let Ee=J;Ee<j.length;++Ee)j[Ee].callback(fe)},me=_.allNoop&&J===0?j:t(j,J);me.allBuffers=_.allBuffers,G(p,_,!0,_.length,me,"",de),N(_)}else{do{const{chunk:de,encoding:me,callback:fe}=j[J];j[J++]=null;const Ee=re?1:de.length;G(p,_,!1,Ee,de,me,fe)}while(J<j.length&&!_.writing);J===j.length?N(_):J>256?(j.splice(0,J),_.bufferedIndex=0):_.bufferedIndex=J}_.bufferProcessing=!1}H.prototype._write=function(p,_,j){if(this._writev)this._writev([{chunk:p,encoding:_}],j);else throw new h("_write()")},H.prototype._writev=null,H.prototype.end=function(p,_,j){const Q=this._writableState;typeof p=="function"?(j=p,p=null,_=null):typeof _=="function"&&(j=_,_=null);let re;if(p!=null){const le=Z(this,p,_);le instanceof r&&(re=le)}return Q.corked&&(Q.corked=1,this.uncork()),re||(!Q.errored&&!Q.ending?(Q.ending=!0,W(this,Q,!0),Q.ended=!0):Q.finished?re=new $("end"):Q.destroyed&&(re=new b("end"))),typeof j=="function"&&(re||Q.finished?e.nextTick(j,re):Q[m].push(j)),this};function k(p){return p.ending&&!p.destroyed&&p.constructed&&p.length===0&&!p.errored&&p.buffered.length===0&&!p.finished&&!p.writing&&!p.errorEmitted&&!p.closeEmitted}function O(p,_){let j=!1;function Q(re){if(j){ne(p,re??u());return}if(j=!0,_.pendingcb--,re){const le=_[m].splice(0);for(let J=0;J<le.length;J++)le[J](re);ne(p,re,_.sync)}else k(_)&&(_.prefinished=!0,p.emit("prefinish"),_.pendingcb++,e.nextTick(V,p,_))}_.sync=!0,_.pendingcb++;try{p._final(Q)}catch(re){Q(re)}_.sync=!1}function x(p,_){!_.prefinished&&!_.finalCalled&&(typeof p._final=="function"&&!_.destroyed?(_.finalCalled=!0,O(p,_)):(_.prefinished=!0,p.emit("prefinish")))}function W(p,_,j){k(_)&&(x(p,_),_.pendingcb===0&&(j?(_.pendingcb++,e.nextTick((Q,re)=>{k(re)?V(Q,re):re.pendingcb--},p,_)):k(_)&&(_.pendingcb++,V(p,_))))}function V(p,_){_.pendingcb--,_.finished=!0;const j=_[m].splice(0);for(let Q=0;Q<j.length;Q++)j[Q]();if(p.emit("finish"),_.autoDestroy){const Q=p._readableState;(!Q||Q.autoDestroy&&(Q.endEmitted||Q.readable===!1))&&p.destroy()}}o(H.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(p){this._writableState&&(this._writableState.destroyed=p)}},writable:{__proto__:null,get(){const p=this._writableState;return!!p&&p.writable!==!1&&!p.destroyed&&!p.errored&&!p.ending&&!p.ended},set(p){this._writableState&&(this._writableState.writable=!!p)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const p=this._writableState;return p?!p.destroyed&&!p.ending&&p.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const te=d.destroy;H.prototype.destroy=function(p,_){const j=this._writableState;return!j.destroyed&&(j.bufferedIndex<j.buffered.length||j[m].length)&&e.nextTick(v,j),te.call(this,p,_),this},H.prototype._undestroy=d.undestroy,H.prototype._destroy=function(p,_){_(p)},H.prototype[S.captureRejectionSymbol]=function(p){this.destroy(p)};let g;function E(){return g===void 0&&(g={}),g}return H.fromWeb=function(p,_){return E().newStreamWritableFromWritableStream(p,_)},H.toWeb=function(p){return E().newWritableStreamFromStreamWritable(p)},Hi}var Fi,Ns;function Cp(){if(Ns)return Fi;Ns=1;const e=lr(),t=_t,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:f,isDuplexNodeStream:s,isReadableStream:l,isWritableStream:S}=Ht,T=Qt,{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:P}}=ot,{destroyer:I}=Mr,y=$t(),A=kn(),h=ca(),{createDeferredPromise:u}=et,c=Nl,b=globalThis.Blob||t.Blob,$=typeof b<"u"?function(B){return B instanceof b}:function(B){return!1},C=globalThis.AbortController||Kr().AbortController,{FunctionPrototypeCall:Y}=Ne;class z extends y{constructor(B){super(B),(B==null?void 0:B.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(B==null?void 0:B.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Fi=function m(B,N){if(s(B))return B;if(a(B))return ie({readable:B});if(f(B))return ie({writable:B});if(o(B))return ie({writable:!1,readable:!1});if(l(B))return ie({readable:A.fromWeb(B)});if(S(B))return ie({writable:h.fromWeb(B)});if(typeof B=="function"){const{value:Z,write:q,final:G,destroy:U}=ne(B);if(i(Z))return c(z,Z,{objectMode:!0,write:q,final:G,destroy:U});const D=Z==null?void 0:Z.then;if(typeof D=="function"){let F;const ee=Y(D,Z,v=>{if(v!=null)throw new P("nully","body",v)},v=>{I(F,v)});return F=new z({objectMode:!0,readable:!1,write:q,final(v){G(async()=>{try{await ee,e.nextTick(v,null)}catch(M){e.nextTick(v,M)}})},destroy:U})}throw new P("Iterable, AsyncIterable or AsyncFunction",N,Z)}if($(B))return m(B.arrayBuffer());if(i(B))return c(z,B,{objectMode:!0,writable:!1});if(l(B==null?void 0:B.readable)&&S(B==null?void 0:B.writable))return z.fromWeb(B);if(typeof(B==null?void 0:B.writable)=="object"||typeof(B==null?void 0:B.readable)=="object"){const Z=B!=null&&B.readable?a(B==null?void 0:B.readable)?B==null?void 0:B.readable:m(B.readable):void 0,q=B!=null&&B.writable?f(B==null?void 0:B.writable)?B==null?void 0:B.writable:m(B.writable):void 0;return ie({readable:Z,writable:q})}const H=B==null?void 0:B.then;if(typeof H=="function"){let Z;return Y(H,B,q=>{q!=null&&Z.push(q),Z.push(null)},q=>{I(Z,q)}),Z=new z({objectMode:!0,writable:!1,read(){}})}throw new d(N,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)};function ne(m){let{promise:B,resolve:N}=u();const H=new C,Z=H.signal;return{value:m(async function*(){for(;;){const G=B;B=null;const{chunk:U,done:D,cb:F}=await G;if(e.nextTick(F),D)return;if(Z.aborted)throw new w(void 0,{cause:Z.reason});({promise:B,resolve:N}=u()),yield U}}(),{signal:Z}),write(G,U,D){const F=N;N=null,F({chunk:G,done:!1,cb:D})},final(G){const U=N;N=null,U({done:!0,cb:G})},destroy(G,U){H.abort(),U(G)}}}function ie(m){const B=m.readable&&typeof m.readable.read!="function"?A.wrap(m.readable):m.readable,N=m.writable;let H=!!r(B),Z=!!n(N),q,G,U,D,F;function ee(v){const M=D;D=null,M?M(v):v&&F.destroy(v)}return F=new z({readableObjectMode:!!(B!=null&&B.readableObjectMode),writableObjectMode:!!(N!=null&&N.writableObjectMode),readable:H,writable:Z}),Z&&(T(N,v=>{Z=!1,v&&I(B,v),ee(v)}),F._write=function(v,M,k){N.write(v,M)?k():q=k},F._final=function(v){N.end(),G=v},N.on("drain",function(){if(q){const v=q;q=null,v()}}),N.on("finish",function(){if(G){const v=G;G=null,v()}})),H&&(T(B,v=>{H=!1,v&&I(B,v),ee(v)}),B.on("readable",function(){if(U){const v=U;U=null,v()}}),B.on("end",function(){F.push(null)}),F._read=function(){for(;;){const v=B.read();if(v===null){U=F._read;return}if(!F.push(v))return}}),F._destroy=function(v,M){!v&&D!==null&&(v=new w),U=null,q=null,G=null,D===null?M(v):(D=M,I(N,v),I(B,v))},F}return Fi}var qi,Ms;function $t(){if(Ms)return qi;Ms=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ne;qi=a;const i=kn(),o=ca();n(a.prototype,i.prototype),n(a,i);{const S=r(o.prototype);for(let T=0;T<S.length;T++){const w=S[T];a.prototype[w]||(a.prototype[w]=o.prototype[w])}}function a(S){if(!(this instanceof a))return new a(S);i.call(this,S),o.call(this,S),S?(this.allowHalfOpen=S.allowHalfOpen!==!1,S.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),S.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(S){this._readableState&&this._writableState&&(this._readableState.destroyed=S,this._writableState.destroyed=S)}}});let f;function s(){return f===void 0&&(f={}),f}a.fromWeb=function(S,T){return s().newStreamDuplexFromReadableWritablePair(S,T)},a.toWeb=function(S){return s().newReadableWritablePairFromDuplex(S)};let l;return a.from=function(S){return l||(l=Cp()),l(S,"body")},qi}const{ObjectSetPrototypeOf:Ml,Symbol:Np}=Ne;var xl=jt;const{ERR_METHOD_NOT_IMPLEMENTED:Mp}=ot.codes,da=$t(),{getHighWaterMark:xp}=Dn;Ml(jt.prototype,da.prototype);Ml(jt,da);const Vr=Np("kCallback");function jt(e){if(!(this instanceof jt))return new jt(e);const t=e?xp(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),da.call(this,e),this._readableState.sync=!1,this[Vr]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Dp)}function jo(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Dp(){this._final!==jo&&jo.call(this)}jt.prototype._final=jo;jt.prototype._transform=function(e,t,r){throw new Mp("_transform()")};jt.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(a,f)=>{if(a){r(a);return}f!=null&&this.push(f),i.ended||o===n.length||n.length<n.highWaterMark?r():this[Vr]=r})};jt.prototype._read=function(){if(this[Vr]){const e=this[Vr];this[Vr]=null,e()}};const{ObjectSetPrototypeOf:Dl}=Ne;var kl=Or;const ha=xl;Dl(Or.prototype,ha.prototype);Dl(Or,ha);function Or(e){if(!(this instanceof Or))return new Or(e);ha.call(this,e)}Or.prototype._transform=function(e,t,r){r(null,e)};const Hr=lr(),{ArrayIsArray:kp,Promise:$p,SymbolAsyncIterator:jp,SymbolDispose:Up}=Ne,_n=Qt,{once:Wp}=et,Hp=Mr,xs=$t(),{aggregateTwoErrors:Fp,codes:{ERR_INVALID_ARG_TYPE:Uo,ERR_INVALID_RETURN_VALUE:Vi,ERR_MISSING_ARGS:qp,ERR_STREAM_DESTROYED:Vp,ERR_STREAM_PREMATURE_CLOSE:Gp},AbortError:zp}=ot,{validateFunction:Kp,validateAbortSignal:Yp}=en,{isIterable:nr,isReadable:Gi,isReadableNodeStream:pn,isNodeStream:Ds,isTransformStream:vr,isWebStream:Zp,isReadableStream:zi,isReadableFinished:Jp}=Ht,Xp=globalThis.AbortController||Kr().AbortController;let Ki,Yi,Zi;function ks(e,t,r){let n=!1;e.on("close",()=>{n=!0});const i=_n(e,{readable:t,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,Hp.destroyer(e,o||new Vp("pipe")))},cleanup:i}}function Qp(e){return Kp(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Ji(e){if(nr(e))return e;if(pn(e))return ey(e);throw new Uo("val",["Readable","Iterable","AsyncIterable"],e)}async function*ey(e){Yi||(Yi=kn()),yield*Yi.prototype[jp].call(e)}async function an(e,t,r,{end:n}){let i,o=null;const a=l=>{if(l&&(i=l),o){const S=o;o=null,S()}},f=()=>new $p((l,S)=>{i?S(i):o=()=>{i?S(i):l()}});t.on("drain",a);const s=_n(t,{readable:!1},a);try{t.writableNeedDrain&&await f();for await(const l of e)t.write(l)||await f();n&&(t.end(),await f()),r()}catch(l){r(i!==l?Fp(i,l):l)}finally{s(),t.off("drain",a)}}async function Xi(e,t,r,{end:n}){vr(t)&&(t=t.writable);const i=t.getWriter();try{for await(const o of e)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(a){r(a)}}}function ty(...e){return $l(e,Wp(Qp(e)))}function $l(e,t,r){if(e.length===1&&kp(e[0])&&(e=e[0]),e.length<2)throw new qp("streams");const n=new Xp,i=n.signal,o=r==null?void 0:r.signal,a=[];Yp(o,"options.signal");function f(){P(new zp)}Zi=Zi||et.addAbortListener;let s;o&&(s=Zi(o,f));let l,S;const T=[];let w=0;function d(h){P(h,--w===0)}function P(h,u){var c;if(h&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=h),!(!l&&!u)){for(;T.length;)T.shift()(l);(c=s)===null||c===void 0||c[Up](),n.abort(),u&&(l||a.forEach(b=>b()),Hr.nextTick(t,l,S))}}let I;for(let h=0;h<e.length;h++){const u=e[h],c=h<e.length-1,b=h>0,$=c||(r==null?void 0:r.end)!==!1,C=h===e.length-1;if(Ds(u)){let Y=function(z){z&&z.name!=="AbortError"&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"&&d(z)};if($){const{destroy:z,cleanup:ne}=ks(u,c,b);T.push(z),Gi(u)&&C&&a.push(ne)}u.on("error",Y),Gi(u)&&C&&a.push(()=>{u.removeListener("error",Y)})}if(h===0)if(typeof u=="function"){if(I=u({signal:i}),!nr(I))throw new Vi("Iterable, AsyncIterable or Stream","source",I)}else nr(u)||pn(u)||vr(u)?I=u:I=xs.from(u);else if(typeof u=="function"){if(vr(I)){var y;I=Ji((y=I)===null||y===void 0?void 0:y.readable)}else I=Ji(I);if(I=u(I,{signal:i}),c){if(!nr(I,!0))throw new Vi("AsyncIterable",`transform[${h-1}]`,I)}else{var A;Ki||(Ki=kl);const Y=new Ki({objectMode:!0}),z=(A=I)===null||A===void 0?void 0:A.then;if(typeof z=="function")w++,z.call(I,m=>{S=m,m!=null&&Y.write(m),$&&Y.end(),Hr.nextTick(d)},m=>{Y.destroy(m),Hr.nextTick(d,m)});else if(nr(I,!0))w++,an(I,Y,d,{end:$});else if(zi(I)||vr(I)){const m=I.readable||I;w++,an(m,Y,d,{end:$})}else throw new Vi("AsyncIterable or Promise","destination",I);I=Y;const{destroy:ne,cleanup:ie}=ks(I,!1,!0);T.push(ne),C&&a.push(ie)}}else if(Ds(u)){if(pn(I)){w+=2;const Y=ry(I,u,d,{end:$});Gi(u)&&C&&a.push(Y)}else if(vr(I)||zi(I)){const Y=I.readable||I;w++,an(Y,u,d,{end:$})}else if(nr(I))w++,an(I,u,d,{end:$});else throw new Uo("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);I=u}else if(Zp(u)){if(pn(I))w++,Xi(Ji(I),u,d,{end:$});else if(zi(I)||nr(I))w++,Xi(I,u,d,{end:$});else if(vr(I))w++,Xi(I.readable,u,d,{end:$});else throw new Uo("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);I=u}else I=xs.from(u)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&Hr.nextTick(f),I}function ry(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new Gp)}),e.pipe(t,{end:!1}),n){let o=function(){i=!0,t.end()};Jp(e)?Hr.nextTick(o):e.once("end",o)}else r();return _n(e,{readable:!0,writable:!1},o=>{const a=e._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(o)}),_n(t,{readable:!1,writable:!0},r)}var pa={pipelineImpl:$l,pipeline:ty};const{pipeline:ny}=pa,sn=$t(),{destroyer:iy}=Mr,{isNodeStream:fn,isReadable:$s,isWritable:js,isWebStream:Qi,isTransformStream:tr,isWritableStream:Us,isReadableStream:Ws}=Ht,{AbortError:oy,codes:{ERR_INVALID_ARG_VALUE:Hs,ERR_MISSING_ARGS:ay}}=ot,sy=Qt;var jl=function(...t){if(t.length===0)throw new ay("streams");if(t.length===1)return sn.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=sn.from(t[0])),typeof t[t.length-1]=="function"){const d=t.length-1;t[d]=sn.from(t[d])}for(let d=0;d<t.length;++d)if(!(!fn(t[d])&&!Qi(t[d]))){if(d<t.length-1&&!($s(t[d])||Ws(t[d])||tr(t[d])))throw new Hs(`streams[${d}]`,r[d],"must be readable");if(d>0&&!(js(t[d])||Us(t[d])||tr(t[d])))throw new Hs(`streams[${d}]`,r[d],"must be writable")}let n,i,o,a,f;function s(d){const P=a;a=null,P?P(d):d?f.destroy(d):!w&&!T&&f.destroy()}const l=t[0],S=ny(t,s),T=!!(js(l)||Us(l)||tr(l)),w=!!($s(S)||Ws(S)||tr(S));if(f=new sn({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(S!=null&&S.readableObjectMode),writable:T,readable:w}),T){if(fn(l))f._write=function(P,I,y){l.write(P,I)?y():n=y},f._final=function(P){l.end(),i=P},l.on("drain",function(){if(n){const P=n;n=null,P()}});else if(Qi(l)){const I=(tr(l)?l.writable:l).getWriter();f._write=async function(y,A,h){try{await I.ready,I.write(y).catch(()=>{}),h()}catch(u){h(u)}},f._final=async function(y){try{await I.ready,I.close().catch(()=>{}),i=y}catch(A){y(A)}}}const d=tr(S)?S.readable:S;sy(d,()=>{if(i){const P=i;i=null,P()}})}if(w){if(fn(S))S.on("readable",function(){if(o){const d=o;o=null,d()}}),S.on("end",function(){f.push(null)}),f._read=function(){for(;;){const d=S.read();if(d===null){o=f._read;return}if(!f.push(d))return}};else if(Qi(S)){const P=(tr(S)?S.readable:S).getReader();f._read=async function(){for(;;)try{const{value:I,done:y}=await P.read();if(!f.push(I))return;if(y){f.push(null);return}}catch{return}}}}return f._destroy=function(d,P){!d&&a!==null&&(d=new oy),o=null,n=null,i=null,a===null?P(d):(a=P,fn(S)&&iy(S,d))},f};const fy=globalThis.AbortController||Kr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ly,ERR_INVALID_ARG_TYPE:tn,ERR_MISSING_ARGS:uy,ERR_OUT_OF_RANGE:cy},AbortError:Ot}=ot,{validateAbortSignal:cr,validateInteger:Fs,validateObject:dr}=en,dy=Ne.Symbol("kWeak"),hy=Ne.Symbol("kResistStopPropagation"),{finished:py}=Qt,yy=jl,{addAbortSignalNoValidate:gy}=xn,{isWritable:by,isNodeStream:wy}=Ht,{deprecate:my}=et,{ArrayPrototypePush:_y,Boolean:vy,MathFloor:qs,Number:Sy,NumberIsNaN:Ey,Promise:Vs,PromiseReject:Gs,PromiseResolve:Ay,PromisePrototypeThen:zs,Symbol:Ul}=Ne,vn=Ul("kEmpty"),Ks=Ul("kEof");function Ry(e,t){if(t!=null&&dr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal"),wy(e)&&!by(e))throw new ly("stream",e,"must be writable");const r=yy(this,e);return t!=null&&t.signal&&gy(t.signal,r),r}function $n(e,t){if(typeof e!="function")throw new tn("fn",["Function","AsyncFunction"],e);t!=null&&dr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=qs(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=qs(t.highWaterMark)),Fs(r,"options.concurrency",1),Fs(n,"options.highWaterMark",0),n+=r,(async function*(){const o=et.AbortSignalAny([t==null?void 0:t.signal].filter(vy)),a=this,f=[],s={signal:o};let l,S,T=!1,w=0;function d(){T=!0,P()}function P(){w-=1,I()}function I(){S&&!T&&w<r&&f.length<n&&(S(),S=null)}async function y(){try{for await(let A of a){if(T)return;if(o.aborted)throw new Ot;try{if(A=e(A,s),A===vn)continue;A=Ay(A)}catch(h){A=Gs(h)}w+=1,zs(A,P,d),f.push(A),l&&(l(),l=null),!T&&(f.length>=n||w>=r)&&await new Vs(h=>{S=h})}f.push(Ks)}catch(A){const h=Gs(A);zs(h,P,d),f.push(h)}finally{T=!0,l&&(l(),l=null)}}y();try{for(;;){for(;f.length>0;){const A=await f[0];if(A===Ks)return;if(o.aborted)throw new Ot;A!==vn&&(yield A),f.shift(),I()}await new Vs(A=>{l=A})}}finally{T=!0,S&&(S(),S=null)}}).call(this)}function Ty(e=void 0){return e!=null&&dr(e,"options"),(e==null?void 0:e.signal)!=null&&cr(e.signal,"options.signal"),(async function*(){let r=0;for await(const i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ot({cause:e.signal.reason});yield[r++,i]}}).call(this)}async function Wl(e,t=void 0){for await(const r of ya.call(this,e,t))return!0;return!1}async function Oy(e,t=void 0){if(typeof e!="function")throw new tn("fn",["Function","AsyncFunction"],e);return!await Wl.call(this,async(...r)=>!await e(...r),t)}async function Iy(e,t){for await(const r of ya.call(this,e,t))return r}async function Py(e,t){if(typeof e!="function")throw new tn("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),vn}for await(const n of $n.call(this,r,t));}function ya(e,t){if(typeof e!="function")throw new tn("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:vn}return $n.call(this,r,t)}class By extends uy{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Ly(e,t,r){var n;if(typeof e!="function")throw new tn("reducer",["Function","AsyncFunction"],e);r!=null&&dr(r,"options"),(r==null?void 0:r.signal)!=null&&cr(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const l=new Ot(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await py(this.destroy(l)),l}const o=new fy,a=o.signal;if(r!=null&&r.signal){const l={once:!0,[dy]:this,[hy]:!0};r.signal.addEventListener("abort",()=>o.abort(),l)}let f=!1;try{for await(const l of this){var s;if(f=!0,r!=null&&(s=r.signal)!==null&&s!==void 0&&s.aborted)throw new Ot;i?t=await e(t,l,{signal:a}):(t=l,i=!0)}if(!f&&!i)throw new By}finally{o.abort()}return t}async function Cy(e){e!=null&&dr(e,"options"),(e==null?void 0:e.signal)!=null&&cr(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ot(void 0,{cause:e.signal.reason});_y(t,n)}return t}function Ny(e,t){const r=$n.call(this,e,t);return(async function*(){for await(const i of r)yield*i}).call(this)}function Hl(e){if(e=Sy(e),Ey(e))return 0;if(e<0)throw new cy("number",">= 0",e);return e}function My(e,t=void 0){return t!=null&&dr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal"),e=Hl(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ot;for await(const o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Ot;e--<=0&&(yield o)}}).call(this)}function xy(e,t=void 0){return t!=null&&dr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal"),e=Hl(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ot;for await(const o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Ot;if(e-- >0&&(yield o),e<=0)return}}).call(this)}oa.streamReturningOperators={asIndexedPairs:my(Ty,"readable.asIndexedPairs will be removed in a future version."),drop:My,filter:ya,flatMap:Ny,map:$n,take:xy,compose:Ry};oa.promiseReturningOperators={every:Oy,forEach:Py,reduce:Ly,toArray:Cy,some:Wl,find:Iy};var eo,Ys;function Fl(){if(Ys)return eo;Ys=1;const{ArrayPrototypePop:e,Promise:t}=Ne,{isIterable:r,isNodeStream:n,isWebStream:i}=Ht,{pipelineImpl:o}=pa,{finished:a}=Qt;ql();function f(...s){return new t((l,S)=>{let T,w;const d=s[s.length-1];if(d&&typeof d=="object"&&!n(d)&&!r(d)&&!i(d)){const P=e(s);T=P.signal,w=P.end}o(s,(P,I)=>{P?S(P):l(I)},{signal:T,end:w})})}return eo={finished:a,pipeline:f},eo}var Zs;function ql(){if(Zs)return ki.exports;Zs=1;const{Buffer:e}=_t,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ne,{promisify:{custom:i}}=et,{streamReturningOperators:o,promiseReturningOperators:a}=oa,{codes:{ERR_ILLEGAL_CONSTRUCTOR:f}}=ot,s=jl,{setDefaultHighWaterMark:l,getDefaultHighWaterMark:S}=Dn,{pipeline:T}=pa,{destroyer:w}=Mr,d=Qt,P=Fl(),I=Ht,y=ki.exports=ua.Stream;y.isDestroyed=I.isDestroyed,y.isDisturbed=I.isDisturbed,y.isErrored=I.isErrored,y.isReadable=I.isReadable,y.isWritable=I.isWritable,y.Readable=kn();for(const h of r(o)){let c=function(...b){if(new.target)throw f();return y.Readable.from(n(u,this,b))};const u=o[h];t(c,"name",{__proto__:null,value:u.name}),t(c,"length",{__proto__:null,value:u.length}),t(y.Readable.prototype,h,{__proto__:null,value:c,enumerable:!1,configurable:!0,writable:!0})}for(const h of r(a)){let c=function(...b){if(new.target)throw f();return n(u,this,b)};const u=a[h];t(c,"name",{__proto__:null,value:u.name}),t(c,"length",{__proto__:null,value:u.length}),t(y.Readable.prototype,h,{__proto__:null,value:c,enumerable:!1,configurable:!0,writable:!0})}y.Writable=ca(),y.Duplex=$t(),y.Transform=xl,y.PassThrough=kl,y.pipeline=T;const{addAbortSignal:A}=xn;return y.addAbortSignal=A,y.finished=d,y.destroy=w,y.compose=s,y.setDefaultHighWaterMark=l,y.getDefaultHighWaterMark=S,t(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return P}}),t(T,i,{__proto__:null,enumerable:!0,get(){return P.pipeline}}),t(d,i,{__proto__:null,enumerable:!0,get(){return P.finished}}),y.Stream=y,y._isUint8Array=function(u){return u instanceof Uint8Array},y._uint8ArrayToBuffer=function(u){return e.from(u.buffer,u.byteOffset,u.byteLength)},ki.exports}(function(e){const t=ql(),r=Fl(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(Id);var mt={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.EthereumProviderError=Zt.EthereumRpcError=void 0;const Dy=_c;class Vl extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Dy.default(this.serialize(),jy,2)}}Zt.EthereumRpcError=Vl;class ky extends Vl{constructor(t,r,n){if(!$y(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}Zt.EthereumProviderError=ky;function $y(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function jy(e,t){if(t!=="[Circular]")return t}var ga={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.errorValues=Jt.errorCodes=void 0;Jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Jt,r=Zt,n=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:a(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(w,d=i){if(Number.isInteger(w)){const P=w.toString();if(T(t.errorValues,P))return t.errorValues[P].message;if(l(w))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return d}e.getMessageFromCode=a;function f(w){if(!Number.isInteger(w))return!1;const d=w.toString();return!!(t.errorValues[d]||l(w))}e.isValidCode=f;function s(w,{fallbackError:d=o,shouldIncludeStack:P=!1}={}){var I,y;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(w instanceof r.EthereumRpcError)return w.serialize();const A={};if(w&&typeof w=="object"&&!Array.isArray(w)&&T(w,"code")&&f(w.code)){const u=w;A.code=u.code,u.message&&typeof u.message=="string"?(A.message=u.message,T(u,"data")&&(A.data=u.data)):(A.message=a(A.code),A.data={originalError:S(w)})}else{A.code=d.code;const u=(I=w)===null||I===void 0?void 0:I.message;A.message=u&&typeof u=="string"?u:d.message,A.data={originalError:S(w)}}const h=(y=w)===null||y===void 0?void 0:y.stack;return P&&w&&h&&typeof h=="string"&&(A.stack=h),A}e.serializeError=s;function l(w){return w>=-32099&&w<=-32e3}function S(w){return w&&typeof w=="object"&&!Array.isArray(w)?Object.assign({},w):w}function T(w,d){return Object.prototype.hasOwnProperty.call(w,d)}})(ga);var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.ethErrors=void 0;const ba=Zt,Gl=ga,Ke=Jt;jn.ethErrors={rpc:{parse:e=>dt(Ke.errorCodes.rpc.parse,e),invalidRequest:e=>dt(Ke.errorCodes.rpc.invalidRequest,e),invalidParams:e=>dt(Ke.errorCodes.rpc.invalidParams,e),methodNotFound:e=>dt(Ke.errorCodes.rpc.methodNotFound,e),internal:e=>dt(Ke.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return dt(t,e)},invalidInput:e=>dt(Ke.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>dt(Ke.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>dt(Ke.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>dt(Ke.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>dt(Ke.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>dt(Ke.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Dr(Ke.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Dr(Ke.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Dr(Ke.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Dr(Ke.errorCodes.provider.disconnected,e),chainDisconnected:e=>Dr(Ke.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ba.EthereumProviderError(t,r,n)}}};function dt(e,t){const[r,n]=zl(t);return new ba.EthereumRpcError(e,r||Gl.getMessageFromCode(e),n)}function Dr(e,t){const[r,n]=zl(t);return new ba.EthereumProviderError(e,r||Gl.getMessageFromCode(e),n)}function zl(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Zt;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=ga;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=jn;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Jt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(mt);var Uy=Wy;function Wy(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const Hy=Vf(Uy);var Fy={},Un={},Wn={},Kl={},Ir={},Yt={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.output=Me.exists=Me.hash=Me.bytes=Me.bool=Me.number=Me.isBytes=void 0;function Sn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}Me.number=Sn;function Yl(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}Me.bool=Yl;function Zl(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}Me.isBytes=Zl;function wa(e,...t){if(!Zl(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}Me.bytes=wa;function Jl(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Sn(e.outputLen),Sn(e.blockLen)}Me.hash=Jl;function Xl(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Me.exists=Xl;function Ql(e,t){wa(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Me.output=Ql;const qy={number:Sn,bool:Yl,bytes:wa,hash:Jl,exists:Xl,output:Ql};Me.default=qy;var Ut={},Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.crypto=void 0;Hn.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=Hn,r=Me;function n(m){return m instanceof Uint8Array||m!=null&&typeof m=="object"&&m.constructor.name==="Uint8Array"}e.isBytes=n;const i=m=>new Uint8Array(m.buffer,m.byteOffset,m.byteLength);e.u8=i;const o=m=>new Uint32Array(m.buffer,m.byteOffset,Math.floor(m.byteLength/4));e.u32=o;const a=m=>new DataView(m.buffer,m.byteOffset,m.byteLength);e.createView=a;const f=(m,B)=>m<<32-B|m>>>B;e.rotr=f;const s=(m,B)=>m<<B|m>>>32-B>>>0;e.rotl=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const l=m=>m<<24&4278190080|m<<8&16711680|m>>>8&65280|m>>>24&255;e.byteSwap=l,e.byteSwapIfBE=e.isLE?m=>m:m=>(0,e.byteSwap)(m);function S(m){for(let B=0;B<m.length;B++)m[B]=(0,e.byteSwap)(m[B])}e.byteSwap32=S;const T=Array.from({length:256},(m,B)=>B.toString(16).padStart(2,"0"));function w(m){(0,r.bytes)(m);let B="";for(let N=0;N<m.length;N++)B+=T[m[N]];return B}e.bytesToHex=w;const d={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function P(m){if(m>=d._0&&m<=d._9)return m-d._0;if(m>=d._A&&m<=d._F)return m-(d._A-10);if(m>=d._a&&m<=d._f)return m-(d._a-10)}function I(m){if(typeof m!="string")throw new Error("hex string expected, got "+typeof m);const B=m.length,N=B/2;if(B%2)throw new Error("padded hex string expected, got unpadded hex of length "+B);const H=new Uint8Array(N);for(let Z=0,q=0;Z<N;Z++,q+=2){const G=P(m.charCodeAt(q)),U=P(m.charCodeAt(q+1));if(G===void 0||U===void 0){const D=m[q]+m[q+1];throw new Error('hex string expected, got non-hex character "'+D+'" at index '+q)}H[Z]=G*16+U}return H}e.hexToBytes=I;const y=async()=>{};e.nextTick=y;async function A(m,B,N){let H=Date.now();for(let Z=0;Z<m;Z++){N(Z);const q=Date.now()-H;q>=0&&q<B||(await(0,e.nextTick)(),H+=q)}}e.asyncLoop=A;function h(m){if(typeof m!="string")throw new Error(`utf8ToBytes expected string, got ${typeof m}`);return new Uint8Array(new TextEncoder().encode(m))}e.utf8ToBytes=h;function u(m){return typeof m=="string"&&(m=h(m)),(0,r.bytes)(m),m}e.toBytes=u;function c(...m){let B=0;for(let H=0;H<m.length;H++){const Z=m[H];(0,r.bytes)(Z),B+=Z.length}const N=new Uint8Array(B);for(let H=0,Z=0;H<m.length;H++){const q=m[H];N.set(q,Z),Z+=q.length}return N}e.concatBytes=c;class b{clone(){return this._cloneInto()}}e.Hash=b;const $={}.toString;function C(m,B){if(B!==void 0&&$.call(B)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(m,B)}e.checkOpts=C;function Y(m){const B=H=>m().update(u(H)).digest(),N=m();return B.outputLen=N.outputLen,B.blockLen=N.blockLen,B.create=()=>m(),B}e.wrapConstructor=Y;function z(m){const B=(H,Z)=>m(Z).update(u(H)).digest(),N=m({});return B.outputLen=N.outputLen,B.blockLen=N.blockLen,B.create=H=>m(H),B}e.wrapConstructorWithOpts=z;function ne(m){const B=(H,Z)=>m(Z).update(u(H)).digest(),N=m({});return B.outputLen=N.outputLen,B.blockLen=N.blockLen,B.create=H=>m(H),B}e.wrapXOFConstructorWithOpts=ne;function ie(m=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(m));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ie})(Ut);Object.defineProperty(Yt,"__esModule",{value:!0});Yt.HashMD=Yt.Maj=Yt.Chi=void 0;const to=Me,kr=Ut;function Vy(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),f=Number(r&o),s=n?4:0,l=n?0:4;e.setUint32(t+s,a,n),e.setUint32(t+l,f,n)}const Gy=(e,t,r)=>e&t^~e&r;Yt.Chi=Gy;const zy=(e,t,r)=>e&t^e&r^t&r;Yt.Maj=zy;class Ky extends kr.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,kr.createView)(this.buffer)}update(t){(0,to.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,kr.toBytes)(t);const o=t.length;for(let a=0;a<o;){const f=Math.min(i-this.pos,o-a);if(f===i){const s=(0,kr.createView)(t);for(;i<=o-a;a+=i)this.process(s,a);continue}n.set(t.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,to.exists)(this),(0,to.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let T=a;T<i;T++)r[T]=0;Vy(n,i-8,BigInt(this.length*8),o),this.process(n,0);const f=(0,kr.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,S=this.get();if(l>S.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<l;T++)f.setUint32(4*T,S[T],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:f}=this;return t.length=i,t.pos=f,t.finished=o,t.destroyed=a,i%r&&t.buffer.set(n),t}}Yt.HashMD=Ky;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.sha224=Ir.sha256=void 0;const ro=Yt,ht=Ut,Yy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vt=new Uint32Array(64);class eu extends ro.HashMD{constructor(){super(64,32,8,!1),this.A=qt[0]|0,this.B=qt[1]|0,this.C=qt[2]|0,this.D=qt[3]|0,this.E=qt[4]|0,this.F=qt[5]|0,this.G=qt[6]|0,this.H=qt[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:a,G:f,H:s}=this;return[t,r,n,i,o,a,f,s]}set(t,r,n,i,o,a,f,s){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=f|0,this.H=s|0}process(t,r){for(let T=0;T<16;T++,r+=4)Vt[T]=t.getUint32(r,!1);for(let T=16;T<64;T++){const w=Vt[T-15],d=Vt[T-2],P=(0,ht.rotr)(w,7)^(0,ht.rotr)(w,18)^w>>>3,I=(0,ht.rotr)(d,17)^(0,ht.rotr)(d,19)^d>>>10;Vt[T]=I+Vt[T-7]+P+Vt[T-16]|0}let{A:n,B:i,C:o,D:a,E:f,F:s,G:l,H:S}=this;for(let T=0;T<64;T++){const w=(0,ht.rotr)(f,6)^(0,ht.rotr)(f,11)^(0,ht.rotr)(f,25),d=S+w+(0,ro.Chi)(f,s,l)+Yy[T]+Vt[T]|0,I=((0,ht.rotr)(n,2)^(0,ht.rotr)(n,13)^(0,ht.rotr)(n,22))+(0,ro.Maj)(n,i,o)|0;S=l,l=s,s=f,f=a+d|0,a=o,o=i,i=n,n=d+I|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,f=f+this.E|0,s=s+this.F|0,l=l+this.G|0,S=S+this.H|0,this.set(n,i,o,a,f,s,l,S)}roundClean(){Vt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Zy extends eu{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Ir.sha256=(0,ht.wrapConstructor)(()=>new eu);Ir.sha224=(0,ht.wrapConstructor)(()=>new Zy);var Fn={},tu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Me,r=Ut;class n extends r.Hash{constructor(a,f){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(a);const s=(0,r.toBytes)(f);if(this.iHash=a.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,S=new Uint8Array(l);S.set(s.length>l?a.create().update(s).digest():s);for(let T=0;T<S.length;T++)S[T]^=54;this.iHash.update(S),this.oHash=a.create();for(let T=0;T<S.length;T++)S[T]^=106;this.oHash.update(S),S.fill(0)}update(a){return(0,t.exists)(this),this.iHash.update(a),this}digestInto(a){(0,t.exists)(this),(0,t.bytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){const a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));const{oHash:f,iHash:s,finished:l,destroyed:S,blockLen:T,outputLen:w}=this;return a=a,a.finished=l,a.destroyed=S,a.blockLen=T,a.outputLen=w,a.oHash=f._cloneInto(a.oHash),a.iHash=s._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(o,a,f)=>new n(o,a).update(f).digest();e.hmac=i,e.hmac.create=(o,a)=>new n(o,a)})(tu);var ma={},qn={},Oe={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.bitMask=void 0;_e.isBytes=Gn;_e.abytes=zn;_e.bytesToHex=_a;_e.numberToHexUnpadded=nu;_e.hexToNumber=va;_e.hexToBytes=Kn;_e.bytesToNumberBE=Qy;_e.bytesToNumberLE=eg;_e.numberToBytesBE=iu;_e.numberToBytesLE=tg;_e.numberToVarBytesBE=rg;_e.ensureBytes=ng;_e.concatBytes=ou;_e.equalBytes=ig;_e.utf8ToBytes=og;_e.bitLen=ag;_e.bitGet=sg;_e.bitSet=fg;_e.createHmacDrbg=ug;_e.validateObject=dg;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ru=BigInt(0),Vn=BigInt(1),Jy=BigInt(2);function Gn(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function zn(e){if(!Gn(e))throw new Error("Uint8Array expected")}const Xy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _a(e){zn(e);let t="";for(let r=0;r<e.length;r++)t+=Xy[e[r]];return t}function nu(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function va(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Mt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Js(e){if(e>=Mt._0&&e<=Mt._9)return e-Mt._0;if(e>=Mt._A&&e<=Mt._F)return e-(Mt._A-10);if(e>=Mt._a&&e<=Mt._f)return e-(Mt._a-10)}function Kn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const a=Js(e.charCodeAt(o)),f=Js(e.charCodeAt(o+1));if(a===void 0||f===void 0){const s=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+s+'" at index '+o)}n[i]=a*16+f}return n}function Qy(e){return va(_a(e))}function eg(e){return zn(e),va(_a(Uint8Array.from(e).reverse()))}function iu(e,t){return Kn(e.toString(16).padStart(t*2,"0"))}function tg(e,t){return iu(e,t).reverse()}function rg(e){return Kn(nu(e))}function ng(e,t,r){let n;if(typeof t=="string")try{n=Kn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Gn(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function ou(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];zn(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function ig(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function og(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ag(e){let t;for(t=0;e>ru;e>>=Vn,t+=1);return t}function sg(e,t){return e>>BigInt(t)&Vn}function fg(e,t,r){return e|(r?Vn:ru)<<BigInt(t)}const lg=e=>(Jy<<BigInt(e-1))-Vn;_e.bitMask=lg;const no=e=>new Uint8Array(e),Xs=e=>Uint8Array.from(e);function ug(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=no(e),i=no(e),o=0;const a=()=>{n.fill(1),i.fill(0),o=0},f=(...T)=>r(i,n,...T),s=(T=no())=>{i=f(Xs([0]),T),n=f(),T.length!==0&&(i=f(Xs([1]),T),n=f())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const w=[];for(;T<t;){n=f();const d=n.slice();w.push(d),T+=n.length}return ou(...w)};return(T,w)=>{a(),s(T);let d;for(;!(d=w(l()));)s();return a(),d}}const cg={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Gn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function dg(e,t,r={}){const n=(i,o,a)=>{const f=cg[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);const s=e[i];if(!(a&&s===void 0)&&!f(s,e))throw new Error(`Invalid param ${String(i)}=${s} (${typeof s}), expected ${o}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}Object.defineProperty(Oe,"__esModule",{value:!0});Oe.isNegativeLE=void 0;Oe.mod=lt;Oe.pow=au;Oe.pow2=pg;Oe.invert=En;Oe.tonelliShanks=su;Oe.FpSqrt=fu;Oe.validateField=bg;Oe.FpPow=lu;Oe.FpInvertBatch=uu;Oe.FpDiv=wg;Oe.FpIsSquare=mg;Oe.nLength=Sa;Oe.Field=_g;Oe.FpSqrtOdd=vg;Oe.FpSqrtEven=Sg;Oe.hashToPrivateScalar=Eg;Oe.getFieldBytesLength=Ea;Oe.getMinHashLength=cu;Oe.mapHashToField=Ag;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ut=_e,Fe=BigInt(0),Te=BigInt(1),Kt=BigInt(2),hg=BigInt(3),Wo=BigInt(4),Qs=BigInt(5),ef=BigInt(8);BigInt(9);BigInt(16);function lt(e,t){const r=e%t;return r>=Fe?r:t+r}function au(e,t,r){if(r<=Fe||t<Fe)throw new Error("Expected power/modulo > 0");if(r===Te)return Fe;let n=Te;for(;t>Fe;)t&Te&&(n=n*e%r),e=e*e%r,t>>=Te;return n}function pg(e,t,r){let n=e;for(;t-- >Fe;)n*=n,n%=r;return n}function En(e,t){if(e===Fe||t<=Fe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=lt(e,t),n=t,i=Fe,o=Te;for(;r!==Fe;){const f=n/r,s=n%r,l=i-o*f;n=r,r=s,i=o,o=l}if(n!==Te)throw new Error("invert: does not exist");return lt(i,t)}function su(e){const t=(e-Te)/Kt;let r,n,i;for(r=e-Te,n=0;r%Kt===Fe;r/=Kt,n++);for(i=Kt;i<e&&au(i,t,e)!==e-Te;i++);if(n===1){const a=(e+Te)/Wo;return function(s,l){const S=s.pow(l,a);if(!s.eql(s.sqr(S),l))throw new Error("Cannot find square root");return S}}const o=(r+Te)/Kt;return function(f,s){if(f.pow(s,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let l=n,S=f.pow(f.mul(f.ONE,i),r),T=f.pow(s,o),w=f.pow(s,r);for(;!f.eql(w,f.ONE);){if(f.eql(w,f.ZERO))return f.ZERO;let d=1;for(let I=f.sqr(w);d<l&&!f.eql(I,f.ONE);d++)I=f.sqr(I);const P=f.pow(S,Te<<BigInt(l-d-1));S=f.sqr(P),T=f.mul(T,P),w=f.mul(w,S),l=d}return T}}function fu(e){if(e%Wo===hg){const t=(e+Te)/Wo;return function(n,i){const o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%ef===Qs){const t=(e-Qs)/ef;return function(n,i){const o=n.mul(i,Kt),a=n.pow(o,t),f=n.mul(i,a),s=n.mul(n.mul(f,Kt),a),l=n.mul(f,n.sub(s,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return su(e)}const yg=(e,t)=>(lt(e,t)&Te)===Te;Oe.isNegativeLE=yg;const gg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bg(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=gg.reduce((n,i)=>(n[i]="function",n),t);return(0,ut.validateObject)(e,r)}function lu(e,t,r){if(r<Fe)throw new Error("Expected power > 0");if(r===Fe)return e.ONE;if(r===Te)return t;let n=e.ONE,i=t;for(;r>Fe;)r&Te&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Te;return n}function uu(e,t){const r=new Array(t.length),n=t.reduce((o,a,f)=>e.is0(a)?o:(r[f]=o,e.mul(o,a)),e.ONE),i=e.inv(n);return t.reduceRight((o,a,f)=>e.is0(a)?o:(r[f]=e.mul(o,r[f]),e.mul(o,a)),i),r}function wg(e,t,r){return e.mul(t,typeof r=="bigint"?En(r,e.ORDER):e.inv(r))}function mg(e){const t=(e.ORDER-Te)/Kt;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}function Sa(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function _g(e,t,r=!1,n={}){if(e<=Fe)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Sa(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=fu(e),f=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,ut.bitMask)(i),ZERO:Fe,ONE:Te,create:s=>lt(s,e),isValid:s=>{if(typeof s!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof s}`);return Fe<=s&&s<e},is0:s=>s===Fe,isOdd:s=>(s&Te)===Te,neg:s=>lt(-s,e),eql:(s,l)=>s===l,sqr:s=>lt(s*s,e),add:(s,l)=>lt(s+l,e),sub:(s,l)=>lt(s-l,e),mul:(s,l)=>lt(s*l,e),pow:(s,l)=>lu(f,s,l),div:(s,l)=>lt(s*En(l,e),e),sqrN:s=>s*s,addN:(s,l)=>s+l,subN:(s,l)=>s-l,mulN:(s,l)=>s*l,inv:s=>En(s,e),sqrt:n.sqrt||(s=>a(f,s)),invertBatch:s=>uu(f,s),cmov:(s,l,S)=>S?l:s,toBytes:s=>r?(0,ut.numberToBytesLE)(s,o):(0,ut.numberToBytesBE)(s,o),fromBytes:s=>{if(s.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${s.length}`);return r?(0,ut.bytesToNumberLE)(s):(0,ut.bytesToNumberBE)(s)}});return Object.freeze(f)}function vg(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}function Sg(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function Eg(e,t,r=!1){e=(0,ut.ensureBytes)("privateHash",e);const n=e.length,i=Sa(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const o=r?(0,ut.bytesToNumberLE)(e):(0,ut.bytesToNumberBE)(e);return lt(o,t-Te)+Te}function Ea(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function cu(e){const t=Ea(e);return t+Math.ceil(t/2)}function Ag(e,t,r=!1){const n=e.length,i=Ea(t),o=cu(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const a=r?(0,ut.bytesToNumberBE)(e):(0,ut.bytesToNumberLE)(e),f=lt(a,t-Te)+Te;return r?(0,ut.numberToBytesLE)(f,i):(0,ut.numberToBytesBE)(f,i)}Object.defineProperty(qn,"__esModule",{value:!0});qn.wNAF=Og;qn.validateBasic=Ig;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tf=Oe,Rg=_e,Tg=BigInt(0),io=BigInt(1);function Og(e,t){const r=(i,o)=>{const a=o.negate();return i?a:o},n=i=>{const o=Math.ceil(t/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=e.ZERO,f=i;for(;o>Tg;)o&io&&(a=a.add(f)),f=f.double(),o>>=io;return a},precomputeWindow(i,o){const{windows:a,windowSize:f}=n(o),s=[];let l=i,S=l;for(let T=0;T<a;T++){S=l,s.push(S);for(let w=1;w<f;w++)S=S.add(l),s.push(S);l=S.double()}return s},wNAF(i,o,a){const{windows:f,windowSize:s}=n(i);let l=e.ZERO,S=e.BASE;const T=BigInt(2**i-1),w=2**i,d=BigInt(i);for(let P=0;P<f;P++){const I=P*s;let y=Number(a&T);a>>=d,y>s&&(y-=w,a+=io);const A=I,h=I+Math.abs(y)-1,u=P%2!==0,c=y<0;y===0?S=S.add(r(u,o[A])):l=l.add(r(c,o[h]))}return{p:l,f:S}},wNAFCached(i,o,a,f){const s=i._WINDOW_SIZE||1;let l=o.get(i);return l||(l=this.precomputeWindow(i,s),s!==1&&o.set(i,f(l))),this.wNAF(s,l,a)}}}function Ig(e){return(0,tf.validateField)(e.Fp),(0,Rg.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,tf.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=void 0,e.weierstrassPoints=d,e.weierstrass=I,e.SWUFpSqrtRatio=y,e.mapToCurveSimpleSWU=A;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=qn,r=Oe,n=_e,i=_e;function o(h){const u=(0,t.validateBasic)(h);n.validateObject(u,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:c,Fp:b,a:$}=u;if(c){if(!b.eql($,b.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof c!="object"||typeof c.beta!="bigint"||typeof c.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...u})}const{bytesToNumberBE:a,hexToBytes:f}=n;e.DER={Err:class extends Error{constructor(u=""){super(u)}},_parseInt(h){const{Err:u}=e.DER;if(h.length<2||h[0]!==2)throw new u("Invalid signature integer tag");const c=h[1],b=h.subarray(2,c+2);if(!c||b.length!==c)throw new u("Invalid signature integer: wrong length");if(b[0]&128)throw new u("Invalid signature integer: negative");if(b[0]===0&&!(b[1]&128))throw new u("Invalid signature integer: unnecessary leading zero");return{d:a(b),l:h.subarray(c+2)}},toSig(h){const{Err:u}=e.DER,c=typeof h=="string"?f(h):h;n.abytes(c);let b=c.length;if(b<2||c[0]!=48)throw new u("Invalid signature tag");if(c[1]!==b-2)throw new u("Invalid signature: incorrect length");const{d:$,l:C}=e.DER._parseInt(c.subarray(2)),{d:Y,l:z}=e.DER._parseInt(C);if(z.length)throw new u("Invalid signature: left bytes after parsing");return{r:$,s:Y}},hexFromSig(h){const u=ie=>Number.parseInt(ie[0],16)&8?"00"+ie:ie,c=ie=>{const m=ie.toString(16);return m.length&1?`0${m}`:m},b=u(c(h.s)),$=u(c(h.r)),C=b.length/2,Y=$.length/2,z=c(C),ne=c(Y);return`30${c(Y+C+4)}02${ne}${$}02${z}${b}`}};const s=BigInt(0),l=BigInt(1),S=BigInt(2),T=BigInt(3),w=BigInt(4);function d(h){const u=o(h),{Fp:c}=u,b=u.toBytes||((Z,q,G)=>{const U=q.toAffine();return n.concatBytes(Uint8Array.from([4]),c.toBytes(U.x),c.toBytes(U.y))}),$=u.fromBytes||(Z=>{const q=Z.subarray(1),G=c.fromBytes(q.subarray(0,c.BYTES)),U=c.fromBytes(q.subarray(c.BYTES,2*c.BYTES));return{x:G,y:U}});function C(Z){const{a:q,b:G}=u,U=c.sqr(Z),D=c.mul(U,Z);return c.add(c.add(D,c.mul(Z,q)),G)}if(!c.eql(c.sqr(u.Gy),C(u.Gx)))throw new Error("bad generator point: equation left != right");function Y(Z){return typeof Z=="bigint"&&s<Z&&Z<u.n}function z(Z){if(!Y(Z))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ne(Z){const{allowedPrivateKeyLengths:q,nByteLength:G,wrapPrivateKey:U,n:D}=u;if(q&&typeof Z!="bigint"){if(n.isBytes(Z)&&(Z=n.bytesToHex(Z)),typeof Z!="string"||!q.includes(Z.length))throw new Error("Invalid key");Z=Z.padStart(G*2,"0")}let F;try{F=typeof Z=="bigint"?Z:n.bytesToNumberBE((0,i.ensureBytes)("private key",Z,G))}catch{throw new Error(`private key must be ${G} bytes, hex or bigint, not ${typeof Z}`)}return U&&(F=r.mod(F,D)),z(F),F}const ie=new Map;function m(Z){if(!(Z instanceof B))throw new Error("ProjectivePoint expected")}class B{constructor(q,G,U){if(this.px=q,this.py=G,this.pz=U,q==null||!c.isValid(q))throw new Error("x required");if(G==null||!c.isValid(G))throw new Error("y required");if(U==null||!c.isValid(U))throw new Error("z required")}static fromAffine(q){const{x:G,y:U}=q||{};if(!q||!c.isValid(G)||!c.isValid(U))throw new Error("invalid affine point");if(q instanceof B)throw new Error("projective point not allowed");const D=F=>c.eql(F,c.ZERO);return D(G)&&D(U)?B.ZERO:new B(G,U,c.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(q){const G=c.invertBatch(q.map(U=>U.pz));return q.map((U,D)=>U.toAffine(G[D])).map(B.fromAffine)}static fromHex(q){const G=B.fromAffine($((0,i.ensureBytes)("pointHex",q)));return G.assertValidity(),G}static fromPrivateKey(q){return B.BASE.multiply(ne(q))}_setWindowSize(q){this._WINDOW_SIZE=q,ie.delete(this)}assertValidity(){if(this.is0()){if(u.allowInfinityPoint&&!c.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:q,y:G}=this.toAffine();if(!c.isValid(q)||!c.isValid(G))throw new Error("bad point: x or y not FE");const U=c.sqr(G),D=C(q);if(!c.eql(U,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:q}=this.toAffine();if(c.isOdd)return!c.isOdd(q);throw new Error("Field doesn't support isOdd")}equals(q){m(q);const{px:G,py:U,pz:D}=this,{px:F,py:ee,pz:v}=q,M=c.eql(c.mul(G,v),c.mul(F,D)),k=c.eql(c.mul(U,v),c.mul(ee,D));return M&&k}negate(){return new B(this.px,c.neg(this.py),this.pz)}double(){const{a:q,b:G}=u,U=c.mul(G,T),{px:D,py:F,pz:ee}=this;let v=c.ZERO,M=c.ZERO,k=c.ZERO,O=c.mul(D,D),x=c.mul(F,F),W=c.mul(ee,ee),V=c.mul(D,F);return V=c.add(V,V),k=c.mul(D,ee),k=c.add(k,k),v=c.mul(q,k),M=c.mul(U,W),M=c.add(v,M),v=c.sub(x,M),M=c.add(x,M),M=c.mul(v,M),v=c.mul(V,v),k=c.mul(U,k),W=c.mul(q,W),V=c.sub(O,W),V=c.mul(q,V),V=c.add(V,k),k=c.add(O,O),O=c.add(k,O),O=c.add(O,W),O=c.mul(O,V),M=c.add(M,O),W=c.mul(F,ee),W=c.add(W,W),O=c.mul(W,V),v=c.sub(v,O),k=c.mul(W,x),k=c.add(k,k),k=c.add(k,k),new B(v,M,k)}add(q){m(q);const{px:G,py:U,pz:D}=this,{px:F,py:ee,pz:v}=q;let M=c.ZERO,k=c.ZERO,O=c.ZERO;const x=u.a,W=c.mul(u.b,T);let V=c.mul(G,F),te=c.mul(U,ee),g=c.mul(D,v),E=c.add(G,U),p=c.add(F,ee);E=c.mul(E,p),p=c.add(V,te),E=c.sub(E,p),p=c.add(G,D);let _=c.add(F,v);return p=c.mul(p,_),_=c.add(V,g),p=c.sub(p,_),_=c.add(U,D),M=c.add(ee,v),_=c.mul(_,M),M=c.add(te,g),_=c.sub(_,M),O=c.mul(x,p),M=c.mul(W,g),O=c.add(M,O),M=c.sub(te,O),O=c.add(te,O),k=c.mul(M,O),te=c.add(V,V),te=c.add(te,V),g=c.mul(x,g),p=c.mul(W,p),te=c.add(te,g),g=c.sub(V,g),g=c.mul(x,g),p=c.add(p,g),V=c.mul(te,p),k=c.add(k,V),V=c.mul(_,p),M=c.mul(E,M),M=c.sub(M,V),V=c.mul(E,te),O=c.mul(_,O),O=c.add(O,V),new B(M,k,O)}subtract(q){return this.add(q.negate())}is0(){return this.equals(B.ZERO)}wNAF(q){return H.wNAFCached(this,ie,q,G=>{const U=c.invertBatch(G.map(D=>D.pz));return G.map((D,F)=>D.toAffine(U[F])).map(B.fromAffine)})}multiplyUnsafe(q){const G=B.ZERO;if(q===s)return G;if(z(q),q===l)return this;const{endo:U}=u;if(!U)return H.unsafeLadder(this,q);let{k1neg:D,k1:F,k2neg:ee,k2:v}=U.splitScalar(q),M=G,k=G,O=this;for(;F>s||v>s;)F&l&&(M=M.add(O)),v&l&&(k=k.add(O)),O=O.double(),F>>=l,v>>=l;return D&&(M=M.negate()),ee&&(k=k.negate()),k=new B(c.mul(k.px,U.beta),k.py,k.pz),M.add(k)}multiply(q){z(q);let G=q,U,D;const{endo:F}=u;if(F){const{k1neg:ee,k1:v,k2neg:M,k2:k}=F.splitScalar(G);let{p:O,f:x}=this.wNAF(v),{p:W,f:V}=this.wNAF(k);O=H.constTimeNegate(ee,O),W=H.constTimeNegate(M,W),W=new B(c.mul(W.px,F.beta),W.py,W.pz),U=O.add(W),D=x.add(V)}else{const{p:ee,f:v}=this.wNAF(G);U=ee,D=v}return B.normalizeZ([U,D])[0]}multiplyAndAddUnsafe(q,G,U){const D=B.BASE,F=(v,M)=>M===s||M===l||!v.equals(D)?v.multiplyUnsafe(M):v.multiply(M),ee=F(this,G).add(F(q,U));return ee.is0()?void 0:ee}toAffine(q){const{px:G,py:U,pz:D}=this,F=this.is0();q==null&&(q=F?c.ONE:c.inv(D));const ee=c.mul(G,q),v=c.mul(U,q),M=c.mul(D,q);if(F)return{x:c.ZERO,y:c.ZERO};if(!c.eql(M,c.ONE))throw new Error("invZ was invalid");return{x:ee,y:v}}isTorsionFree(){const{h:q,isTorsionFree:G}=u;if(q===l)return!0;if(G)return G(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:q,clearCofactor:G}=u;return q===l?this:G?G(B,this):this.multiplyUnsafe(u.h)}toRawBytes(q=!0){return this.assertValidity(),b(B,this,q)}toHex(q=!0){return n.bytesToHex(this.toRawBytes(q))}}B.BASE=new B(u.Gx,u.Gy,c.ONE),B.ZERO=new B(c.ZERO,c.ONE,c.ZERO);const N=u.nBitLength,H=(0,t.wNAF)(B,u.endo?Math.ceil(N/2):N);return{CURVE:u,ProjectivePoint:B,normPrivateKeyToScalar:ne,weierstrassEquation:C,isWithinCurveOrder:Y}}function P(h){const u=(0,t.validateBasic)(h);return n.validateObject(u,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...u})}function I(h){const u=P(h),{Fp:c,n:b}=u,$=c.BYTES+1,C=2*c.BYTES+1;function Y(p){return s<p&&p<c.ORDER}function z(p){return r.mod(p,b)}function ne(p){return r.invert(p,b)}const{ProjectivePoint:ie,normPrivateKeyToScalar:m,weierstrassEquation:B,isWithinCurveOrder:N}=d({...u,toBytes(p,_,j){const Q=_.toAffine(),re=c.toBytes(Q.x),le=n.concatBytes;return j?le(Uint8Array.from([_.hasEvenY()?2:3]),re):le(Uint8Array.from([4]),re,c.toBytes(Q.y))},fromBytes(p){const _=p.length,j=p[0],Q=p.subarray(1);if(_===$&&(j===2||j===3)){const re=n.bytesToNumberBE(Q);if(!Y(re))throw new Error("Point is not on curve");const le=B(re);let J;try{J=c.sqrt(le)}catch(fe){const Ee=fe instanceof Error?": "+fe.message:"";throw new Error("Point is not on curve"+Ee)}const de=(J&l)===l;return(j&1)===1!==de&&(J=c.neg(J)),{x:re,y:J}}else if(_===C&&j===4){const re=c.fromBytes(Q.subarray(0,c.BYTES)),le=c.fromBytes(Q.subarray(c.BYTES,2*c.BYTES));return{x:re,y:le}}else throw new Error(`Point of length ${_} was invalid. Expected ${$} compressed bytes or ${C} uncompressed bytes`)}}),H=p=>n.bytesToHex(n.numberToBytesBE(p,u.nByteLength));function Z(p){const _=b>>l;return p>_}function q(p){return Z(p)?z(-p):p}const G=(p,_,j)=>n.bytesToNumberBE(p.slice(_,j));class U{constructor(_,j,Q){this.r=_,this.s=j,this.recovery=Q,this.assertValidity()}static fromCompact(_){const j=u.nByteLength;return _=(0,i.ensureBytes)("compactSignature",_,j*2),new U(G(_,0,j),G(_,j,2*j))}static fromDER(_){const{r:j,s:Q}=e.DER.toSig((0,i.ensureBytes)("DER",_));return new U(j,Q)}assertValidity(){if(!N(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!N(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new U(this.r,this.s,_)}recoverPublicKey(_){const{r:j,s:Q,recovery:re}=this,le=k((0,i.ensureBytes)("msgHash",_));if(re==null||![0,1,2,3].includes(re))throw new Error("recovery id invalid");const J=re===2||re===3?j+u.n:j;if(J>=c.ORDER)throw new Error("recovery id 2 or 3 invalid");const de=re&1?"03":"02",me=ie.fromHex(de+H(J)),fe=ne(J),Ee=z(-le*fe),je=z(Q*fe),Ue=ie.BASE.multiplyAndAddUnsafe(me,Ee,je);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return Z(this.s)}normalizeS(){return this.hasHighS()?new U(this.r,z(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return H(this.r)+H(this.s)}}const D={isValidPrivateKey(p){try{return m(p),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const p=r.getMinHashLength(u.n);return r.mapHashToField(u.randomBytes(p),u.n)},precompute(p=8,_=ie.BASE){return _._setWindowSize(p),_.multiply(BigInt(3)),_}};function F(p,_=!0){return ie.fromPrivateKey(p).toRawBytes(_)}function ee(p){const _=n.isBytes(p),j=typeof p=="string",Q=(_||j)&&p.length;return _?Q===$||Q===C:j?Q===2*$||Q===2*C:p instanceof ie}function v(p,_,j=!0){if(ee(p))throw new Error("first arg must be private key");if(!ee(_))throw new Error("second arg must be public key");return ie.fromHex(_).multiply(m(p)).toRawBytes(j)}const M=u.bits2int||function(p){const _=n.bytesToNumberBE(p),j=p.length*8-u.nBitLength;return j>0?_>>BigInt(j):_},k=u.bits2int_modN||function(p){return z(M(p))},O=n.bitMask(u.nBitLength);function x(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(s<=p&&p<O))throw new Error(`bigint expected < 2^${u.nBitLength}`);return n.numberToBytesBE(p,u.nByteLength)}function W(p,_,j=V){if(["recovered","canonical"].some(Ie=>Ie in j))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:re}=u;let{lowS:le,prehash:J,extraEntropy:de}=j;le==null&&(le=!0),p=(0,i.ensureBytes)("msgHash",p),J&&(p=(0,i.ensureBytes)("prehashed msgHash",Q(p)));const me=k(p),fe=m(_),Ee=[x(fe),x(me)];if(de!=null&&de!==!1){const Ie=de===!0?re(c.BYTES):de;Ee.push((0,i.ensureBytes)("extraEntropy",Ie))}const je=n.concatBytes(...Ee),Ue=me;function De(Ie){const Le=M(Ie);if(!N(Le))return;const at=ne(Le),Xe=ie.BASE.multiply(Le).toAffine(),Pe=z(Xe.x);if(Pe===s)return;const qe=z(at*z(Ue+Pe*fe));if(qe===s)return;let K=(Xe.x===Pe?0:2)|Number(Xe.y&l),X=qe;return le&&Z(qe)&&(X=q(qe),K^=1),new U(Pe,X,K)}return{seed:je,k2sig:De}}const V={lowS:u.lowS,prehash:!1},te={lowS:u.lowS,prehash:!1};function g(p,_,j=V){const{seed:Q,k2sig:re}=W(p,_,j),le=u;return n.createHmacDrbg(le.hash.outputLen,le.nByteLength,le.hmac)(Q,re)}ie.BASE._setWindowSize(8);function E(p,_,j,Q=te){var Xe;const re=p;if(_=(0,i.ensureBytes)("msgHash",_),j=(0,i.ensureBytes)("publicKey",j),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:J}=Q;let de,me;try{if(typeof re=="string"||n.isBytes(re))try{de=U.fromDER(re)}catch(Pe){if(!(Pe instanceof e.DER.Err))throw Pe;de=U.fromCompact(re)}else if(typeof re=="object"&&typeof re.r=="bigint"&&typeof re.s=="bigint"){const{r:Pe,s:qe}=re;de=new U(Pe,qe)}else throw new Error("PARSE");me=ie.fromHex(j)}catch(Pe){if(Pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&de.hasHighS())return!1;J&&(_=u.hash(_));const{r:fe,s:Ee}=de,je=k(_),Ue=ne(Ee),De=z(je*Ue),Ie=z(fe*Ue),Le=(Xe=ie.BASE.multiplyAndAddUnsafe(me,De,Ie))==null?void 0:Xe.toAffine();return Le?z(Le.x)===fe:!1}return{CURVE:u,getPublicKey:F,getSharedSecret:v,sign:g,verify:E,ProjectivePoint:ie,Signature:U,utils:D}}function y(h,u){const c=h.ORDER;let b=s;for(let Z=c-l;Z%S===s;Z/=S)b+=l;const $=b,C=S<<$-l-l,Y=C*S,z=(c-l)/Y,ne=(z-l)/S,ie=Y-l,m=C,B=h.pow(u,z),N=h.pow(u,(z+l)/S);let H=(Z,q)=>{let G=B,U=h.pow(q,ie),D=h.sqr(U);D=h.mul(D,q);let F=h.mul(Z,D);F=h.pow(F,ne),F=h.mul(F,U),U=h.mul(F,q),D=h.mul(F,Z);let ee=h.mul(D,U);F=h.pow(ee,m);let v=h.eql(F,h.ONE);U=h.mul(D,N),F=h.mul(ee,G),D=h.cmov(U,D,v),ee=h.cmov(F,ee,v);for(let M=$;M>l;M--){let k=M-S;k=S<<k-l;let O=h.pow(ee,k);const x=h.eql(O,h.ONE);U=h.mul(D,G),G=h.mul(G,G),O=h.mul(ee,G),D=h.cmov(U,D,x),ee=h.cmov(O,ee,x)}return{isValid:v,value:D}};if(h.ORDER%w===T){const Z=(h.ORDER-T)/w,q=h.sqrt(h.neg(u));H=(G,U)=>{let D=h.sqr(U);const F=h.mul(G,U);D=h.mul(D,F);let ee=h.pow(D,Z);ee=h.mul(ee,F);const v=h.mul(ee,q),M=h.mul(h.sqr(ee),U),k=h.eql(M,G);let O=h.cmov(v,ee,k);return{isValid:k,value:O}}}return H}function A(h,u){if(r.validateField(h),!h.isValid(u.A)||!h.isValid(u.B)||!h.isValid(u.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const c=y(h,u.Z);if(!h.isOdd)throw new Error("Fp.isOdd is not implemented!");return b=>{let $,C,Y,z,ne,ie,m,B;$=h.sqr(b),$=h.mul($,u.Z),C=h.sqr($),C=h.add(C,$),Y=h.add(C,h.ONE),Y=h.mul(Y,u.B),z=h.cmov(u.Z,h.neg(C),!h.eql(C,h.ZERO)),z=h.mul(z,u.A),C=h.sqr(Y),ie=h.sqr(z),ne=h.mul(ie,u.A),C=h.add(C,ne),C=h.mul(C,Y),ie=h.mul(ie,z),ne=h.mul(ie,u.B),C=h.add(C,ne),m=h.mul($,Y);const{isValid:N,value:H}=c(C,ie);B=h.mul($,b),B=h.mul(B,H),m=h.cmov(m,Y,N),B=h.cmov(B,H,N);const Z=h.isOdd(b)===h.isOdd(B);return B=h.cmov(h.neg(B),B,Z),m=h.div(m,z),{x:m,y:B}}}})(ma);Object.defineProperty(Fn,"__esModule",{value:!0});Fn.getHash=du;Fn.createCurve=Lg;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pg=tu,rf=Ut,Bg=ma;function du(e){return{hash:e,hmac:(t,...r)=>(0,Pg.hmac)(e,t,(0,rf.concatBytes)(...r)),randomBytes:rf.randomBytes}}function Lg(e,t){const r=n=>(0,Bg.weierstrass)({...e,...du(n)});return Object.freeze({...r(t),create:r})}var hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.expand_message_xmd=hu;hr.expand_message_xof=pu;hr.hash_to_field=Ho;hr.isogenyMap=xg;hr.createHasher=Dg;const Cg=Oe,Ye=_e,Ng=Ye.bytesToNumberBE;function zt(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function Mg(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Aa(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function hu(e,t,r,n){(0,Ye.abytes)(e),(0,Ye.abytes)(t),Aa(r),t.length>255&&(t=n((0,Ye.concatBytes)((0,Ye.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(a>255)throw new Error("Invalid xmd length");const f=(0,Ye.concatBytes)(t,zt(t.length,1)),s=zt(0,o),l=zt(r,2),S=new Array(a),T=n((0,Ye.concatBytes)(s,e,l,zt(0,1),f));S[0]=n((0,Ye.concatBytes)(T,zt(1,1),f));for(let d=1;d<=a;d++){const P=[Mg(T,S[d-1]),zt(d+1,1),f];S[d]=n((0,Ye.concatBytes)(...P))}return(0,Ye.concatBytes)(...S).slice(0,r)}function pu(e,t,r,n,i){if((0,Ye.abytes)(e),(0,Ye.abytes)(t),Aa(r),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,Ye.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(zt(r,2)).update(t).update(zt(t.length,1)).digest()}function Ho(e,t,r){(0,Ye.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:o,hash:a,expand:f,DST:s}=r;(0,Ye.abytes)(e),Aa(t);const l=typeof s=="string"?(0,Ye.utf8ToBytes)(s):s,S=n.toString(2).length,T=Math.ceil((S+i)/8),w=t*o*T;let d;if(f==="xmd")d=hu(e,l,w,a);else if(f==="xof")d=pu(e,l,w,i,a);else if(f==="_internal_pass")d=e;else throw new Error('expand must be "xmd" or "xof"');const P=new Array(t);for(let I=0;I<t;I++){const y=new Array(o);for(let A=0;A<o;A++){const h=T*(A+I*o),u=d.subarray(h,h+T);y[A]=(0,Cg.mod)(Ng(u),n)}P[I]=y}return P}function xg(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,a,f,s]=r.map(l=>l.reduce((S,T)=>e.add(e.mul(S,n),T)));return n=e.div(o,a),i=e.mul(i,e.div(f,s)),{x:n,y:i}}}function Dg(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=Ho(n,2,{...r,DST:r.DST,...i}),a=e.fromAffine(t(o[0])),f=e.fromAffine(t(o[1])),s=a.add(f).clearCofactor();return s.assertValidity(),s},encodeToCurve(n,i){const o=Ho(n,1,{...r,DST:r.encodeDST,...i}),a=e.fromAffine(t(o[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const o of n)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=e.fromAffine(t(n)).clearCofactor();return i.assertValidity(),i}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ir,r=Ut,n=Fn,i=hr,o=Oe,a=_e,f=ma,s=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),S=BigInt(1),T=BigInt(2),w=(U,D)=>(U+D/T)/D;function d(U){const D=s,F=BigInt(3),ee=BigInt(6),v=BigInt(11),M=BigInt(22),k=BigInt(23),O=BigInt(44),x=BigInt(88),W=U*U*U%D,V=W*W*U%D,te=(0,o.pow2)(V,F,D)*V%D,g=(0,o.pow2)(te,F,D)*V%D,E=(0,o.pow2)(g,T,D)*W%D,p=(0,o.pow2)(E,v,D)*E%D,_=(0,o.pow2)(p,M,D)*p%D,j=(0,o.pow2)(_,O,D)*_%D,Q=(0,o.pow2)(j,x,D)*j%D,re=(0,o.pow2)(Q,O,D)*_%D,le=(0,o.pow2)(re,F,D)*V%D,J=(0,o.pow2)(le,k,D)*p%D,de=(0,o.pow2)(J,ee,D)*W%D,me=(0,o.pow2)(de,T,D);if(!P.eql(P.sqr(me),U))throw new Error("Cannot find square root");return me}const P=(0,o.Field)(s,void 0,void 0,{sqrt:d});e.secp256k1=(0,n.createCurve)({a:BigInt(0),b:BigInt(7),Fp:P,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:U=>{const D=l,F=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ee=-S*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),v=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),M=F,k=BigInt("0x100000000000000000000000000000000"),O=w(M*U,D),x=w(-ee*U,D);let W=(0,o.mod)(U-O*F-x*v,D),V=(0,o.mod)(-O*ee-x*M,D);const te=W>k,g=V>k;if(te&&(W=D-W),g&&(V=D-V),W>k||V>k)throw new Error("splitScalar: Endomorphism failed, k="+U);return{k1neg:te,k1:W,k2neg:g,k2:V}}}},t.sha256);const I=BigInt(0),y=U=>typeof U=="bigint"&&I<U&&U<s,A=U=>typeof U=="bigint"&&I<U&&U<l,h={};function u(U,...D){let F=h[U];if(F===void 0){const ee=(0,t.sha256)(Uint8Array.from(U,v=>v.charCodeAt(0)));F=(0,a.concatBytes)(ee,ee),h[U]=F}return(0,t.sha256)((0,a.concatBytes)(F,...D))}const c=U=>U.toRawBytes(!0).slice(1),b=U=>(0,a.numberToBytesBE)(U,32),$=U=>(0,o.mod)(U,s),C=U=>(0,o.mod)(U,l),Y=e.secp256k1.ProjectivePoint,z=(U,D,F)=>Y.BASE.multiplyAndAddUnsafe(U,D,F);function ne(U){let D=e.secp256k1.utils.normPrivateKeyToScalar(U),F=Y.fromPrivateKey(D);return{scalar:F.hasEvenY()?D:C(-D),bytes:c(F)}}function ie(U){if(!y(U))throw new Error("bad x: need 0 < x < p");const D=$(U*U),F=$(D*U+BigInt(7));let ee=d(F);ee%T!==I&&(ee=$(-ee));const v=new Y(U,ee,S);return v.assertValidity(),v}function m(...U){return C((0,a.bytesToNumberBE)(u("BIP0340/challenge",...U)))}function B(U){return ne(U).bytes}function N(U,D,F=(0,r.randomBytes)(32)){const ee=(0,a.ensureBytes)("message",U),{bytes:v,scalar:M}=ne(D),k=(0,a.ensureBytes)("auxRand",F,32),O=b(M^(0,a.bytesToNumberBE)(u("BIP0340/aux",k))),x=u("BIP0340/nonce",O,v,ee),W=C((0,a.bytesToNumberBE)(x));if(W===I)throw new Error("sign failed: k is zero");const{bytes:V,scalar:te}=ne(W),g=m(V,v,ee),E=new Uint8Array(64);if(E.set(V,0),E.set(b(C(te+g*M)),32),!H(E,ee,v))throw new Error("sign: Invalid signature produced");return E}function H(U,D,F){const ee=(0,a.ensureBytes)("signature",U,64),v=(0,a.ensureBytes)("message",D),M=(0,a.ensureBytes)("publicKey",F,32);try{const k=ie((0,a.bytesToNumberBE)(M)),O=(0,a.bytesToNumberBE)(ee.subarray(0,32));if(!y(O))return!1;const x=(0,a.bytesToNumberBE)(ee.subarray(32,64));if(!A(x))return!1;const W=m(b(O),c(k),v),V=z(k,x,C(-W));return!(!V||!V.hasEvenY()||V.toAffine().x!==O)}catch{return!1}}e.schnorr={getPublicKey:B,sign:N,verify:H,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:ie,pointToBytes:c,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:u,mod:o.mod}};const Z=(0,i.isogenyMap)(P,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(U=>U.map(D=>BigInt(D)))),q=(0,f.mapToCurveSimpleSWU)(P,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:P.create(BigInt("-11"))}),G=(0,i.createHasher)(e.secp256k1.ProjectivePoint,U=>{const{x:D,y:F}=q(P.create(U[0]));return Z(D,F)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:P.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256});e.hashToCurve=G.hashToCurve,e.encodeToCurve=G.encodeToCurve})(Kl);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=Kl;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})})(Wn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=_t,r=Wn;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16})(Un);var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.GWEI_TO_WEI=void 0;Yn.GWEI_TO_WEI=BigInt(1e9);var Ra={},At={};Object.defineProperty(At,"__esModule",{value:!0});At.RLP=At.utils=At.decode=At.encode=void 0;function Ta(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const o=Ta(e[i]);r.push(o),n+=o.length}return qo(of(n,192),...r)}const t=_u(e);return t.length===1&&t[0]<128?t:qo(of(t.length,128),t)}At.encode=Ta;function wr(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function nf(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return bu(gu(e))}function of(e,t){if(e<56)return Uint8Array.from([e+t]);const r=Vo(e),n=r.length/2,i=Vo(t+55+n);return Uint8Array.from(An(i+r))}function yu(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=_u(e),n=Fo(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}At.decode=yu;function Fo(e){let t,r,n,i,o;const a=[],f=e[0];if(f<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(f<=183){if(t=f-127,f===128?n=Uint8Array.from([]):n=wr(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(f<=191){if(r=f-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=nf(wr(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=wr(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(f<=247){for(t=f-191,i=wr(e,1,t);i.length;)o=Fo(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(t)}}else{if(r=f-246,t=nf(wr(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const s=r+t;if(s>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=wr(e,r,s);i.length;)o=Fo(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(s)}}}const kg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gu(e){let t="";for(let r=0;r<e.length;r++)t+=kg[e[r]];return t}function bu(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function An(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=bu(e.slice(n,n+2))}return t}function qo(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function wu(e){return new TextEncoder().encode(e)}function Vo(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function $g(e){return e.length%2?`0${e}`:e}function mu(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function jg(e){return typeof e!="string"?e:mu(e)?e.slice(2):e}function _u(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return mu(e)?An($g(jg(e))):wu(e);if(typeof e=="number"||typeof e=="bigint")return e?An(Vo(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}At.utils={bytesToHex:gu,concatBytes:qo,hexToBytes:An,utf8ToBytes:wu};At.RLP={encode:Ta,decode:yu};var wt={},Ae={},he={};Object.defineProperty(he,"__esModule",{value:!0});he.add5L=he.add5H=he.add4H=he.add4L=he.add3H=he.add3L=he.add=he.rotlBL=he.rotlBH=he.rotlSL=he.rotlSH=he.rotr32L=he.rotr32H=he.rotrBL=he.rotrBH=he.rotrSL=he.rotrSH=he.shrSL=he.shrSH=he.toBig=he.split=he.fromBig=void 0;const ln=BigInt(2**32-1),Go=BigInt(32);function Oa(e,t=!1){return t?{h:Number(e&ln),l:Number(e>>Go&ln)}:{h:Number(e>>Go&ln)|0,l:Number(e&ln)|0}}he.fromBig=Oa;function vu(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=Oa(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}he.split=vu;const Su=(e,t)=>BigInt(e>>>0)<<Go|BigInt(t>>>0);he.toBig=Su;const Eu=(e,t,r)=>e>>>r;he.shrSH=Eu;const Au=(e,t,r)=>e<<32-r|t>>>r;he.shrSL=Au;const Ru=(e,t,r)=>e>>>r|t<<32-r;he.rotrSH=Ru;const Tu=(e,t,r)=>e<<32-r|t>>>r;he.rotrSL=Tu;const Ou=(e,t,r)=>e<<64-r|t>>>r-32;he.rotrBH=Ou;const Iu=(e,t,r)=>e>>>r-32|t<<64-r;he.rotrBL=Iu;const Pu=(e,t)=>t;he.rotr32H=Pu;const Bu=(e,t)=>e;he.rotr32L=Bu;const Lu=(e,t,r)=>e<<r|t>>>32-r;he.rotlSH=Lu;const Cu=(e,t,r)=>t<<r|e>>>32-r;he.rotlSL=Cu;const Nu=(e,t,r)=>t<<r-32|e>>>64-r;he.rotlBH=Nu;const Mu=(e,t,r)=>e<<r-32|t>>>64-r;he.rotlBL=Mu;function xu(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}he.add=xu;const Du=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);he.add3L=Du;const ku=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;he.add3H=ku;const $u=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);he.add4L=$u;const ju=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;he.add4H=ju;const Uu=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);he.add5L=Uu;const Wu=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;he.add5H=Wu;const Ug={fromBig:Oa,split:vu,toBig:Su,shrSH:Eu,shrSL:Au,rotrSH:Ru,rotrSL:Tu,rotrBH:Ou,rotrBL:Iu,rotr32H:Pu,rotr32L:Bu,rotlSH:Lu,rotlSL:Cu,rotlBH:Nu,rotlBL:Mu,add:xu,add3L:Du,add3H:ku,add4L:$u,add4H:ju,add5H:Wu,add5L:Uu};he.default=Ug;Object.defineProperty(Ae,"__esModule",{value:!0});Ae.shake256=Ae.shake128=Ae.keccak_512=Ae.keccak_384=Ae.keccak_256=Ae.keccak_224=Ae.sha3_512=Ae.sha3_384=Ae.sha3_256=Ae.sha3_224=Ae.Keccak=Ae.keccakP=void 0;const mr=Me,Yr=he,xt=Ut,Hu=[],Fu=[],qu=[],Wg=BigInt(0),$r=BigInt(1),Hg=BigInt(2),Fg=BigInt(7),qg=BigInt(256),Vg=BigInt(113);for(let e=0,t=$r,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Hu.push(2*(5*n+r)),Fu.push((e+1)*(e+2)/2%64);let i=Wg;for(let o=0;o<7;o++)t=(t<<$r^(t>>Fg)*Vg)%qg,t&Hg&&(i^=$r<<($r<<BigInt(o))-$r);qu.push(i)}const[Gg,zg]=(0,Yr.split)(qu,!0),af=(e,t,r)=>r>32?(0,Yr.rotlBH)(e,t,r):(0,Yr.rotlSH)(e,t,r),sf=(e,t,r)=>r>32?(0,Yr.rotlBL)(e,t,r):(0,Yr.rotlSL)(e,t,r);function Vu(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const f=(a+8)%10,s=(a+2)%10,l=r[s],S=r[s+1],T=af(l,S,1)^r[f],w=sf(l,S,1)^r[f+1];for(let d=0;d<50;d+=10)e[a+d]^=T,e[a+d+1]^=w}let i=e[2],o=e[3];for(let a=0;a<24;a++){const f=Fu[a],s=af(i,o,f),l=sf(i,o,f),S=Hu[a];i=e[S],o=e[S+1],e[S]=s,e[S+1]=l}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=e[a+f];for(let f=0;f<10;f++)e[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}e[0]^=Gg[n],e[1]^=zg[n]}r.fill(0)}Ae.keccakP=Vu;let Ia=class Gu extends xt.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,mr.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,xt.u32)(this.state)}keccak(){xt.isLE||(0,xt.byteSwap32)(this.state32),Vu(this.state32,this.rounds),xt.isLE||(0,xt.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,mr.exists)(this);const{blockLen:r,state:n}=this;t=(0,xt.toBytes)(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);for(let f=0;f<a;f++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,mr.exists)(this,!1),(0,mr.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,mr.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,mr.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return t||(t=new Gu(r,n,i,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=a,t.destroyed=this.destroyed,t}};Ae.Keccak=Ia;const er=(e,t,r)=>(0,xt.wrapConstructor)(()=>new Ia(t,e,r));Ae.sha3_224=er(6,144,224/8);Ae.sha3_256=er(6,136,256/8);Ae.sha3_384=er(6,104,384/8);Ae.sha3_512=er(6,72,512/8);Ae.keccak_224=er(1,144,224/8);Ae.keccak_256=er(1,136,256/8);Ae.keccak_384=er(1,104,384/8);Ae.keccak_512=er(1,72,512/8);const zu=(e,t,r)=>(0,xt.wrapXOFConstructorWithOpts)((n={})=>new Ia(t,e,n.dkLen===void 0?r:n.dkLen,!0));Ae.shake128=zu(31,168,128/8);Ae.shake256=zu(31,136,256/8);var Rn={exports:{}};Rn.exports;(function(e,t){var r=xe&&xe.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0,t.bytesToUtf8=s,t.hexToBytes=l,t.equalsBytes=S,t.wrapHash=T;const n=r(Me),i=Ut,o=n.default.bool;t.assertBool=o;const a=n.default.bytes;t.assertBytes=a;var f=Ut;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return f.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return f.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return f.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return f.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return f.utf8ToBytes}});function s(w){if(!(w instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof w}`);return new TextDecoder().decode(w)}function l(w){const d=w.startsWith("0x")?w.substring(2):w;return(0,i.hexToBytes)(d)}function S(w,d){if(w.length!==d.length)return!1;for(let P=0;P<w.length;P++)if(w[P]!==d[P])return!1;return!0}function T(w){return d=>(n.default.bytes(d),w(d))}t.crypto=(()=>{const w=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,d=typeof Ua=="function"&&Ua.bind(e);return{node:d&&!w?d("crypto"):void 0,web:w}})()})(Rn,Rn.exports);var Ku=Rn.exports;Object.defineProperty(wt,"__esModule",{value:!0});wt.keccak512=wt.keccak384=wt.keccak256=wt.keccak224=void 0;const Zr=Ae,Zn=Ku;wt.keccak224=(0,Zn.wrapHash)(Zr.keccak_224);wt.keccak256=(()=>{const e=(0,Zn.wrapHash)(Zr.keccak_256);return e.create=Zr.keccak_256.create,e})();wt.keccak384=(0,Zn.wrapHash)(Zr.keccak_384);wt.keccak512=(0,Zn.wrapHash)(Zr.keccak_512);var pr={},pt={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.isHexString=Re.getKeys=Re.fromAscii=Re.fromUtf8=Re.toAscii=Re.arrayContainsArray=Re.getBinarySize=Re.padToEven=Re.stripHexPrefix=Re.isHexPrefixed=void 0;function Yu(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}Re.isHexPrefixed=Yu;const Kg=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return Yu(e)?e.slice(2):e};Re.stripHexPrefix=Kg;function Zu(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}Re.padToEven=Zu;function Yg(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return ue.byteLength(e,"utf8")}Re.getBinarySize=Yg;function Zg(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}Re.arrayContainsArray=Zg;function Jg(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}Re.toAscii=Jg;function Xg(e){const t=ue.from(e,"utf8");return`0x${Zu(t.toString("hex")).replace(/^0+|0+$/g,"")}`}Re.fromUtf8=Xg;function Qg(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}Re.fromAscii=Qg;function eb(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(r===!0&&!o)o="";else if(typeof o!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof o}`);n.push(o)}return n}Re.getKeys=eb;function tb(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}Re.isHexString=tb;Object.defineProperty(pt,"__esModule",{value:!0});pt.assertIsString=pt.assertIsArray=pt.assertIsBuffer=pt.assertIsHexString=void 0;const rb=Re,nb=function(e){if(!(0,rb.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};pt.assertIsHexString=nb;const ib=function(e){if(!ue.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};pt.assertIsBuffer=ib;const ob=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};pt.assertIsArray=ob;const ab=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};pt.assertIsString=ab;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=pt,r=Re,n=function(N){if(!Number.isSafeInteger(N)||N<0)throw new Error(`Received an invalid integer type: ${N}`);return`0x${N.toString(16)}`};e.intToHex=n;const i=function(N){const H=(0,e.intToHex)(N);return ue.from((0,r.padToEven)(H.slice(2)),"hex")};e.intToBuffer=i;const o=function(N){return ue.allocUnsafe(N).fill(0)};e.zeros=o;const a=function(N,H,Z){const q=(0,e.zeros)(H);return Z?N.length<H?(N.copy(q),q):N.slice(0,H):N.length<H?(N.copy(q,H-N.length),q):N.slice(-H)},f=function(N,H){return(0,t.assertIsBuffer)(N),a(N,H,!1)};e.setLengthLeft=f;const s=function(N,H){return(0,t.assertIsBuffer)(N),a(N,H,!0)};e.setLengthRight=s;const l=function(N){let H=N[0];for(;N.length>0&&H.toString()==="0";)N=N.slice(1),H=N[0];return N},S=function(N){return(0,t.assertIsBuffer)(N),l(N)};e.unpadBuffer=S;const T=function(N){return(0,t.assertIsArray)(N),l(N)};e.unpadArray=T;const w=function(N){return(0,t.assertIsHexString)(N),N=(0,r.stripHexPrefix)(N),"0x"+l(N)};e.unpadHexString=w;const d=function(N){if(N==null)return ue.allocUnsafe(0);if(ue.isBuffer(N))return ue.from(N);if(Array.isArray(N)||N instanceof Uint8Array)return ue.from(N);if(typeof N=="string"){if(!(0,r.isHexString)(N))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${N}`);return ue.from((0,r.padToEven)((0,r.stripHexPrefix)(N)),"hex")}if(typeof N=="number")return(0,e.intToBuffer)(N);if(typeof N=="bigint"){if(N<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${N}`);let H=N.toString(16);return H.length%2&&(H="0"+H),ue.from(H,"hex")}if(N.toArray)return ue.from(N.toArray());if(N.toBuffer)return ue.from(N.toBuffer());throw new Error("invalid type")};e.toBuffer=d;const P=function(N){return N=(0,e.toBuffer)(N),"0x"+N.toString("hex")};e.bufferToHex=P;function I(N){const H=(0,e.bufferToHex)(N);return BigInt(H==="0x"?0:H)}e.bufferToBigInt=I;function y(N){return(0,e.toBuffer)("0x"+N.toString(16))}e.bigIntToBuffer=y;const A=function(N){const H=Number(I(N));if(!Number.isSafeInteger(H))throw new Error("Number exceeds 53 bits");return H};e.bufferToInt=A;const h=function(N){return BigInt.asIntN(256,I(N))};e.fromSigned=h;const u=function(N){return y(BigInt.asUintN(256,N))};e.toUnsigned=u;const c=function(N){return typeof N!="string"||(0,r.isHexPrefixed)(N)?N:"0x"+N};e.addHexPrefix=c;function b(N,H=50){const Z=ue.isBuffer(N)?N.toString("hex"):N;return Z.length<=H?Z:Z.slice(0,H)+"…"}e.short=b;const $=function(N){const H=/^(00)+|(00)+$/g;if(N=(0,r.stripHexPrefix)(N),N.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return ue.from(N.replace(H,""),"hex").toString("utf8")};e.toUtf8=$;const C=function(N){if(ue.isBuffer(N))return`0x${N.toString("hex")}`;if(N instanceof Array){const H=[];for(let Z=0;Z<N.length;Z++)H.push((0,e.baToJSON)(N[Z]));return H}};e.baToJSON=C;const Y=function(N){for(const[H,Z]of Object.entries(N))if(Z!==void 0&&Z.length>0&&Z[0]===0)throw new Error(`${H} cannot have leading zeroes, received: ${Z.toString("hex")}`)};e.validateNoLeadingZeroes=Y;function z(N){return Array.isArray(N)?N.map(H=>z(H)):ue.from(N)}e.arrToBufArr=z;function ne(N){return Array.isArray(N)?N.map(H=>ne(H)):Uint8Array.from(N??[])}e.bufArrToArr=ne;const ie=N=>"0x"+N.toString(16);e.bigIntToHex=ie;function m(N){return(0,e.unpadBuffer)(y(N))}e.bigIntToUnpaddedBuffer=m;function B(N){return(0,e.unpadBuffer)((0,e.intToBuffer)(N))}e.intToUnpaddedBuffer=B})(pr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=At,r=wt,n=Wn,i=Ku,o=pr,a=Un,f=pt,s=Re,l=BigInt(0);class S{constructor(B=l,N=l,H=a.KECCAK256_RLP,Z=a.KECCAK256_NULL){this.nonce=B,this.balance=N,this.storageRoot=H,this.codeHash=Z,this._validate()}static fromAccountData(B){const{nonce:N,balance:H,storageRoot:Z,codeHash:q}=B;return new S(N!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(N)):void 0,H!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(H)):void 0,Z!==void 0?(0,o.toBuffer)(Z):void 0,q!==void 0?(0,o.toBuffer)(q):void 0)}static fromRlpSerializedAccount(B){const N=(0,o.arrToBufArr)(t.RLP.decode(Uint8Array.from(B)));if(!Array.isArray(N))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(N)}static fromValuesArray(B){const[N,H,Z,q]=B;return new S((0,o.bufferToBigInt)(N),(0,o.bufferToBigInt)(H),Z,q)}_validate(){if(this.nonce<l)throw new Error("nonce must be greater than zero");if(this.balance<l)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return ue.from(t.RLP.encode((0,o.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(a.KECCAK256_NULL)}isEmpty(){return this.balance===l&&this.nonce===l&&this.codeHash.equals(a.KECCAK256_NULL)}}e.Account=S;const T=function(m){try{(0,f.assertIsString)(m)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(m)};e.isValidAddress=T;const w=function(m,B){(0,f.assertIsHexString)(m);const N=(0,s.stripHexPrefix)(m).toLowerCase();let H="";B!==void 0&&(H=(0,o.bufferToBigInt)((0,o.toBuffer)(B)).toString()+"0x");const Z=ue.from(H+N,"utf8"),q=(0,i.bytesToHex)((0,r.keccak256)(Z));let G="0x";for(let U=0;U<N.length;U++)parseInt(q[U],16)>=8?G+=N[U].toUpperCase():G+=N[U];return G};e.toChecksumAddress=w;const d=function(m,B){return(0,e.isValidAddress)(m)&&(0,e.toChecksumAddress)(m,B)===m};e.isValidChecksumAddress=d;const P=function(m,B){return(0,f.assertIsBuffer)(m),(0,f.assertIsBuffer)(B),(0,o.bufferToBigInt)(B)===BigInt(0)?ue.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([m,null])))).slice(-20):ue.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([m,B])))).slice(-20)};e.generateAddress=P;const I=function(m,B,N){if((0,f.assertIsBuffer)(m),(0,f.assertIsBuffer)(B),(0,f.assertIsBuffer)(N),m.length!==20)throw new Error("Expected from to be of length 20");if(B.length!==32)throw new Error("Expected salt to be of length 32");const H=(0,r.keccak256)(ue.concat([ue.from("ff","hex"),m,B,(0,r.keccak256)(N)]));return(0,o.toBuffer)(H).slice(-20)};e.generateAddress2=I;const y=function(m){return n.secp256k1.utils.isValidPrivateKey(m)};e.isValidPrivate=y;const A=function(m,B=!1){if((0,f.assertIsBuffer)(m),m.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(ue.concat([ue.from([4]),m])),!0}catch{return!1}if(!B)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(m),!0}catch{return!1}};e.isValidPublic=A;const h=function(m,B=!1){if((0,f.assertIsBuffer)(m),B&&m.length!==64&&(m=ue.from(n.secp256k1.ProjectivePoint.fromHex(m).toRawBytes(!1).slice(1))),m.length!==64)throw new Error("Expected pubKey to be of length 64");return ue.from((0,r.keccak256)(m)).slice(-20)};e.pubToAddress=h,e.publicToAddress=e.pubToAddress;const u=function(m){return(0,f.assertIsBuffer)(m),ue.from(n.secp256k1.ProjectivePoint.fromPrivateKey(m).toRawBytes(!1).slice(1))};e.privateToPublic=u;const c=function(m){return(0,e.publicToAddress)((0,e.privateToPublic)(m))};e.privateToAddress=c;const b=function(m){return(0,f.assertIsBuffer)(m),m.length!==64&&(m=ue.from(n.secp256k1.ProjectivePoint.fromHex(m).toRawBytes(!1).slice(1))),m};e.importPublic=b;const $=function(){const B=(0,o.zeros)(20);return(0,o.bufferToHex)(B)};e.zeroAddress=$;const C=function(m){try{(0,f.assertIsString)(m)}catch{return!1}return(0,e.zeroAddress)()===m};e.isZeroAddress=C;function Y(m){const[B,N,H,Z]=m;return[B,N,(0,o.arrToBufArr)(H).length===0?a.KECCAK256_RLP:H,(0,o.arrToBufArr)(Z).length===0?a.KECCAK256_NULL:Z]}e.accountBodyFromSlim=Y;const z=new Uint8Array(0);function ne(m){const[B,N,H,Z]=m;return[B,N,(0,o.arrToBufArr)(H).equals(a.KECCAK256_RLP)?z:H,(0,o.arrToBufArr)(Z).equals(a.KECCAK256_NULL)?z:Z]}e.accountBodyToSlim=ne;function ie(m,B=!0){const N=B?Y(m):m;return(0,o.arrToBufArr)(t.RLP.encode(N))}e.accountBodyToRLP=ie})(Ra);var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.Address=void 0;const jr=Ra,un=pr;class Dt{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new Dt((0,un.zeros)(20))}static fromString(t){if(!(0,jr.isValidAddress)(t))throw new Error("Invalid address");return new Dt((0,un.toBuffer)(t))}static fromPublicKey(t){if(!ue.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,jr.pubToAddress)(t);return new Dt(r)}static fromPrivateKey(t){if(!ue.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,jr.privateToAddress)(t);return new Dt(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Dt((0,jr.generateAddress)(t.buf,(0,un.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!ue.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!ue.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new Dt((0,jr.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(Dt.zero())}isPrecompileOrSystemAddress(){const t=(0,un.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return ue.from(this.buf)}}rn.Address=Dt;var Jn={},Pa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=pr,r=Re;var n;(function(o){o[o.Number=0]="Number",o[o.BigInt=1]="BigInt",o[o.Buffer=2]="Buffer",o[o.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(o,a){if(o===null)return null;if(o===void 0)return;if(typeof o=="string"&&!(0,r.isHexString)(o))throw new Error(`A string must be provided with a 0x-prefix, given: ${o}`);if(typeof o=="number"&&!Number.isSafeInteger(o))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const f=(0,t.toBuffer)(o);switch(a){case n.Buffer:return f;case n.BigInt:return(0,t.bufferToBigInt)(f);case n.Number:{const s=(0,t.bufferToBigInt)(f);if(s>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(s)}case n.PrefixedHexString:return(0,t.bufferToHex)(f);default:throw new Error("unknown outputType")}}e.toType=i})(Pa);Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Withdrawal=void 0;const ff=rn,oo=pr,Ce=Pa;class Gr{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,a=(0,Ce.toType)(r,Ce.TypeOutput.BigInt),f=(0,Ce.toType)(n,Ce.TypeOutput.BigInt),s=new ff.Address((0,Ce.toType)(i,Ce.TypeOutput.Buffer)),l=(0,Ce.toType)(o,Ce.TypeOutput.BigInt);return new Gr(a,f,s,l)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,o]=t;return Gr.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:o})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,a=(0,Ce.toType)(r,Ce.TypeOutput.BigInt)===BigInt(0)?ue.alloc(0):(0,Ce.toType)(r,Ce.TypeOutput.Buffer),f=(0,Ce.toType)(n,Ce.TypeOutput.BigInt)===BigInt(0)?ue.alloc(0):(0,Ce.toType)(n,Ce.TypeOutput.Buffer);let s;i instanceof ff.Address?s=i.buf:s=(0,Ce.toType)(i,Ce.TypeOutput.Buffer);const l=(0,Ce.toType)(o,Ce.TypeOutput.BigInt)===BigInt(0)?ue.alloc(0):(0,Ce.toType)(o,Ce.TypeOutput.Buffer);return[a,f,s,l]}raw(){return Gr.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,oo.bigIntToHex)(this.index),validatorIndex:(0,oo.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,oo.bigIntToHex)(this.amount)}}}Jn.Withdrawal=Gr;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.hashPersonalMessage=Ze.isValidSignature=Ze.fromRpcSig=Ze.toCompactSig=Ze.toRpcSig=Ze.ecrecover=Ze.ecsign=void 0;const sb=wt,Ju=Wn,it=pr,ao=Un,fb=pt;function lb(e,t,r){const n=Ju.secp256k1.sign(e,t),i=n.toCompactRawBytes(),o=ue.from(i.slice(0,32)),a=ue.from(i.slice(32,64)),f=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:a,v:f}}Ze.ecsign=lb;function Xn(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function Qn(e){return e===BigInt(0)||e===BigInt(1)}const ub=function(e,t,r,n,i){const o=ue.concat([(0,it.setLengthLeft)(r,32),(0,it.setLengthLeft)(n,32)],64),a=Xn(t,i);if(!Qn(a))throw new Error("Invalid signature v value");const s=Ju.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(a)).recoverPublicKey(e);return ue.from(s.toRawBytes(!1).slice(1))};Ze.ecrecover=ub;const cb=function(e,t,r,n){const i=Xn(e,n);if(!Qn(i))throw new Error("Invalid signature v value");return(0,it.bufferToHex)(ue.concat([(0,it.setLengthLeft)(t,32),(0,it.setLengthLeft)(r,32),(0,it.toBuffer)(e)]))};Ze.toRpcSig=cb;const db=function(e,t,r,n){const i=Xn(e,n);if(!Qn(i))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=ue.from(r),o[0]|=128),(0,it.bufferToHex)(ue.concat([(0,it.setLengthLeft)(t,32),(0,it.setLengthLeft)(o,32)]))};Ze.toCompactSig=db;const hb=function(e){const t=(0,it.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,it.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,it.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};Ze.fromRpcSig=hb;const pb=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!Qn(Xn(e,i)))return!1;const o=(0,it.bufferToBigInt)(t),a=(0,it.bufferToBigInt)(r);return!(o===BigInt(0)||o>=ao.SECP256K1_ORDER||a===BigInt(0)||a>=ao.SECP256K1_ORDER||n&&a>=ao.SECP256K1_ORDER_DIV_2)};Ze.isValidSignature=pb;const yb=function(e){(0,fb.assertIsBuffer)(e);const t=ue.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return ue.from((0,sb.keccak256)(ue.concat([t,e])))};Ze.hashPersonalMessage=yb;var Xu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=a=>a.length>0&&a[a.length-1]===16;e.hasTerminator=t;const r=(a,f)=>{for(let s=0,l=0;l<a.length;s+=1,l+=2)f[s]=a[l]<<4|a[l+1]};e.nibblesToBytes=r;const n=a=>{let f=0;(0,e.hasTerminator)(a)&&(f=1,a=a.subarray(0,a.length-1));const s=new Uint8Array(a.length/2+1);return s[0]=f<<5,(a.length&1)===1&&(s[0]|=16,s[0]|=a[0],a=a.subarray(1)),(0,e.nibblesToBytes)(a,s.subarray(1)),s};e.nibblesToCompactBytes=n;const i=a=>{const f=a.length*2+1,s=new Uint8Array(f);for(let l=0;l<a.length;l++){const S=a[l];s[l*2]=S/16,s[l*2+1]=S%16}return s[f-1]=16,s};e.bytesToNibbles=i;const o=a=>{if(a.length===0)return a;let f=(0,e.bytesToNibbles)(a);f[0]<2&&(f=f.subarray(0,f.length-1));const s=2-(f[0]&1);return f.subarray(s)};e.compactBytesToNibbles=o})(Xu);var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.AsyncEventEmitter=void 0;const gb=Xt;async function bb(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((o,a)=>{i.call(e,r,f=>{f?a(f):o()})})}catch(o){n=o}if(n)throw n}class wb extends gb.EventEmitter{emit(t,...r){let[n,i]=r;const o=this;let a=o._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),a=Array.isArray(a)?a:[a],bb(o,a.slice(),n).then(i).catch(i),o.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(o,a){n.removeListener(t,i),r(o,a)}:i=function(o){n.removeListener(t,i),r(o,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let o=this._events[t]??[],a,f;const s=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[t]=o=[o]),f=o.length,a=o.length;a--;)if(o[a]===r){f=a+s;break}return o.splice(f,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}ei.AsyncEventEmitter=wb;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.Lock=void 0;class mb{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}ti.Lock=mb;var Pr={},fr={},rr={},Fr={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Fr.exports;var lf;function _b(){return lf||(lf=1,function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof xe=="object"&&xe;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,f=2147483647,s=36,l=1,S=26,T=38,w=700,d=72,P=128,I="-",y=/^xn--/,A=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=s-l,b=Math.floor,$=String.fromCharCode,C;function Y(D){throw new RangeError(u[D])}function z(D,F){for(var ee=D.length,v=[];ee--;)v[ee]=F(D[ee]);return v}function ne(D,F){var ee=D.split("@"),v="";ee.length>1&&(v=ee[0]+"@",D=ee[1]),D=D.replace(h,".");var M=D.split("."),k=z(M,F).join(".");return v+k}function ie(D){for(var F=[],ee=0,v=D.length,M,k;ee<v;)M=D.charCodeAt(ee++),M>=55296&&M<=56319&&ee<v?(k=D.charCodeAt(ee++),(k&64512)==56320?F.push(((M&1023)<<10)+(k&1023)+65536):(F.push(M),ee--)):F.push(M);return F}function m(D){return z(D,function(F){var ee="";return F>65535&&(F-=65536,ee+=$(F>>>10&1023|55296),F=56320|F&1023),ee+=$(F),ee}).join("")}function B(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:s}function N(D,F){return D+22+75*(D<26)-((F!=0)<<5)}function H(D,F,ee){var v=0;for(D=ee?b(D/w):D>>1,D+=b(D/F);D>c*S>>1;v+=s)D=b(D/c);return b(v+(c+1)*D/(D+T))}function Z(D){var F=[],ee=D.length,v,M=0,k=P,O=d,x,W,V,te,g,E,p,_,j;for(x=D.lastIndexOf(I),x<0&&(x=0),W=0;W<x;++W)D.charCodeAt(W)>=128&&Y("not-basic"),F.push(D.charCodeAt(W));for(V=x>0?x+1:0;V<ee;){for(te=M,g=1,E=s;V>=ee&&Y("invalid-input"),p=B(D.charCodeAt(V++)),(p>=s||p>b((f-M)/g))&&Y("overflow"),M+=p*g,_=E<=O?l:E>=O+S?S:E-O,!(p<_);E+=s)j=s-_,g>b(f/j)&&Y("overflow"),g*=j;v=F.length+1,O=H(M-te,v,te==0),b(M/v)>f-k&&Y("overflow"),k+=b(M/v),M%=v,F.splice(M++,0,k)}return m(F)}function q(D){var F,ee,v,M,k,O,x,W,V,te,g,E=[],p,_,j,Q;for(D=ie(D),p=D.length,F=P,ee=0,k=d,O=0;O<p;++O)g=D[O],g<128&&E.push($(g));for(v=M=E.length,M&&E.push(I);v<p;){for(x=f,O=0;O<p;++O)g=D[O],g>=F&&g<x&&(x=g);for(_=v+1,x-F>b((f-ee)/_)&&Y("overflow"),ee+=(x-F)*_,F=x,O=0;O<p;++O)if(g=D[O],g<F&&++ee>f&&Y("overflow"),g==F){for(W=ee,V=s;te=V<=k?l:V>=k+S?S:V-k,!(W<te);V+=s)Q=W-te,j=s-te,E.push($(N(te+Q%j,0))),W=b(Q/j);E.push($(N(W,0))),k=H(ee,_,v==M),ee=0,++v}++ee,++F}return E.join("")}function G(D){return ne(D,function(F){return y.test(F)?Z(F.slice(4).toLowerCase()):F})}function U(D){return ne(D,function(F){return A.test(F)?"xn--"+q(F):F})}if(a={version:"1.4.1",ucs2:{decode:ie,encode:m},decode:Z,encode:q,toASCII:U,toUnicode:G},n&&i)if(e.exports==n)i.exports=a;else for(C in a)a.hasOwnProperty(C)&&(n[C]=a[C]);else r.punycode=a})(xe)}(Fr,Fr.exports)),Fr.exports}var so,uf;function vb(){if(uf)return so;uf=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=i&&o&&typeof o.get=="function"?o.get:null,f=i&&Set.prototype.forEach,s=typeof WeakMap=="function"&&WeakMap.prototype,l=s?WeakMap.prototype.has:null,S=typeof WeakSet=="function"&&WeakSet.prototype,T=S?WeakSet.prototype.has:null,w=typeof WeakRef=="function"&&WeakRef.prototype,d=w?WeakRef.prototype.deref:null,P=Boolean.prototype.valueOf,I=Object.prototype.toString,y=Function.prototype.toString,A=String.prototype.match,h=String.prototype.slice,u=String.prototype.replace,c=String.prototype.toUpperCase,b=String.prototype.toLowerCase,$=RegExp.prototype.test,C=Array.prototype.concat,Y=Array.prototype.join,z=Array.prototype.slice,ne=Math.floor,ie=typeof BigInt=="function"?BigInt.prototype.valueOf:null,m=Object.getOwnPropertySymbols,B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,N=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===N||!0)?Symbol.toStringTag:null,Z=Object.prototype.propertyIsEnumerable,q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(K){return K.__proto__}:null);function G(K,X){if(K===1/0||K===-1/0||K!==K||K&&K>-1e3&&K<1e3||$.call(/e/,X))return X;var ge=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof K=="number"){var we=K<0?-ne(-K):ne(K);if(we!==K){var ve=String(we),pe=h.call(X,ve.length+1);return u.call(ve,ge,"$&_")+"."+u.call(u.call(pe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return u.call(X,ge,"$&_")}var U=Sr,D=U.custom,F=g(D)?D:null;so=function K(X,ge,we,ve){var pe=ge||{};if(_(pe,"quoteStyle")&&pe.quoteStyle!=="single"&&pe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_(pe,"maxStringLength")&&(typeof pe.maxStringLength=="number"?pe.maxStringLength<0&&pe.maxStringLength!==1/0:pe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qe=_(pe,"customInspect")?pe.customInspect:!0;if(typeof Qe!="boolean"&&Qe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_(pe,"indent")&&pe.indent!==null&&pe.indent!=="	"&&!(parseInt(pe.indent,10)===pe.indent&&pe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_(pe,"numericSeparator")&&typeof pe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var st=pe.numericSeparator;if(typeof X>"u")return"undefined";if(X===null)return"null";if(typeof X=="boolean")return X?"true":"false";if(typeof X=="string")return je(X,pe);if(typeof X=="number"){if(X===0)return 1/0/X>0?"0":"-0";var ke=String(X);return st?G(X,ke):ke}if(typeof X=="bigint"){var Ge=String(X)+"n";return st?G(X,Ge):Ge}var Pt=typeof pe.depth>"u"?5:pe.depth;if(typeof we>"u"&&(we=0),we>=Pt&&Pt>0&&typeof X=="object")return M(X)?"[Array]":"[Object]";var ct=Xe(pe,we);if(typeof ve>"u")ve=[];else if(re(ve,X)>=0)return"[Circular]";function We(rt,nt,ft){if(nt&&(ve=z.call(ve),ve.push(nt)),ft){var ze={depth:pe.depth};return _(pe,"quoteStyle")&&(ze.quoteStyle=pe.quoteStyle),K(rt,ze,we+1,ve)}return K(rt,pe,we+1,ve)}if(typeof X=="function"&&!O(X)){var Bt=Q(X),R=qe(X,We);return"[Function"+(Bt?": "+Bt:" (anonymous)")+"]"+(R.length>0?" { "+Y.call(R,", ")+" }":"")}if(g(X)){var L=N?u.call(String(X),/^(Symbol\(.*\))_[^)]*$/,"$1"):B.call(X);return typeof X=="object"&&!N?De(L):L}if(Ee(X)){for(var oe="<"+b.call(String(X.nodeName)),ae=X.attributes||[],se=0;se<ae.length;se++)oe+=" "+ae[se].name+"="+ee(v(ae[se].value),"double",pe);return oe+=">",X.childNodes&&X.childNodes.length&&(oe+="..."),oe+="</"+b.call(String(X.nodeName))+">",oe}if(M(X)){if(X.length===0)return"[]";var Be=qe(X,We);return ct&&!at(Be)?"["+Pe(Be,ct)+"]":"[ "+Y.call(Be,", ")+" ]"}if(x(X)){var $e=qe(X,We);return!("cause"in Error.prototype)&&"cause"in X&&!Z.call(X,"cause")?"{ ["+String(X)+"] "+Y.call(C.call("[cause]: "+We(X.cause),$e),", ")+" }":$e.length===0?"["+String(X)+"]":"{ ["+String(X)+"] "+Y.call($e,", ")+" }"}if(typeof X=="object"&&Qe){if(F&&typeof X[F]=="function"&&U)return U(X,{depth:Pt-we});if(Qe!=="symbol"&&typeof X.inspect=="function")return X.inspect()}if(le(X)){var Lt=[];return n&&n.call(X,function(rt,nt){Lt.push(We(nt,X,!0)+" => "+We(rt,X))}),Le("Map",r.call(X),Lt,ct)}if(me(X)){var tt=[];return f&&f.call(X,function(rt){tt.push(We(rt,X))}),Le("Set",a.call(X),tt,ct)}if(J(X))return Ie("WeakMap");if(fe(X))return Ie("WeakSet");if(de(X))return Ie("WeakRef");if(V(X))return De(We(Number(X)));if(E(X))return De(We(ie.call(X)));if(te(X))return De(P.call(X));if(W(X))return De(We(String(X)));if(typeof window<"u"&&X===window)return"{ [object Window] }";if(typeof globalThis<"u"&&X===globalThis||typeof xe<"u"&&X===xe)return"{ [object globalThis] }";if(!k(X)&&!O(X)){var vt=qe(X,We),Ft=q?q(X)===Object.prototype:X instanceof Object||X.constructor===Object,St=X instanceof Object?"":"null prototype",Ct=!Ft&&H&&Object(X)===X&&H in X?h.call(j(X),8,-1):St?"Object":"",Nt=Ft||typeof X.constructor!="function"?"":X.constructor.name?X.constructor.name+" ":"",bt=Nt+(Ct||St?"["+Y.call(C.call([],Ct||[],St||[]),": ")+"] ":"");return vt.length===0?bt+"{}":ct?bt+"{"+Pe(vt,ct)+"}":bt+"{ "+Y.call(vt,", ")+" }"}return String(X)};function ee(K,X,ge){var we=(ge.quoteStyle||X)==="double"?'"':"'";return we+K+we}function v(K){return u.call(String(K),/"/g,"&quot;")}function M(K){return j(K)==="[object Array]"&&(!H||!(typeof K=="object"&&H in K))}function k(K){return j(K)==="[object Date]"&&(!H||!(typeof K=="object"&&H in K))}function O(K){return j(K)==="[object RegExp]"&&(!H||!(typeof K=="object"&&H in K))}function x(K){return j(K)==="[object Error]"&&(!H||!(typeof K=="object"&&H in K))}function W(K){return j(K)==="[object String]"&&(!H||!(typeof K=="object"&&H in K))}function V(K){return j(K)==="[object Number]"&&(!H||!(typeof K=="object"&&H in K))}function te(K){return j(K)==="[object Boolean]"&&(!H||!(typeof K=="object"&&H in K))}function g(K){if(N)return K&&typeof K=="object"&&K instanceof Symbol;if(typeof K=="symbol")return!0;if(!K||typeof K!="object"||!B)return!1;try{return B.call(K),!0}catch{}return!1}function E(K){if(!K||typeof K!="object"||!ie)return!1;try{return ie.call(K),!0}catch{}return!1}var p=Object.prototype.hasOwnProperty||function(K){return K in this};function _(K,X){return p.call(K,X)}function j(K){return I.call(K)}function Q(K){if(K.name)return K.name;var X=A.call(y.call(K),/^function\s*([\w$]+)/);return X?X[1]:null}function re(K,X){if(K.indexOf)return K.indexOf(X);for(var ge=0,we=K.length;ge<we;ge++)if(K[ge]===X)return ge;return-1}function le(K){if(!r||!K||typeof K!="object")return!1;try{r.call(K);try{a.call(K)}catch{return!0}return K instanceof Map}catch{}return!1}function J(K){if(!l||!K||typeof K!="object")return!1;try{l.call(K,l);try{T.call(K,T)}catch{return!0}return K instanceof WeakMap}catch{}return!1}function de(K){if(!d||!K||typeof K!="object")return!1;try{return d.call(K),!0}catch{}return!1}function me(K){if(!a||!K||typeof K!="object")return!1;try{a.call(K);try{r.call(K)}catch{return!0}return K instanceof Set}catch{}return!1}function fe(K){if(!T||!K||typeof K!="object")return!1;try{T.call(K,T);try{l.call(K,l)}catch{return!0}return K instanceof WeakSet}catch{}return!1}function Ee(K){return!K||typeof K!="object"?!1:typeof HTMLElement<"u"&&K instanceof HTMLElement?!0:typeof K.nodeName=="string"&&typeof K.getAttribute=="function"}function je(K,X){if(K.length>X.maxStringLength){var ge=K.length-X.maxStringLength,we="... "+ge+" more character"+(ge>1?"s":"");return je(h.call(K,0,X.maxStringLength),X)+we}var ve=u.call(u.call(K,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ue);return ee(ve,"single",X)}function Ue(K){var X=K.charCodeAt(0),ge={8:"b",9:"t",10:"n",12:"f",13:"r"}[X];return ge?"\\"+ge:"\\x"+(X<16?"0":"")+c.call(X.toString(16))}function De(K){return"Object("+K+")"}function Ie(K){return K+" { ? }"}function Le(K,X,ge,we){var ve=we?Pe(ge,we):Y.call(ge,", ");return K+" ("+X+") {"+ve+"}"}function at(K){for(var X=0;X<K.length;X++)if(re(K[X],`
`)>=0)return!1;return!0}function Xe(K,X){var ge;if(K.indent==="	")ge="	";else if(typeof K.indent=="number"&&K.indent>0)ge=Y.call(Array(K.indent+1)," ");else return null;return{base:ge,prev:Y.call(Array(X+1),ge)}}function Pe(K,X){if(K.length===0)return"";var ge=`
`+X.prev+X.base;return ge+Y.call(K,","+ge)+`
`+X.prev}function qe(K,X){var ge=M(K),we=[];if(ge){we.length=K.length;for(var ve=0;ve<K.length;ve++)we[ve]=_(K,ve)?X(K[ve],K):""}var pe=typeof m=="function"?m(K):[],Qe;if(N){Qe={};for(var st=0;st<pe.length;st++)Qe["$"+pe[st]]=pe[st]}for(var ke in K)_(K,ke)&&(ge&&String(Number(ke))===ke&&ke<K.length||N&&Qe["$"+ke]instanceof Symbol||($.call(/[^\w$]/,ke)?we.push(X(ke,K)+": "+X(K[ke],K)):we.push(ke+": "+X(K[ke],K))));if(typeof m=="function")for(var Ge=0;Ge<pe.length;Ge++)Z.call(K,pe[Ge])&&we.push("["+X(pe[Ge])+"]: "+X(K[pe[Ge]],K));return we}return so}var fo,cf;function Sb(){if(cf)return fo;cf=1;var e=Cr,t=ia,r=vb(),n=Xr,i=e("%WeakMap%",!0),o=e("%Map%",!0),a=t("WeakMap.prototype.get",!0),f=t("WeakMap.prototype.set",!0),s=t("WeakMap.prototype.has",!0),l=t("Map.prototype.get",!0),S=t("Map.prototype.set",!0),T=t("Map.prototype.has",!0),w=function(y,A){for(var h=y,u;(u=h.next)!==null;h=u)if(u.key===A)return h.next=u.next,u.next=y.next,y.next=u,u},d=function(y,A){var h=w(y,A);return h&&h.value},P=function(y,A,h){var u=w(y,A);u?u.value=h:y.next={key:A,next:y.next,value:h}},I=function(y,A){return!!w(y,A)};return fo=function(){var A,h,u,c={assert:function(b){if(!c.has(b))throw new n("Side channel does not contain "+r(b))},get:function(b){if(i&&b&&(typeof b=="object"||typeof b=="function")){if(A)return a(A,b)}else if(o){if(h)return l(h,b)}else if(u)return d(u,b)},has:function(b){if(i&&b&&(typeof b=="object"||typeof b=="function")){if(A)return s(A,b)}else if(o){if(h)return T(h,b)}else if(u)return I(u,b);return!1},set:function(b,$){i&&b&&(typeof b=="object"||typeof b=="function")?(A||(A=new i),f(A,b,$)):o?(h||(h=new o),S(h,b,$)):(u||(u={key:{},next:null}),P(u,b,$))}};return c},fo}var lo,df;function Ba(){if(df)return lo;df=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return lo={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},lo}var uo,hf;function Qu(){if(hf)return uo;hf=1;var e=Ba(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var y=[],A=0;A<256;++A)y.push("%"+((A<16?"0":"")+A.toString(16)).toUpperCase());return y}(),i=function(A){for(;A.length>1;){var h=A.pop(),u=h.obj[h.prop];if(r(u)){for(var c=[],b=0;b<u.length;++b)typeof u[b]<"u"&&c.push(u[b]);h.obj[h.prop]=c}}},o=function(A,h){for(var u=h&&h.plainObjects?Object.create(null):{},c=0;c<A.length;++c)typeof A[c]<"u"&&(u[c]=A[c]);return u},a=function y(A,h,u){if(!h)return A;if(typeof h!="object"){if(r(A))A.push(h);else if(A&&typeof A=="object")(u&&(u.plainObjects||u.allowPrototypes)||!t.call(Object.prototype,h))&&(A[h]=!0);else return[A,h];return A}if(!A||typeof A!="object")return[A].concat(h);var c=A;return r(A)&&!r(h)&&(c=o(A,u)),r(A)&&r(h)?(h.forEach(function(b,$){if(t.call(A,$)){var C=A[$];C&&typeof C=="object"&&b&&typeof b=="object"?A[$]=y(C,b,u):A.push(b)}else A[$]=b}),A):Object.keys(h).reduce(function(b,$){var C=h[$];return t.call(b,$)?b[$]=y(b[$],C,u):b[$]=C,b},c)},f=function(A,h){return Object.keys(h).reduce(function(u,c){return u[c]=h[c],u},A)},s=function(y,A,h){var u=y.replace(/\+/g," ");if(h==="iso-8859-1")return u.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(u)}catch{return u}},l=1024,S=function(A,h,u,c,b){if(A.length===0)return A;var $=A;if(typeof A=="symbol"?$=Symbol.prototype.toString.call(A):typeof A!="string"&&($=String(A)),u==="iso-8859-1")return escape($).replace(/%u[0-9a-f]{4}/gi,function(B){return"%26%23"+parseInt(B.slice(2),16)+"%3B"});for(var C="",Y=0;Y<$.length;Y+=l){for(var z=$.length>=l?$.slice(Y,Y+l):$,ne=[],ie=0;ie<z.length;++ie){var m=z.charCodeAt(ie);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||b===e.RFC1738&&(m===40||m===41)){ne[ne.length]=z.charAt(ie);continue}if(m<128){ne[ne.length]=n[m];continue}if(m<2048){ne[ne.length]=n[192|m>>6]+n[128|m&63];continue}if(m<55296||m>=57344){ne[ne.length]=n[224|m>>12]+n[128|m>>6&63]+n[128|m&63];continue}ie+=1,m=65536+((m&1023)<<10|z.charCodeAt(ie)&1023),ne[ne.length]=n[240|m>>18]+n[128|m>>12&63]+n[128|m>>6&63]+n[128|m&63]}C+=ne.join("")}return C},T=function(A){for(var h=[{obj:{o:A},prop:"o"}],u=[],c=0;c<h.length;++c)for(var b=h[c],$=b.obj[b.prop],C=Object.keys($),Y=0;Y<C.length;++Y){var z=C[Y],ne=$[z];typeof ne=="object"&&ne!==null&&u.indexOf(ne)===-1&&(h.push({obj:$,prop:z}),u.push(ne))}return i(h),A},w=function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},d=function(A){return!A||typeof A!="object"?!1:!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},P=function(A,h){return[].concat(A,h)},I=function(A,h){if(r(A)){for(var u=[],c=0;c<A.length;c+=1)u.push(h(A[c]));return u}return h(A)};return uo={arrayToObject:o,assign:f,combine:P,compact:T,decode:s,encode:S,isBuffer:d,isRegExp:w,maybeMap:I,merge:a},uo}var co,pf;function Eb(){if(pf)return co;pf=1;var e=Sb(),t=Qu(),r=Ba(),n=Object.prototype.hasOwnProperty,i={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,A){return y+"["+A+"]"},repeat:function(y){return y}},o=Array.isArray,a=Array.prototype.push,f=function(I,y){a.apply(I,o(y)?y:[y])},s=Date.prototype.toISOString,l=r.default,S={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:l,formatter:r.formatters[l],indices:!1,serializeDate:function(y){return s.call(y)},skipNulls:!1,strictNullHandling:!1},T=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},w={},d=function I(y,A,h,u,c,b,$,C,Y,z,ne,ie,m,B,N,H,Z,q){for(var G=y,U=q,D=0,F=!1;(U=U.get(w))!==void 0&&!F;){var ee=U.get(y);if(D+=1,typeof ee<"u"){if(ee===D)throw new RangeError("Cyclic object value");F=!0}typeof U.get(w)>"u"&&(D=0)}if(typeof z=="function"?G=z(A,G):G instanceof Date?G=m(G):h==="comma"&&o(G)&&(G=t.maybeMap(G,function(j){return j instanceof Date?m(j):j})),G===null){if(b)return Y&&!H?Y(A,S.encoder,Z,"key",B):A;G=""}if(T(G)||t.isBuffer(G)){if(Y){var v=H?A:Y(A,S.encoder,Z,"key",B);return[N(v)+"="+N(Y(G,S.encoder,Z,"value",B))]}return[N(A)+"="+N(String(G))]}var M=[];if(typeof G>"u")return M;var k;if(h==="comma"&&o(G))H&&Y&&(G=t.maybeMap(G,Y)),k=[{value:G.length>0?G.join(",")||null:void 0}];else if(o(z))k=z;else{var O=Object.keys(G);k=ne?O.sort(ne):O}var x=C?A.replace(/\./g,"%2E"):A,W=u&&o(G)&&G.length===1?x+"[]":x;if(c&&o(G)&&G.length===0)return W+"[]";for(var V=0;V<k.length;++V){var te=k[V],g=typeof te=="object"&&typeof te.value<"u"?te.value:G[te];if(!($&&g===null)){var E=ie&&C?te.replace(/\./g,"%2E"):te,p=o(G)?typeof h=="function"?h(W,E):W:W+(ie?"."+E:"["+E+"]");q.set(y,D);var _=e();_.set(w,q),f(M,I(g,p,h,u,c,b,$,C,h==="comma"&&H&&o(G)?null:Y,z,ne,ie,m,B,N,H,Z,_))}}return M},P=function(y){if(!y)return S;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.encodeDotInKeys<"u"&&typeof y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var A=y.charset||S.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=r.default;if(typeof y.format<"u"){if(!n.call(r.formatters,y.format))throw new TypeError("Unknown format option provided.");h=y.format}var u=r.formatters[h],c=S.filter;(typeof y.filter=="function"||o(y.filter))&&(c=y.filter);var b;if(y.arrayFormat in i?b=y.arrayFormat:"indices"in y?b=y.indices?"indices":"repeat":b=S.arrayFormat,"commaRoundTrip"in y&&typeof y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var $=typeof y.allowDots>"u"?y.encodeDotInKeys===!0?!0:S.allowDots:!!y.allowDots;return{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:S.addQueryPrefix,allowDots:$,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:S.allowEmptyArrays,arrayFormat:b,charset:A,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:S.charsetSentinel,commaRoundTrip:y.commaRoundTrip,delimiter:typeof y.delimiter>"u"?S.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:S.encode,encodeDotInKeys:typeof y.encodeDotInKeys=="boolean"?y.encodeDotInKeys:S.encodeDotInKeys,encoder:typeof y.encoder=="function"?y.encoder:S.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:S.encodeValuesOnly,filter:c,format:h,formatter:u,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:S.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:S.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:S.strictNullHandling}};return co=function(I,y){var A=I,h=P(y),u,c;typeof h.filter=="function"?(c=h.filter,A=c("",A)):o(h.filter)&&(c=h.filter,u=c);var b=[];if(typeof A!="object"||A===null)return"";var $=i[h.arrayFormat],C=$==="comma"&&h.commaRoundTrip;u||(u=Object.keys(A)),h.sort&&u.sort(h.sort);for(var Y=e(),z=0;z<u.length;++z){var ne=u[z];h.skipNulls&&A[ne]===null||f(b,d(A[ne],ne,$,C,h.allowEmptyArrays,h.strictNullHandling,h.skipNulls,h.encodeDotInKeys,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.format,h.formatter,h.encodeValuesOnly,h.charset,Y))}var ie=b.join(h.delimiter),m=h.addQueryPrefix===!0?"?":"";return h.charsetSentinel&&(h.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),ie.length>0?m+ie:""},co}var ho,yf;function Ab(){if(yf)return ho;yf=1;var e=Qu(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(w){return w.replace(/&#(\d+);/g,function(d,P){return String.fromCharCode(parseInt(P,10))})},o=function(w,d){return w&&typeof w=="string"&&d.comma&&w.indexOf(",")>-1?w.split(","):w},a="utf8=%26%2310003%3B",f="utf8=%E2%9C%93",s=function(d,P){var I={__proto__:null},y=P.ignoreQueryPrefix?d.replace(/^\?/,""):d;y=y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var A=P.parameterLimit===1/0?void 0:P.parameterLimit,h=y.split(P.delimiter,A),u=-1,c,b=P.charset;if(P.charsetSentinel)for(c=0;c<h.length;++c)h[c].indexOf("utf8=")===0&&(h[c]===f?b="utf-8":h[c]===a&&(b="iso-8859-1"),u=c,c=h.length);for(c=0;c<h.length;++c)if(c!==u){var $=h[c],C=$.indexOf("]="),Y=C===-1?$.indexOf("="):C+1,z,ne;Y===-1?(z=P.decoder($,n.decoder,b,"key"),ne=P.strictNullHandling?null:""):(z=P.decoder($.slice(0,Y),n.decoder,b,"key"),ne=e.maybeMap(o($.slice(Y+1),P),function(m){return P.decoder(m,n.decoder,b,"value")})),ne&&P.interpretNumericEntities&&b==="iso-8859-1"&&(ne=i(ne)),$.indexOf("[]=")>-1&&(ne=r(ne)?[ne]:ne);var ie=t.call(I,z);ie&&P.duplicates==="combine"?I[z]=e.combine(I[z],ne):(!ie||P.duplicates==="last")&&(I[z]=ne)}return I},l=function(w,d,P,I){for(var y=I?d:o(d,P),A=w.length-1;A>=0;--A){var h,u=w[A];if(u==="[]"&&P.parseArrays)h=P.allowEmptyArrays&&(y===""||P.strictNullHandling&&y===null)?[]:[].concat(y);else{h=P.plainObjects?Object.create(null):{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,b=P.decodeDotInKeys?c.replace(/%2E/g,"."):c,$=parseInt(b,10);!P.parseArrays&&b===""?h={0:y}:!isNaN($)&&u!==b&&String($)===b&&$>=0&&P.parseArrays&&$<=P.arrayLimit?(h=[],h[$]=y):b!=="__proto__"&&(h[b]=y)}y=h}return y},S=function(d,P,I,y){if(d){var A=I.allowDots?d.replace(/\.([^.[]+)/g,"[$1]"):d,h=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,c=I.depth>0&&h.exec(A),b=c?A.slice(0,c.index):A,$=[];if(b){if(!I.plainObjects&&t.call(Object.prototype,b)&&!I.allowPrototypes)return;$.push(b)}for(var C=0;I.depth>0&&(c=u.exec(A))!==null&&C<I.depth;){if(C+=1,!I.plainObjects&&t.call(Object.prototype,c[1].slice(1,-1))&&!I.allowPrototypes)return;$.push(c[1])}if(c){if(I.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+I.depth+" and strictDepth is true");$.push("["+A.slice(c.index)+"]")}return l($,P,I,y)}},T=function(d){if(!d)return n;if(typeof d.allowEmptyArrays<"u"&&typeof d.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof d.decodeDotInKeys<"u"&&typeof d.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(d.decoder!==null&&typeof d.decoder<"u"&&typeof d.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof d.charset<"u"&&d.charset!=="utf-8"&&d.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var P=typeof d.charset>"u"?n.charset:d.charset,I=typeof d.duplicates>"u"?n.duplicates:d.duplicates;if(I!=="combine"&&I!=="first"&&I!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var y=typeof d.allowDots>"u"?d.decodeDotInKeys===!0?!0:n.allowDots:!!d.allowDots;return{allowDots:y,allowEmptyArrays:typeof d.allowEmptyArrays=="boolean"?!!d.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof d.allowPrototypes=="boolean"?d.allowPrototypes:n.allowPrototypes,allowSparse:typeof d.allowSparse=="boolean"?d.allowSparse:n.allowSparse,arrayLimit:typeof d.arrayLimit=="number"?d.arrayLimit:n.arrayLimit,charset:P,charsetSentinel:typeof d.charsetSentinel=="boolean"?d.charsetSentinel:n.charsetSentinel,comma:typeof d.comma=="boolean"?d.comma:n.comma,decodeDotInKeys:typeof d.decodeDotInKeys=="boolean"?d.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof d.decoder=="function"?d.decoder:n.decoder,delimiter:typeof d.delimiter=="string"||e.isRegExp(d.delimiter)?d.delimiter:n.delimiter,depth:typeof d.depth=="number"||d.depth===!1?+d.depth:n.depth,duplicates:I,ignoreQueryPrefix:d.ignoreQueryPrefix===!0,interpretNumericEntities:typeof d.interpretNumericEntities=="boolean"?d.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof d.parameterLimit=="number"?d.parameterLimit:n.parameterLimit,parseArrays:d.parseArrays!==!1,plainObjects:typeof d.plainObjects=="boolean"?d.plainObjects:n.plainObjects,strictDepth:typeof d.strictDepth=="boolean"?!!d.strictDepth:n.strictDepth,strictNullHandling:typeof d.strictNullHandling=="boolean"?d.strictNullHandling:n.strictNullHandling}};return ho=function(w,d){var P=T(d);if(w===""||w===null||typeof w>"u")return P.plainObjects?Object.create(null):{};for(var I=typeof w=="string"?s(w,P):w,y=P.plainObjects?Object.create(null):{},A=Object.keys(I),h=0;h<A.length;++h){var u=A[h],c=S(u,I[u],P,typeof w=="string");y=e.merge(y,c,P)}return P.allowSparse===!0?y:e.compact(y)},ho}var po,gf;function Rb(){if(gf)return po;gf=1;var e=Eb(),t=Ab(),r=Ba();return po={formats:r,parse:t,stringify:e},po}var bf;function Tb(){if(bf)return rr;bf=1;var e=_b();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(o),f=["'"].concat(a),s=["%","/","?",";","#"].concat(f),l=["/","?","#"],S=255,T=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},P={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=Rb();function A(b,$,C){if(b&&typeof b=="object"&&b instanceof t)return b;var Y=new t;return Y.parse(b,$,C),Y}t.prototype.parse=function(b,$,C){if(typeof b!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var Y=b.indexOf("?"),z=Y!==-1&&Y<b.indexOf("#")?"?":"#",ne=b.split(z),ie=/\\/g;ne[0]=ne[0].replace(ie,"/"),b=ne.join(z);var m=b;if(m=m.trim(),!C&&b.split("#").length===1){var B=i.exec(m);if(B)return this.path=m,this.href=m,this.pathname=B[1],B[2]?(this.search=B[2],$?this.query=y.parse(this.search.substr(1)):this.query=this.search.substr(1)):$&&(this.search="",this.query={}),this}var N=r.exec(m);if(N){N=N[0];var H=N.toLowerCase();this.protocol=H,m=m.substr(N.length)}if(C||N||m.match(/^\/\/[^@/]+@[^@/]+/)){var Z=m.substr(0,2)==="//";Z&&!(N&&P[N])&&(m=m.substr(2),this.slashes=!0)}if(!P[N]&&(Z||N&&!I[N])){for(var q=-1,G=0;G<l.length;G++){var U=m.indexOf(l[G]);U!==-1&&(q===-1||U<q)&&(q=U)}var D,F;q===-1?F=m.lastIndexOf("@"):F=m.lastIndexOf("@",q),F!==-1&&(D=m.slice(0,F),m=m.slice(F+1),this.auth=decodeURIComponent(D)),q=-1;for(var G=0;G<s.length;G++){var U=m.indexOf(s[G]);U!==-1&&(q===-1||U<q)&&(q=U)}q===-1&&(q=m.length),this.host=m.slice(0,q),m=m.slice(q),this.parseHost(),this.hostname=this.hostname||"";var ee=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ee)for(var v=this.hostname.split(/\./),G=0,M=v.length;G<M;G++){var k=v[G];if(k&&!k.match(T)){for(var O="",x=0,W=k.length;x<W;x++)k.charCodeAt(x)>127?O+="x":O+=k[x];if(!O.match(T)){var V=v.slice(0,G),te=v.slice(G+1),g=k.match(w);g&&(V.push(g[1]),te.unshift(g[2])),te.length&&(m="/"+te.join(".")+m),this.hostname=V.join(".");break}}}this.hostname.length>S?this.hostname="":this.hostname=this.hostname.toLowerCase(),ee||(this.hostname=e.toASCII(this.hostname));var E=this.port?":"+this.port:"",p=this.hostname||"";this.host=p+E,this.href+=this.host,ee&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),m[0]!=="/"&&(m="/"+m))}if(!d[H])for(var G=0,M=f.length;G<M;G++){var _=f[G];if(m.indexOf(_)!==-1){var j=encodeURIComponent(_);j===_&&(j=escape(_)),m=m.split(_).join(j)}}var Q=m.indexOf("#");Q!==-1&&(this.hash=m.substr(Q),m=m.slice(0,Q));var re=m.indexOf("?");if(re!==-1?(this.search=m.substr(re),this.query=m.substr(re+1),$&&(this.query=y.parse(this.query)),m=m.slice(0,re)):$&&(this.search="",this.query={}),m&&(this.pathname=m),I[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var E=this.pathname||"",le=this.search||"";this.path=E+le}return this.href=this.format(),this};function h(b){return typeof b=="string"&&(b=A(b)),b instanceof t?b.format():t.prototype.format.call(b)}t.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var $=this.protocol||"",C=this.pathname||"",Y=this.hash||"",z=!1,ne="";this.host?z=b+this.host:this.hostname&&(z=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ne=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ie=this.search||ne&&"?"+ne||"";return $&&$.substr(-1)!==":"&&($+=":"),this.slashes||(!$||I[$])&&z!==!1?(z="//"+(z||""),C&&C.charAt(0)!=="/"&&(C="/"+C)):z||(z=""),Y&&Y.charAt(0)!=="#"&&(Y="#"+Y),ie&&ie.charAt(0)!=="?"&&(ie="?"+ie),C=C.replace(/[?#]/g,function(m){return encodeURIComponent(m)}),ie=ie.replace("#","%23"),$+z+C+ie+Y};function u(b,$){return A(b,!1,!0).resolve($)}t.prototype.resolve=function(b){return this.resolveObject(A(b,!1,!0)).format()};function c(b,$){return b?A(b,!1,!0).resolveObject($):$}return t.prototype.resolveObject=function(b){if(typeof b=="string"){var $=new t;$.parse(b,!1,!0),b=$}for(var C=new t,Y=Object.keys(this),z=0;z<Y.length;z++){var ne=Y[z];C[ne]=this[ne]}if(C.hash=b.hash,b.href==="")return C.href=C.format(),C;if(b.slashes&&!b.protocol){for(var ie=Object.keys(b),m=0;m<ie.length;m++){var B=ie[m];B!=="protocol"&&(C[B]=b[B])}return I[C.protocol]&&C.hostname&&!C.pathname&&(C.pathname="/",C.path=C.pathname),C.href=C.format(),C}if(b.protocol&&b.protocol!==C.protocol){if(!I[b.protocol]){for(var N=Object.keys(b),H=0;H<N.length;H++){var Z=N[H];C[Z]=b[Z]}return C.href=C.format(),C}if(C.protocol=b.protocol,!b.host&&!P[b.protocol]){for(var M=(b.pathname||"").split("/");M.length&&!(b.host=M.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),M[0]!==""&&M.unshift(""),M.length<2&&M.unshift(""),C.pathname=M.join("/")}else C.pathname=b.pathname;if(C.search=b.search,C.query=b.query,C.host=b.host||"",C.auth=b.auth,C.hostname=b.hostname||b.host,C.port=b.port,C.pathname||C.search){var q=C.pathname||"",G=C.search||"";C.path=q+G}return C.slashes=C.slashes||b.slashes,C.href=C.format(),C}var U=C.pathname&&C.pathname.charAt(0)==="/",D=b.host||b.pathname&&b.pathname.charAt(0)==="/",F=D||U||C.host&&b.pathname,ee=F,v=C.pathname&&C.pathname.split("/")||[],M=b.pathname&&b.pathname.split("/")||[],k=C.protocol&&!I[C.protocol];if(k&&(C.hostname="",C.port=null,C.host&&(v[0]===""?v[0]=C.host:v.unshift(C.host)),C.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(M[0]===""?M[0]=b.host:M.unshift(b.host)),b.host=null),F=F&&(M[0]===""||v[0]==="")),D)C.host=b.host||b.host===""?b.host:C.host,C.hostname=b.hostname||b.hostname===""?b.hostname:C.hostname,C.search=b.search,C.query=b.query,v=M;else if(M.length)v||(v=[]),v.pop(),v=v.concat(M),C.search=b.search,C.query=b.query;else if(b.search!=null){if(k){C.host=v.shift(),C.hostname=C.host;var O=C.host&&C.host.indexOf("@")>0?C.host.split("@"):!1;O&&(C.auth=O.shift(),C.hostname=O.shift(),C.host=C.hostname)}return C.search=b.search,C.query=b.query,(C.pathname!==null||C.search!==null)&&(C.path=(C.pathname?C.pathname:"")+(C.search?C.search:"")),C.href=C.format(),C}if(!v.length)return C.pathname=null,C.search?C.path="/"+C.search:C.path=null,C.href=C.format(),C;for(var x=v.slice(-1)[0],W=(C.host||b.host||v.length>1)&&(x==="."||x==="..")||x==="",V=0,te=v.length;te>=0;te--)x=v[te],x==="."?v.splice(te,1):x===".."?(v.splice(te,1),V++):V&&(v.splice(te,1),V--);if(!F&&!ee)for(;V--;V)v.unshift("..");F&&v[0]!==""&&(!v[0]||v[0].charAt(0)!=="/")&&v.unshift(""),W&&v.join("/").substr(-1)!=="/"&&v.push("");var g=v[0]===""||v[0]&&v[0].charAt(0)==="/";if(k){C.hostname=g?"":v.length?v.shift():"",C.host=C.hostname;var O=C.host&&C.host.indexOf("@")>0?C.host.split("@"):!1;O&&(C.auth=O.shift(),C.hostname=O.shift(),C.host=C.hostname)}return F=F||C.host&&v.length,F&&!g&&v.unshift(""),v.length>0?C.pathname=v.join("/"):(C.pathname=null,C.path=null),(C.pathname!==null||C.search!==null)&&(C.path=(C.pathname?C.pathname:"")+(C.search?C.search:"")),C.auth=b.auth||C.auth,C.slashes=C.slashes||b.slashes,C.href=C.format(),C},t.prototype.parseHost=function(){var b=this.host,$=n.exec(b);$&&($=$[0],$!==":"&&(this.port=$.substr(1)),b=b.substr(0,b.length-$.length)),b&&(this.hostname=b)},rr.parse=A,rr.resolve=u,rr.resolveObject=c,rr.format=h,rr.Url=t,rr}Object.defineProperty(fr,"__esModule",{value:!0});fr.InvalidStatusCodeError=fr.InvalidCertError=void 0;const ec=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class zo extends Error{constructor(t,r){super(t),this.fingerprint256=r}}fr.InvalidCertError=zo;class La extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}fr.InvalidStatusCodeError=La;function tc(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let wf={};function Ko(e,t){var w;let r={...ec,...t};const n=Sr,i=Sr,o=Sr,{promisify:a}=Od(),{resolve:f}=Tb(),s=!!/^https/.test(e);let l={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const S=d=>d.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const d={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},P=[s,s&&((w=r.sslPinnedCertificates)==null?void 0:w.map(I=>S(I)).sort())].join();l.agent=wf[P]||(wf[P]=new(s?i:n).Agent(d))}r.type==="json"&&(l.headers["Content-Type"]="application/json"),r.data&&(r.method||(l.method="POST"),l.body=r.type==="json"?JSON.stringify(r.data):r.data),l.headers={...l.headers,...r.headers},r.sslAllowSelfSigned&&(l.rejectUnauthorized=!1);const T=async d=>{const P=d.statusCode;if(r.redirect&&300<=P&&P<400&&d.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await Ko(f(e,d.headers.location),r)}if(r.expectStatusCode&&P!==r.expectStatusCode)throw d.resume(),new La(P);let I=[];for await(const u of d)I.push(u);let y=ue.concat(I);const A=d.headers["content-encoding"];A==="br"&&(y=await a(o.brotliDecompress)(y)),(A==="gzip"||A==="deflate")&&(y=await a(o.unzip)(y));const h=tc(y,r.type);return r.full?{headers:d.headers,status:P,body:h}:h};return new Promise((d,P)=>{var u;const I=async c=>{if(c&&c.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Ko(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(b){b&&b.fingerprint256&&(c=new zo(`Self-signed SSL certificate: ${b.fingerprint256}`,b.fingerprint256))}P(c)},y=(s?i:n).request(e,l,c=>{c.on("error",I),(async()=>{try{d(await T(c))}catch(b){P(b)}})()});y.on("error",I);const A=(u=r.sslPinnedCertificates)==null?void 0:u.map(c=>S(c)),h=c=>{var $;const b=S((($=c.getPeerCertificate())==null?void 0:$.fingerprint256)||"");if(!(!b&&c.isSessionReused())&&!A.includes(b))return y.emit("error",new zo(`Invalid SSL certificate: ${b} Expected: ${A}`,b)),y.abort()};r.sslPinnedCertificates&&y.on("socket",c=>{c.listeners("secureConnect").map($=>($.name||"").replace("bound ","")).includes("mfetchSecureConnect")||c.on("secureConnect",h.bind(null,c))}),r.keepAlive&&y.setNoDelay(!0),l.body&&y.write(l.body),y.end()})}const Ob=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),Ib=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function Pb(e,t){let r={...ec,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const s=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${s}`),i.username="",i.password=""}e=""+i;for(let s in r.headers){const l=s.toLowerCase();(Ob.has(l)||r.cors&&!Ib.has(l))&&n.set(s,r.headers[s])}let o={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(o.referrerPolicy="no-referrer"),r.cors&&(o.mode="cors"),r.data&&(r.method||(o.method="POST"),o.body=r.type==="json"?JSON.stringify(r.data):r.data);const a=await fetch(e,o);if(r.expectStatusCode&&a.status!==r.expectStatusCode)throw new La(a.status);const f=tc(new Uint8Array(await a.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(a.headers.entries()),status:a.status,body:f}:f}const Bb=!!(typeof ye=="object"&&ye.versions&&ye.versions.node&&ye.versions.v8);function Lb(e,t){return(Bb?Ko:Pb)(e,t)}fr.default=Lb;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getProvider=Pr.fetchFromProvider=void 0;const Cb=fr,Nb=async(e,t)=>(await(0,Cb.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;Pr.fetchFromProvider=Nb;const Mb=e=>{var t;if(typeof e=="string")return e;if(((t=e==null?void 0:e.connection)==null?void 0:t.url)!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};Pr.getProvider=Mb;(function(e){var t=xe&&xe.__createBinding||(Object.create?function(i,o,a,f){f===void 0&&(f=a);var s=Object.getOwnPropertyDescriptor(o,a);(!s||("get"in s?!o.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,f,s)}:function(i,o,a,f){f===void 0&&(f=a),i[f]=o[a]}),r=xe&&xe.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(Un,e),r(Yn,e),r(Ra,e),r(rn,e),r(Jn,e),r(Ze,e),r(pr,e),r(Pa,e),r(Xu,e),r(ei,e);var n=Re;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(ti,e),r(Pr,e)})(Fy);const xb=gn.getLogger("http-helpers");xb.setLevel(vc.levels.INFO);Hy();const Ur={IFRAME_STATUS:"iframe_status",CREATE_WINDOW:"create_window",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},Et={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",OPENED_WINDOW:"opened_window",CLOSED_WINDOW:"closed_window",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key"},Db={GET_PROVIDER_STATE:"wallet_get_provider_state"},yo={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"};function kb(e){return function(r,n,i){i(o=>{n.error&&gn.warn(`Error in RPC response:
`,n),!r.isTorusInternal&&(gn.info(`RPC (${e.origin}):`,r,"->",n),o())})}}var mf;(function(e){e.approved="approved",e.cancelled="cancelled",e.confirmed="confirmed",e.failed="failed",e.finalized="finalized",e.processed="processed",e.rejected="rejected",e.signed="signed",e.submitted="submitted",e.unapproved="unapproved",e.dropped="dropped",e.expired="expired"})(mf||(mf={}));var Yo={exports:{}},rc=Xt.EventEmitter,go,_f;function $b(){if(_f)return go;_f=1;function e(P,I){var y=Object.keys(P);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(P);I&&(A=A.filter(function(h){return Object.getOwnPropertyDescriptor(P,h).enumerable})),y.push.apply(y,A)}return y}function t(P){for(var I=1;I<arguments.length;I++){var y=arguments[I]!=null?arguments[I]:{};I%2?e(Object(y),!0).forEach(function(A){r(P,A,y[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(y)):e(Object(y)).forEach(function(A){Object.defineProperty(P,A,Object.getOwnPropertyDescriptor(y,A))})}return P}function r(P,I,y){return I=a(I),I in P?Object.defineProperty(P,I,{value:y,enumerable:!0,configurable:!0,writable:!0}):P[I]=y,P}function n(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function i(P,I){for(var y=0;y<I.length;y++){var A=I[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,a(A.key),A)}}function o(P,I,y){return I&&i(P.prototype,I),Object.defineProperty(P,"prototype",{writable:!1}),P}function a(P){var I=f(P,"string");return typeof I=="symbol"?I:String(I)}function f(P,I){if(typeof P!="object"||P===null)return P;var y=P[Symbol.toPrimitive];if(y!==void 0){var A=y.call(P,I||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(P)}var s=_t,l=s.Buffer,S=Sr,T=S.inspect,w=T&&T.custom||"inspect";function d(P,I,y){l.prototype.copy.call(P,I,y)}return go=function(){function P(){n(this,P),this.head=null,this.tail=null,this.length=0}return o(P,[{key:"push",value:function(y){var A={data:y,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(y){var A={data:y,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var A=this.head,h=""+A.data;A=A.next;)h+=y+A.data;return h}},{key:"concat",value:function(y){if(this.length===0)return l.alloc(0);for(var A=l.allocUnsafe(y>>>0),h=this.head,u=0;h;)d(h.data,A,u),u+=h.data.length,h=h.next;return A}},{key:"consume",value:function(y,A){var h;return y<this.head.data.length?(h=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?h=this.shift():h=A?this._getString(y):this._getBuffer(y),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var A=this.head,h=1,u=A.data;for(y-=u.length;A=A.next;){var c=A.data,b=y>c.length?c.length:y;if(b===c.length?u+=c:u+=c.slice(0,y),y-=b,y===0){b===c.length?(++h,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=c.slice(b));break}++h}return this.length-=h,u}},{key:"_getBuffer",value:function(y){var A=l.allocUnsafe(y),h=this.head,u=1;for(h.data.copy(A),y-=h.data.length;h=h.next;){var c=h.data,b=y>c.length?c.length:y;if(c.copy(A,A.length-y,0,b),y-=b,y===0){b===c.length?(++u,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=c.slice(b));break}++u}return this.length-=u,A}},{key:w,value:function(y,A){return T(this,t(t({},A),{},{depth:0,customInspect:!1}))}}]),P}(),go}function jb(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ye.nextTick(Zo,this,e)):ye.nextTick(Zo,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?ye.nextTick(yn,r):(r._writableState.errorEmitted=!0,ye.nextTick(vf,r,o)):ye.nextTick(vf,r,o):t?(ye.nextTick(yn,r),t(o)):ye.nextTick(yn,r)}),this)}function vf(e,t){Zo(e,t),yn(e)}function yn(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Ub(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Zo(e,t){e.emit("error",t)}function Wb(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var nc={destroy:jb,undestroy:Ub,errorOrDestroy:Wb},yr={};function Hb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ic={};function gt(e,t,r){r||(r=Error);function n(o,a,f){return typeof t=="string"?t:t(o,a,f)}var i=function(o){Hb(a,o);function a(f,s,l){return o.call(this,n(f,s,l))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=e,ic[e]=i}function Sf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Fb(e,t,r){return e.substr(0,t.length)===t}function qb(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Vb(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}gt("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);gt("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Fb(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(qb(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Sf(t,"type"));else{var o=Vb(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(Sf(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);gt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");gt("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});gt("ERR_STREAM_PREMATURE_CLOSE","Premature close");gt("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});gt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");gt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");gt("ERR_STREAM_WRITE_AFTER_END","write after end");gt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);gt("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);gt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");yr.codes=ic;var Gb=yr.codes.ERR_INVALID_OPT_VALUE;function zb(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Kb(e,t,r,n){var i=zb(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Gb(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var oc={getHighWaterMark:Kb},Yb=Zb;function Zb(e,t){if(bo("noDeprecation"))return e;var r=!1;function n(){if(!r){if(bo("throwDeprecation"))throw new Error(t);bo("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function bo(e){try{if(!xe.localStorage)return!1}catch{return!1}var t=xe.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var wo,Ef;function ac(){if(Ef)return wo;Ef=1,wo=Y;function e(O){var x=this;this.next=null,this.entry=null,this.finish=function(){k(x,O)}}var t;Y.WritableState=$;var r={deprecate:Yb},n=rc,i=_t.Buffer,o=(typeof xe<"u"?xe:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(O){return i.from(O)}function f(O){return i.isBuffer(O)||O instanceof o}var s=nc,l=oc,S=l.getHighWaterMark,T=yr.codes,w=T.ERR_INVALID_ARG_TYPE,d=T.ERR_METHOD_NOT_IMPLEMENTED,P=T.ERR_MULTIPLE_CALLBACK,I=T.ERR_STREAM_CANNOT_PIPE,y=T.ERR_STREAM_DESTROYED,A=T.ERR_STREAM_NULL_VALUES,h=T.ERR_STREAM_WRITE_AFTER_END,u=T.ERR_UNKNOWN_ENCODING,c=s.errorOrDestroy;Lr(Y,n);function b(){}function $(O,x,W){t=t||Br(),O=O||{},typeof W!="boolean"&&(W=x instanceof t),this.objectMode=!!O.objectMode,W&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=S(this,O,"writableHighWaterMark",W),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=O.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){Z(x,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}$.prototype.getBuffer=function(){for(var x=this.bufferedRequest,W=[];x;)W.push(x),x=x.next;return W},function(){try{Object.defineProperty($.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(x){return C.call(this,x)?!0:this!==Y?!1:x&&x._writableState instanceof $}})):C=function(x){return x instanceof this};function Y(O){t=t||Br();var x=this instanceof t;if(!x&&!C.call(Y,this))return new Y(O);this._writableState=new $(O,this,x),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),n.call(this)}Y.prototype.pipe=function(){c(this,new I)};function z(O,x){var W=new h;c(O,W),ye.nextTick(x,W)}function ne(O,x,W,V){var te;return W===null?te=new A:typeof W!="string"&&!x.objectMode&&(te=new w("chunk",["string","Buffer"],W)),te?(c(O,te),ye.nextTick(V,te),!1):!0}Y.prototype.write=function(O,x,W){var V=this._writableState,te=!1,g=!V.objectMode&&f(O);return g&&!i.isBuffer(O)&&(O=a(O)),typeof x=="function"&&(W=x,x=null),g?x="buffer":x||(x=V.defaultEncoding),typeof W!="function"&&(W=b),V.ending?z(this,W):(g||ne(this,V,O,W))&&(V.pendingcb++,te=m(this,V,g,O,x,W)),te},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&U(this,O))},Y.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new u(x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(O,x,W){return!O.objectMode&&O.decodeStrings!==!1&&typeof x=="string"&&(x=i.from(x,W)),x}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(O,x,W,V,te,g){if(!W){var E=ie(x,V,te);V!==E&&(W=!0,te="buffer",V=E)}var p=x.objectMode?1:V.length;x.length+=p;var _=x.length<x.highWaterMark;if(_||(x.needDrain=!0),x.writing||x.corked){var j=x.lastBufferedRequest;x.lastBufferedRequest={chunk:V,encoding:te,isBuf:W,callback:g,next:null},j?j.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else B(O,x,!1,p,V,te,g);return _}function B(O,x,W,V,te,g,E){x.writelen=V,x.writecb=E,x.writing=!0,x.sync=!0,x.destroyed?x.onwrite(new y("write")):W?O._writev(te,x.onwrite):O._write(te,g,x.onwrite),x.sync=!1}function N(O,x,W,V,te){--x.pendingcb,W?(ye.nextTick(te,V),ye.nextTick(v,O,x),O._writableState.errorEmitted=!0,c(O,V)):(te(V),O._writableState.errorEmitted=!0,c(O,V),v(O,x))}function H(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function Z(O,x){var W=O._writableState,V=W.sync,te=W.writecb;if(typeof te!="function")throw new P;if(H(W),x)N(O,W,V,x,te);else{var g=D(W)||O.destroyed;!g&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&U(O,W),V?ye.nextTick(q,O,W,g,te):q(O,W,g,te)}}function q(O,x,W,V){W||G(O,x),x.pendingcb--,V(),v(O,x)}function G(O,x){x.length===0&&x.needDrain&&(x.needDrain=!1,O.emit("drain"))}function U(O,x){x.bufferProcessing=!0;var W=x.bufferedRequest;if(O._writev&&W&&W.next){var V=x.bufferedRequestCount,te=new Array(V),g=x.corkedRequestsFree;g.entry=W;for(var E=0,p=!0;W;)te[E]=W,W.isBuf||(p=!1),W=W.next,E+=1;te.allBuffers=p,B(O,x,!0,x.length,te,"",g.finish),x.pendingcb++,x.lastBufferedRequest=null,g.next?(x.corkedRequestsFree=g.next,g.next=null):x.corkedRequestsFree=new e(x),x.bufferedRequestCount=0}else{for(;W;){var _=W.chunk,j=W.encoding,Q=W.callback,re=x.objectMode?1:_.length;if(B(O,x,!1,re,_,j,Q),W=W.next,x.bufferedRequestCount--,x.writing)break}W===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=W,x.bufferProcessing=!1}Y.prototype._write=function(O,x,W){W(new d("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(O,x,W){var V=this._writableState;return typeof O=="function"?(W=O,O=null,x=null):typeof x=="function"&&(W=x,x=null),O!=null&&this.write(O,x),V.corked&&(V.corked=1,this.uncork()),V.ending||M(this,V,W),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function D(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function F(O,x){O._final(function(W){x.pendingcb--,W&&c(O,W),x.prefinished=!0,O.emit("prefinish"),v(O,x)})}function ee(O,x){!x.prefinished&&!x.finalCalled&&(typeof O._final=="function"&&!x.destroyed?(x.pendingcb++,x.finalCalled=!0,ye.nextTick(F,O,x)):(x.prefinished=!0,O.emit("prefinish")))}function v(O,x){var W=D(x);if(W&&(ee(O,x),x.pendingcb===0&&(x.finished=!0,O.emit("finish"),x.autoDestroy))){var V=O._readableState;(!V||V.autoDestroy&&V.endEmitted)&&O.destroy()}return W}function M(O,x,W){x.ending=!0,v(O,x),W&&(x.finished?ye.nextTick(W):O.once("finish",W)),x.ended=!0,O.writable=!1}function k(O,x,W){var V=O.entry;for(O.entry=null;V;){var te=V.callback;x.pendingcb--,te(W),V=V.next}x.corkedRequestsFree.next=O}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),Y.prototype.destroy=s.destroy,Y.prototype._undestroy=s.undestroy,Y.prototype._destroy=function(O,x){x(O)},wo}var mo,Af;function Br(){if(Af)return mo;Af=1;var e=Object.keys||function(l){var S=[];for(var T in l)S.push(T);return S};mo=a;var t=fc(),r=ac();Lr(a,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];a.prototype[o]||(a.prototype[o]=r.prototype[o])}function a(l){if(!(this instanceof a))return new a(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||ye.nextTick(s,this)}function s(l){l.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}}),mo}var Rf=yr.codes.ERR_STREAM_PREMATURE_CLOSE;function Jb(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Xb(){}function Qb(e){return e.setHeader&&typeof e.abort=="function"}function sc(e,t,r){if(typeof t=="function")return sc(e,null,t);t||(t={}),r=Jb(r||Xb);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||f()},a=e._writableState&&e._writableState.finished,f=function(){i=!1,a=!0,n||r.call(e)},s=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,s=!0,i||r.call(e)},S=function(P){r.call(e,P)},T=function(){var P;if(n&&!s)return(!e._readableState||!e._readableState.ended)&&(P=new Rf),r.call(e,P);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(P=new Rf),r.call(e,P)},w=function(){e.req.on("finish",f)};return Qb(e)?(e.on("complete",f),e.on("abort",T),e.req?w():e.on("request",w)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",f),t.error!==!1&&e.on("error",S),e.on("close",T),function(){e.removeListener("complete",f),e.removeListener("abort",T),e.removeListener("request",w),e.req&&e.req.removeListener("finish",f),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",f),e.removeListener("end",l),e.removeListener("error",S),e.removeListener("close",T)}}var Ca=sc,_o,Tf;function ew(){if(Tf)return _o;Tf=1;var e;function t(u,c,b){return c=r(c),c in u?Object.defineProperty(u,c,{value:b,enumerable:!0,configurable:!0,writable:!0}):u[c]=b,u}function r(u){var c=n(u,"string");return typeof c=="symbol"?c:String(c)}function n(u,c){if(typeof u!="object"||u===null)return u;var b=u[Symbol.toPrimitive];if(b!==void 0){var $=b.call(u,c||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(u)}var i=Ca,o=Symbol("lastResolve"),a=Symbol("lastReject"),f=Symbol("error"),s=Symbol("ended"),l=Symbol("lastPromise"),S=Symbol("handlePromise"),T=Symbol("stream");function w(u,c){return{value:u,done:c}}function d(u){var c=u[o];if(c!==null){var b=u[T].read();b!==null&&(u[l]=null,u[o]=null,u[a]=null,c(w(b,!1)))}}function P(u){ye.nextTick(d,u)}function I(u,c){return function(b,$){u.then(function(){if(c[s]){b(w(void 0,!0));return}c[S](b,$)},$)}}var y=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((e={get stream(){return this[T]},next:function(){var c=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[s])return Promise.resolve(w(void 0,!0));if(this[T].destroyed)return new Promise(function(z,ne){ye.nextTick(function(){c[f]?ne(c[f]):z(w(void 0,!0))})});var $=this[l],C;if($)C=new Promise(I($,this));else{var Y=this[T].read();if(Y!==null)return Promise.resolve(w(Y,!1));C=new Promise(this[S])}return this[l]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var c=this;return new Promise(function(b,$){c[T].destroy(null,function(C){if(C){$(C);return}b(w(void 0,!0))})})}),e),y),h=function(c){var b,$=Object.create(A,(b={},t(b,T,{value:c,writable:!0}),t(b,o,{value:null,writable:!0}),t(b,a,{value:null,writable:!0}),t(b,f,{value:null,writable:!0}),t(b,s,{value:c._readableState.endEmitted,writable:!0}),t(b,S,{value:function(Y,z){var ne=$[T].read();ne?($[l]=null,$[o]=null,$[a]=null,Y(w(ne,!1))):($[o]=Y,$[a]=z)},writable:!0}),b));return $[l]=null,i(c,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=$[a];Y!==null&&($[l]=null,$[o]=null,$[a]=null,Y(C)),$[f]=C;return}var z=$[o];z!==null&&($[l]=null,$[o]=null,$[a]=null,z(w(void 0,!0))),$[s]=!0}),c.on("readable",P.bind(null,$)),$};return _o=h,_o}var vo,Of;function tw(){return Of||(Of=1,vo=function(){throw new Error("Readable.from is not available in the browser")}),vo}var So,If;function fc(){if(If)return So;If=1,So=z;var e;z.ReadableState=Y,Xt.EventEmitter;var t=function(E,p){return E.listeners(p).length},r=rc,n=_t.Buffer,i=(typeof xe<"u"?xe:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(g){return n.from(g)}function a(g){return n.isBuffer(g)||g instanceof i}var f=Sr,s;f&&f.debuglog?s=f.debuglog("stream"):s=function(){};var l=$b(),S=nc,T=oc,w=T.getHighWaterMark,d=yr.codes,P=d.ERR_INVALID_ARG_TYPE,I=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,A=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,h,u,c;Lr(z,r);var b=S.errorOrDestroy,$=["error","close","destroy","pause","resume"];function C(g,E,p){if(typeof g.prependListener=="function")return g.prependListener(E,p);!g._events||!g._events[E]?g.on(E,p):Array.isArray(g._events[E])?g._events[E].unshift(p):g._events[E]=[p,g._events[E]]}function Y(g,E,p){e=e||Br(),g=g||{},typeof p!="boolean"&&(p=E instanceof e),this.objectMode=!!g.objectMode,p&&(this.objectMode=this.objectMode||!!g.readableObjectMode),this.highWaterMark=w(this,g,"readableHighWaterMark",p),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=g.emitClose!==!1,this.autoDestroy=!!g.autoDestroy,this.destroyed=!1,this.defaultEncoding=g.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,g.encoding&&(h||(h=Io.StringDecoder),this.decoder=new h(g.encoding),this.encoding=g.encoding)}function z(g){if(e=e||Br(),!(this instanceof z))return new z(g);var E=this instanceof e;this._readableState=new Y(g,this,E),this.readable=!0,g&&(typeof g.read=="function"&&(this._read=g.read),typeof g.destroy=="function"&&(this._destroy=g.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(E){this._readableState&&(this._readableState.destroyed=E)}}),z.prototype.destroy=S.destroy,z.prototype._undestroy=S.undestroy,z.prototype._destroy=function(g,E){E(g)},z.prototype.push=function(g,E){var p=this._readableState,_;return p.objectMode?_=!0:typeof g=="string"&&(E=E||p.defaultEncoding,E!==p.encoding&&(g=n.from(g,E),E=""),_=!0),ne(this,g,E,!1,_)},z.prototype.unshift=function(g){return ne(this,g,null,!0,!1)};function ne(g,E,p,_,j){s("readableAddChunk",E);var Q=g._readableState;if(E===null)Q.reading=!1,Z(g,Q);else{var re;if(j||(re=m(Q,E)),re)b(g,re);else if(Q.objectMode||E&&E.length>0)if(typeof E!="string"&&!Q.objectMode&&Object.getPrototypeOf(E)!==n.prototype&&(E=o(E)),_)Q.endEmitted?b(g,new A):ie(g,Q,E,!0);else if(Q.ended)b(g,new I);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!p?(E=Q.decoder.write(E),Q.objectMode||E.length!==0?ie(g,Q,E,!1):U(g,Q)):ie(g,Q,E,!1)}else _||(Q.reading=!1,U(g,Q))}return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function ie(g,E,p,_){E.flowing&&E.length===0&&!E.sync?(E.awaitDrain=0,g.emit("data",p)):(E.length+=E.objectMode?1:p.length,_?E.buffer.unshift(p):E.buffer.push(p),E.needReadable&&q(g)),U(g,E)}function m(g,E){var p;return!a(E)&&typeof E!="string"&&E!==void 0&&!g.objectMode&&(p=new P("chunk",["string","Buffer","Uint8Array"],E)),p}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(g){h||(h=Io.StringDecoder);var E=new h(g);this._readableState.decoder=E,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,_="";p!==null;)_+=E.write(p.data),p=p.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var B=1073741824;function N(g){return g>=B?g=B:(g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++),g}function H(g,E){return g<=0||E.length===0&&E.ended?0:E.objectMode?1:g!==g?E.flowing&&E.length?E.buffer.head.data.length:E.length:(g>E.highWaterMark&&(E.highWaterMark=N(g)),g<=E.length?g:E.ended?E.length:(E.needReadable=!0,0))}z.prototype.read=function(g){s("read",g),g=parseInt(g,10);var E=this._readableState,p=g;if(g!==0&&(E.emittedReadable=!1),g===0&&E.needReadable&&((E.highWaterMark!==0?E.length>=E.highWaterMark:E.length>0)||E.ended))return s("read: emitReadable",E.length,E.ended),E.length===0&&E.ended?W(this):q(this),null;if(g=H(g,E),g===0&&E.ended)return E.length===0&&W(this),null;var _=E.needReadable;s("need readable",_),(E.length===0||E.length-g<E.highWaterMark)&&(_=!0,s("length less than watermark",_)),E.ended||E.reading?(_=!1,s("reading or ended",_)):_&&(s("do read"),E.reading=!0,E.sync=!0,E.length===0&&(E.needReadable=!0),this._read(E.highWaterMark),E.sync=!1,E.reading||(g=H(p,E)));var j;return g>0?j=x(g,E):j=null,j===null?(E.needReadable=E.length<=E.highWaterMark,g=0):(E.length-=g,E.awaitDrain=0),E.length===0&&(E.ended||(E.needReadable=!0),p!==g&&E.ended&&W(this)),j!==null&&this.emit("data",j),j};function Z(g,E){if(s("onEofChunk"),!E.ended){if(E.decoder){var p=E.decoder.end();p&&p.length&&(E.buffer.push(p),E.length+=E.objectMode?1:p.length)}E.ended=!0,E.sync?q(g):(E.needReadable=!1,E.emittedReadable||(E.emittedReadable=!0,G(g)))}}function q(g){var E=g._readableState;s("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(s("emitReadable",E.flowing),E.emittedReadable=!0,ye.nextTick(G,g))}function G(g){var E=g._readableState;s("emitReadable_",E.destroyed,E.length,E.ended),!E.destroyed&&(E.length||E.ended)&&(g.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,O(g)}function U(g,E){E.readingMore||(E.readingMore=!0,ye.nextTick(D,g,E))}function D(g,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&E.length===0);){var p=E.length;if(s("maybeReadMore read 0"),g.read(0),p===E.length)break}E.readingMore=!1}z.prototype._read=function(g){b(this,new y("_read()"))},z.prototype.pipe=function(g,E){var p=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=g;break;case 1:_.pipes=[_.pipes,g];break;default:_.pipes.push(g);break}_.pipesCount+=1,s("pipe count=%d opts=%j",_.pipesCount,E);var j=(!E||E.end!==!1)&&g!==ye.stdout&&g!==ye.stderr,Q=j?le:De;_.endEmitted?ye.nextTick(Q):p.once("end",Q),g.on("unpipe",re);function re(Ie,Le){s("onunpipe"),Ie===p&&Le&&Le.hasUnpiped===!1&&(Le.hasUnpiped=!0,me())}function le(){s("onend"),g.end()}var J=F(p);g.on("drain",J);var de=!1;function me(){s("cleanup"),g.removeListener("close",je),g.removeListener("finish",Ue),g.removeListener("drain",J),g.removeListener("error",Ee),g.removeListener("unpipe",re),p.removeListener("end",le),p.removeListener("end",De),p.removeListener("data",fe),de=!0,_.awaitDrain&&(!g._writableState||g._writableState.needDrain)&&J()}p.on("data",fe);function fe(Ie){s("ondata");var Le=g.write(Ie);s("dest.write",Le),Le===!1&&((_.pipesCount===1&&_.pipes===g||_.pipesCount>1&&te(_.pipes,g)!==-1)&&!de&&(s("false write response, pause",_.awaitDrain),_.awaitDrain++),p.pause())}function Ee(Ie){s("onerror",Ie),De(),g.removeListener("error",Ee),t(g,"error")===0&&b(g,Ie)}C(g,"error",Ee);function je(){g.removeListener("finish",Ue),De()}g.once("close",je);function Ue(){s("onfinish"),g.removeListener("close",je),De()}g.once("finish",Ue);function De(){s("unpipe"),p.unpipe(g)}return g.emit("pipe",p),_.flowing||(s("pipe resume"),p.resume()),g};function F(g){return function(){var p=g._readableState;s("pipeOnDrain",p.awaitDrain),p.awaitDrain&&p.awaitDrain--,p.awaitDrain===0&&t(g,"data")&&(p.flowing=!0,O(g))}}z.prototype.unpipe=function(g){var E=this._readableState,p={hasUnpiped:!1};if(E.pipesCount===0)return this;if(E.pipesCount===1)return g&&g!==E.pipes?this:(g||(g=E.pipes),E.pipes=null,E.pipesCount=0,E.flowing=!1,g&&g.emit("unpipe",this,p),this);if(!g){var _=E.pipes,j=E.pipesCount;E.pipes=null,E.pipesCount=0,E.flowing=!1;for(var Q=0;Q<j;Q++)_[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var re=te(E.pipes,g);return re===-1?this:(E.pipes.splice(re,1),E.pipesCount-=1,E.pipesCount===1&&(E.pipes=E.pipes[0]),g.emit("unpipe",this,p),this)},z.prototype.on=function(g,E){var p=r.prototype.on.call(this,g,E),_=this._readableState;return g==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):g==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,s("on readable",_.length,_.reading),_.length?q(this):_.reading||ye.nextTick(v,this)),p},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(g,E){var p=r.prototype.removeListener.call(this,g,E);return g==="readable"&&ye.nextTick(ee,this),p},z.prototype.removeAllListeners=function(g){var E=r.prototype.removeAllListeners.apply(this,arguments);return(g==="readable"||g===void 0)&&ye.nextTick(ee,this),E};function ee(g){var E=g._readableState;E.readableListening=g.listenerCount("readable")>0,E.resumeScheduled&&!E.paused?E.flowing=!0:g.listenerCount("data")>0&&g.resume()}function v(g){s("readable nexttick read 0"),g.read(0)}z.prototype.resume=function(){var g=this._readableState;return g.flowing||(s("resume"),g.flowing=!g.readableListening,M(this,g)),g.paused=!1,this};function M(g,E){E.resumeScheduled||(E.resumeScheduled=!0,ye.nextTick(k,g,E))}function k(g,E){s("resume",E.reading),E.reading||g.read(0),E.resumeScheduled=!1,g.emit("resume"),O(g),E.flowing&&!E.reading&&g.read(0)}z.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(g){var E=g._readableState;for(s("flow",E.flowing);E.flowing&&g.read()!==null;);}z.prototype.wrap=function(g){var E=this,p=this._readableState,_=!1;g.on("end",function(){if(s("wrapped end"),p.decoder&&!p.ended){var re=p.decoder.end();re&&re.length&&E.push(re)}E.push(null)}),g.on("data",function(re){if(s("wrapped data"),p.decoder&&(re=p.decoder.write(re)),!(p.objectMode&&re==null)&&!(!p.objectMode&&(!re||!re.length))){var le=E.push(re);le||(_=!0,g.pause())}});for(var j in g)this[j]===void 0&&typeof g[j]=="function"&&(this[j]=function(le){return function(){return g[le].apply(g,arguments)}}(j));for(var Q=0;Q<$.length;Q++)g.on($[Q],this.emit.bind(this,$[Q]));return this._read=function(re){s("wrapped _read",re),_&&(_=!1,g.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return u===void 0&&(u=ew()),u(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(E){this._readableState&&(this._readableState.flowing=E)}}),z._fromList=x,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function x(g,E){if(E.length===0)return null;var p;return E.objectMode?p=E.buffer.shift():!g||g>=E.length?(E.decoder?p=E.buffer.join(""):E.buffer.length===1?p=E.buffer.first():p=E.buffer.concat(E.length),E.buffer.clear()):p=E.buffer.consume(g,E.decoder),p}function W(g){var E=g._readableState;s("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,ye.nextTick(V,E,g))}function V(g,E){if(s("endReadableNT",g.endEmitted,g.length),!g.endEmitted&&g.length===0&&(g.endEmitted=!0,E.readable=!1,E.emit("end"),g.autoDestroy)){var p=E._writableState;(!p||p.autoDestroy&&p.finished)&&E.destroy()}}typeof Symbol=="function"&&(z.from=function(g,E){return c===void 0&&(c=tw()),c(z,g,E)});function te(g,E){for(var p=0,_=g.length;p<_;p++)if(g[p]===E)return p;return-1}return So}var lc=Wt,ri=yr.codes,rw=ri.ERR_METHOD_NOT_IMPLEMENTED,nw=ri.ERR_MULTIPLE_CALLBACK,iw=ri.ERR_TRANSFORM_ALREADY_TRANSFORMING,ow=ri.ERR_TRANSFORM_WITH_LENGTH_0,ni=Br();Lr(Wt,ni);function aw(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new nw);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Wt(e){if(!(this instanceof Wt))return new Wt(e);ni.call(this,e),this._transformState={afterTransform:aw.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",sw)}function sw(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Pf(e,t,r)}):Pf(this,null,null)}Wt.prototype.push=function(e,t){return this._transformState.needTransform=!1,ni.prototype.push.call(this,e,t)};Wt.prototype._transform=function(e,t,r){r(new rw("_transform()"))};Wt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Wt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Wt.prototype._destroy=function(e,t){ni.prototype._destroy.call(this,e,function(r){t(r)})};function Pf(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ow;if(e._transformState.transforming)throw new iw;return e.push(null)}var fw=Jr,uc=lc;Lr(Jr,uc);function Jr(e){if(!(this instanceof Jr))return new Jr(e);uc.call(this,e)}Jr.prototype._transform=function(e,t,r){r(null,e)};var Eo;function lw(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var cc=yr.codes,uw=cc.ERR_MISSING_ARGS,cw=cc.ERR_STREAM_DESTROYED;function Bf(e){if(e)throw e}function dw(e){return e.setHeader&&typeof e.abort=="function"}function hw(e,t,r,n){n=lw(n);var i=!1;e.on("close",function(){i=!0}),Eo===void 0&&(Eo=Ca),Eo(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,dw(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new cw("pipe"))}}}function Lf(e){e()}function pw(e,t){return e.pipe(t)}function yw(e){return!e.length||typeof e[e.length-1]!="function"?Bf:e.pop()}function gw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=yw(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new uw("streams");var i,o=t.map(function(a,f){var s=f<t.length-1,l=f>0;return hw(a,s,l,function(S){i||(i=S),S&&o.forEach(Lf),!s&&(o.forEach(Lf),n(i))})});return t.reduce(pw)}var bw=gw;(function(e,t){t=e.exports=fc(),t.Stream=t,t.Readable=t,t.Writable=ac(),t.Duplex=Br(),t.Transform=lc,t.PassThrough=fw,t.finished=Ca,t.pipeline=bw})(Yo,Yo.exports);var ii=Yo.exports,Jo={exports:{}},Ao=65536,ww=4294967295;function mw(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var _w=mc.Buffer,Tn=xe.crypto||xe.msCrypto;Tn&&Tn.getRandomValues?Jo.exports=vw:Jo.exports=mw;function vw(e,t){if(e>ww)throw new RangeError("requested too many random bytes");var r=_w.allocUnsafe(e);if(e>0)if(e>Ao)for(var n=0;n<e;n+=Ao)Tn.getRandomValues(r.slice(n,n+Ao));else Tn.getRandomValues(r);return typeof t=="function"?ye.nextTick(function(){t(null,r)}):r}var Sw=Jo.exports;const Ew=Vf(Sw);var Aw={exports:{}},Na={},Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});function Rw(e){var t=4,r=e.length,n=r%t;if(!n)return e;var i=r,o=t-n,a=r+o,f=ue.alloc(a);for(f.write(e);o--;)f.write("=",i++);return f.toString()}Ma.default=Rw;Object.defineProperty(Na,"__esModule",{value:!0});var Tw=Ma;function dc(e,t){return t===void 0&&(t="utf8"),ue.isBuffer(e)?Xo(e.toString("base64")):Xo(ue.from(e,t).toString("base64"))}function Ow(e,t){return t===void 0&&(t="utf8"),ue.from(xa(e),"base64").toString(t)}function xa(e){return e=e.toString(),Tw.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function Xo(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iw(e){return ue.from(xa(e),"base64")}var xr=dc;xr.encode=dc;xr.decode=Ow;xr.toBase64=xa;xr.fromBase64=Xo;xr.toBuffer=Iw;Na.default=xr;(function(e){e.exports=Na.default,e.exports.default=e.exports})(Aw);var hc={};const Cf=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];hc.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],f=e[5]^e[15]^e[25]^e[35]^e[45],s=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],S=e[8]^e[18]^e[28]^e[38]^e[48],T=e[9]^e[19]^e[29]^e[39]^e[49];let w=S^(i<<1|o>>>31),d=T^(o<<1|i>>>31);const P=e[0]^w,I=e[1]^d,y=e[10]^w,A=e[11]^d,h=e[20]^w,u=e[21]^d,c=e[30]^w,b=e[31]^d,$=e[40]^w,C=e[41]^d;w=r^(a<<1|f>>>31),d=n^(f<<1|a>>>31);const Y=e[2]^w,z=e[3]^d,ne=e[12]^w,ie=e[13]^d,m=e[22]^w,B=e[23]^d,N=e[32]^w,H=e[33]^d,Z=e[42]^w,q=e[43]^d;w=i^(s<<1|l>>>31),d=o^(l<<1|s>>>31);const G=e[4]^w,U=e[5]^d,D=e[14]^w,F=e[15]^d,ee=e[24]^w,v=e[25]^d,M=e[34]^w,k=e[35]^d,O=e[44]^w,x=e[45]^d;w=a^(S<<1|T>>>31),d=f^(T<<1|S>>>31);const W=e[6]^w,V=e[7]^d,te=e[16]^w,g=e[17]^d,E=e[26]^w,p=e[27]^d,_=e[36]^w,j=e[37]^d,Q=e[46]^w,re=e[47]^d;w=s^(r<<1|n>>>31),d=l^(n<<1|r>>>31);const le=e[8]^w,J=e[9]^d,de=e[18]^w,me=e[19]^d,fe=e[28]^w,Ee=e[29]^d,je=e[38]^w,Ue=e[39]^d,De=e[48]^w,Ie=e[49]^d,Le=P,at=I,Xe=A<<4|y>>>28,Pe=y<<4|A>>>28,qe=h<<3|u>>>29,K=u<<3|h>>>29,X=b<<9|c>>>23,ge=c<<9|b>>>23,we=$<<18|C>>>14,ve=C<<18|$>>>14,pe=Y<<1|z>>>31,Qe=z<<1|Y>>>31,st=ie<<12|ne>>>20,ke=ne<<12|ie>>>20,Ge=m<<10|B>>>22,Pt=B<<10|m>>>22,ct=H<<13|N>>>19,We=N<<13|H>>>19,Bt=Z<<2|q>>>30,R=q<<2|Z>>>30,L=U<<30|G>>>2,oe=G<<30|U>>>2,ae=D<<6|F>>>26,se=F<<6|D>>>26,Be=v<<11|ee>>>21,$e=ee<<11|v>>>21,Lt=M<<15|k>>>17,tt=k<<15|M>>>17,vt=x<<29|O>>>3,Ft=O<<29|x>>>3,St=W<<28|V>>>4,Ct=V<<28|W>>>4,Nt=g<<23|te>>>9,bt=te<<23|g>>>9,rt=E<<25|p>>>7,nt=p<<25|E>>>7,ft=_<<21|j>>>11,ze=j<<21|_>>>11,fi=re<<24|Q>>>8,li=Q<<24|re>>>8,ui=le<<27|J>>>5,ci=J<<27|le>>>5,di=de<<20|me>>>12,hi=me<<20|de>>>12,pi=Ee<<7|fe>>>25,yi=fe<<7|Ee>>>25,gi=je<<8|Ue>>>24,bi=Ue<<8|je>>>24,wi=De<<14|Ie>>>18,mi=Ie<<14|De>>>18;e[0]=Le^~st&Be,e[1]=at^~ke&$e,e[10]=St^~di&qe,e[11]=Ct^~hi&K,e[20]=pe^~ae&rt,e[21]=Qe^~se&nt,e[30]=ui^~Xe&Ge,e[31]=ci^~Pe&Pt,e[40]=L^~Nt&pi,e[41]=oe^~bt&yi,e[2]=st^~Be&ft,e[3]=ke^~$e&ze,e[12]=di^~qe&ct,e[13]=hi^~K&We,e[22]=ae^~rt&gi,e[23]=se^~nt&bi,e[32]=Xe^~Ge&Lt,e[33]=Pe^~Pt&tt,e[42]=Nt^~pi&X,e[43]=bt^~yi&ge,e[4]=Be^~ft&wi,e[5]=$e^~ze&mi,e[14]=qe^~ct&vt,e[15]=K^~We&Ft,e[24]=rt^~gi&we,e[25]=nt^~bi&ve,e[34]=Ge^~Lt&fi,e[35]=Pt^~tt&li,e[44]=pi^~X&Bt,e[45]=yi^~ge&R,e[6]=ft^~wi&Le,e[7]=ze^~mi&at,e[16]=ct^~vt&St,e[17]=We^~Ft&Ct,e[26]=gi^~we&pe,e[27]=bi^~ve&Qe,e[36]=Lt^~fi&ui,e[37]=tt^~li&ci,e[46]=X^~Bt&L,e[47]=ge^~R&oe,e[8]=wi^~Le&st,e[9]=mi^~at&ke,e[18]=vt^~St&di,e[19]=Ft^~Ct&hi,e[28]=we^~pe&ae,e[29]=ve^~Qe&se,e[38]=fi^~ui&Xe,e[39]=li^~ci&Pe,e[48]=Bt^~L&Nt,e[49]=R^~oe&bt,e[0]^=Cf[t*2],e[1]^=Cf[t*2+1]}};const On=hc;function nn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}nn.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};nn.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(On.p1600(this.state),this.count=0)};nn.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&On.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),On.p1600(this.state),this.count=0,this.squeezing=!0};nn.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=ue.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(On.p1600(this.state),this.count=0);return t};nn.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};const Pw=()=>Ew(32).toString("hex");function cn(){}const Nf="SYN",Ro="ACK",Mf="BRK";class xf extends ii.Duplex{constructor(t){let{name:r,target:n,targetWindow:i=window,targetOrigin:o="*"}=t;if(super({objectMode:!0}),ce(this,"_init",void 0),ce(this,"_haveSyn",void 0),ce(this,"_name",void 0),ce(this,"_target",void 0),ce(this,"_targetWindow",void 0),ce(this,"_targetOrigin",void 0),ce(this,"_onMessage",void 0),ce(this,"_synIntervalId",void 0),!r||!n)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=r,this._target=n,this._targetWindow=i,this._targetOrigin=o,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(Mf,null,cn),this._haveSyn=!1,this._init=!1}_handShake(){this._write(Nf,null,cn),this.cork()}_onData(t){if(!this._init)t===Nf?(this._haveSyn=!0,this._write(Ro,null,cn)):t===Ro&&(this._init=!0,this._haveSyn||this._write(Ro,null,cn),this.uncork());else if(t===Mf)this._break();else try{this.push(t)}catch(r){this.emit("error",r)}}_postMessage(t){const r=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:t},r)}onMessage(t){const r=t.data;this._targetOrigin!=="*"&&t.origin!==this._targetOrigin||t.source!==this._targetWindow||typeof r!="object"||r.target!==this._name||!r.data||this._onData(r.data)}_read(){}_write(t,r,n){this._postMessage(t),n()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function Df(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Bw(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}class oi extends Xt.EventEmitter{emit(t){let r=t==="error";const n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(r){let s;if(o.length>0&&([s]=o),s instanceof Error)throw s;const l=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw l.context=s,l}const f=n[t];if(f===void 0)return!1;if(typeof f=="function")Df(f,this,o);else{const s=f.length,l=Bw(f);for(let S=0;S<s;S+=1)Df(l[S],this,o)}return!0}}class Wr extends Error{constructor(t){let{code:r,message:n,data:i}=t;if(!Number.isInteger(r))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),ce(this,"code",void 0),ce(this,"data",void 0),this.code=r,i!==void 0&&(this.data=i)}toString(){return Ec({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const Qo=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)}};function Lw(){const e={};function t(){return!1}const r=new oi;function n(s){const l=e[s.id];if(!l)throw new Error(`StreamMiddleware - Unknown response id "${s.id}"`);delete e[s.id],Object.assign(l.res,s),setTimeout(l.end)}function i(s){r.emit("notification",s)}function o(s,l,S){let T;try{!s.id?i(s):n(s)}catch(w){T=w}S(T)}const a=new ii.Duplex({objectMode:!0,read:t,write:o});return{events:r,middleware:(s,l,S,T)=>{a.push(s),e[s.id]={req:s,res:l,next:S,end:T}},stream:a}}function Cw(){return(e,t,r,n)=>{const i=e.id,o=Pw();e.id=o,t.id=o,r(a=>{e.id=i,t.id=i,a()})}}function kf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kf(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class kt extends oi{constructor(){super(),ce(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(t,r,n){const i=[];let o=null,a=!1;for(const f of n)if([o,a]=await kt._runMiddleware(t,r,f,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(o=>{const a=s=>{const l=s||r.error;l&&(r.error=mt.serializeError(l)),o([l,!0])},f=s=>{r.error?a(r.error):(s&&(typeof s!="function"&&a(new Wr({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(s)),o([null,!1]))};try{n(t,r,f,a)}catch(s){a(s)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new Wr({code:-32603,message:"Response has no error or result for request"});if(!n)throw new Wr({code:-32603,message:"Nothing ended request"})}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{const[o,a,f]=await kt._runAllMiddleware(t,r,this._middleware);return a?(await kt._runReturnHandlers(f),i(o)):n(async s=>{try{await kt._runReturnHandlers(f)}catch(l){return s(l)}return s()})}catch(o){return i(o)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const a=new Wr({code:-32603,message:"request must be plain object"});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new Wr({code:-32603,message:"method must be string"});return r(a,{id:t.id,jsonrpc:"2.0",error:a})}const n=Nw({},t),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(i.error=mt.serializeError(o))),r(o,i)}async _processRequest(t,r){const[n,i,o]=await kt._runAllMiddleware(t,r,this._middleware);if(kt._checkForCompletion(t,r,i),await kt._runReturnHandlers(o),n)throw n}}class Mw extends ii.Duplex{constructor(t){let{parent:r,name:n}=t;super({objectMode:!0}),ce(this,"_parent",void 0),ce(this,"_name",void 0),this._parent=r,this._name=n}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}}function $f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$f(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$f(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Uf=Symbol("IGNORE_SUBSTREAM");class xw extends ii.Duplex{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(jf(jf({},t),{},{objectMode:!0})),ce(this,"_substreams",void 0),ce(this,"getStream",void 0),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const r=new Mw({parent:this,name:t});return this._substreams[t]=r,Dw(this,n=>r.destroy(n||void 0)),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=Uf}_read(){}_write(t,r,n){const{name:i,data:o}=t;if(!i)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const a=this._substreams[i];return a?(a!==Uf&&a.push(o),n()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n())}}function Dw(e,t){const r=Sc(t);$a(e,{readable:!1},r),$a(e,{writable:!1},r)}var kw="0.3.4",Rt={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:e=>`Invalid options. Received: { maxEventListeners: ${e}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`Torus: Connected to chain with ID "${e}".`},warnings:{}};const $w={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},qr={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},To={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless"},jw={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies benötigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"継続する",actionRequired:"認証が必要です",pendingAction:"続行をクリックして、ポップアップでリクエストを続行します",cookiesRequired:"必要なクッキー",enableCookies:"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。",clickHere:"詳しくは"}},ko:{embed:{continue:"계속하다",actionRequired:"승인 필요",pendingAction:"팝업에서 요청을 진행하려면 계속을 클릭하십시오.",cookiesRequired:"쿠키 필요",enableCookies:"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.",clickHere:"더 많은 정보"}},zh:{embed:{continue:"继续",actionRequired:"需要授权",pendingAction:"单击继续以在弹出窗口中继续您的请求",cookiesRequired:"必填Cookie",enableCookies:"请在您的浏览器首选项中启用cookie以访问Torus。",clickHere:"更多信息"}}};var Da={supportedVerifierList:[To.GOOGLE,To.REDDIT,To.DISCORD],api:"https://api.tor.us",translations:jw,prodTorusUrl:"",localStorageKeyPrefix:"torus-"},Se=gn.getLogger("solana-embed");function Uw(){return(e,t,r)=>{(typeof e.method!="string"||!e.method)&&(t.error=mt.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r(n=>{const{error:i}=t;return i&&Se.error(`Torus - RPC Error: ${i.message}`,i),n()})}}function Ww(e,t,r){let n=`Torus: Lost connection to "${e}".`;t!=null&&t.stack&&(n+=`
${t.stack}`),Se.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}const dn=()=>Math.random().toString(36).slice(2),pc=async e=>{let t,r;switch(e){case"testing":t="https://solana-testing.tor.us",r="debug";break;case"development":t="http://localhost:8080",r="debug";break;default:t="https://solana.tor.us",r="error";break}return{torusUrl:t,logLevel:r}},Hw=()=>{let e=window.navigator.language||"en-US";const t=e.split("-");return e=Object.prototype.hasOwnProperty.call(Da.translations,t[0])?t[0]:"en",e},Fw={height:660,width:375},qw={height:740,width:1315},Vw={height:700,width:1200},yc={height:600,width:400};function Gw(e){let t;try{t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(r){return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}function zr(e){let{width:t,height:r}=e;const n=window.screenLeft!==void 0?window.screenLeft:window.screenX,i=window.screenTop!==void 0?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,f=1,s=Math.abs((o-t)/2/f+n),l=Math.abs((a-r)/2/f+i);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/f},width=${t/f},top=${l},left=${s}`}class gc extends oi{constructor(t,r){let{maxEventListeners:n=100,jsonRpcStreamName:i="provider"}=r;if(super(),ce(this,"isTorus",void 0),ce(this,"_rpcEngine",void 0),ce(this,"jsonRpcConnectionEvents",void 0),ce(this,"_state",void 0),!Rc.duplex(t))throw new Error(Rt.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(n),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);const o=new xw;ja(t,o,t,this._handleStreamDisconnect.bind(this,"Torus")),o.ignoreStream("phishing");const a=Lw();ja(a.stream,o.createStream(i),a.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));const f=new kt;f.push(Cw()),f.push(Uw()),f.push(kb({origin:location.origin})),f.push(a.middleware),this._rpcEngine=f,this.jsonRpcConnectionEvents=a.events}async request(t){if(!t||typeof t!="object"||Array.isArray(t))throw mt.ethErrors.rpc.invalidRequest({message:Rt.errors.invalidRequestArgs(),data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw mt.ethErrors.rpc.invalidRequest({message:Rt.errors.invalidRequestMethod(),data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw mt.ethErrors.rpc.invalidRequest({message:Rt.errors.invalidRequestParams(),data:t});return new Promise((i,o)=>{this._rpcRequest({method:r,params:n},Qo(i,o))})}send(t,r){this._rpcRequest(t,r)}sendAsync(t){return new Promise((r,n)=>{this._rpcRequest(t,Qo(r,n))})}_handleStreamDisconnect(t,r){Ww(t,r,this),this._handleDisconnect(!1,r?r.message:void 0)}}const zw=function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];const a=()=>{r(...i),e.removeEventListener(t,a)};e.addEventListener(t,a)};async function bc(){return new Promise(e=>{document.readyState!=="loading"?e():zw(document,"DOMContentLoaded",e)})}const Rr=e=>{const t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function hn(e){return e.version===void 0}class wc extends oi{constructor(t){let{url:r,target:n,features:i}=t;super(),ce(this,"url",void 0),ce(this,"target",void 0),ce(this,"features",void 0),ce(this,"window",void 0),ce(this,"windowTimer",void 0),ce(this,"iClosedWindow",void 0),this.url=r,this.target=n||"_blank",this.features=i||zr(Vw),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var t;return this.window=window.open(this.url.href,this.target,this.features),(t=this.window)!=null&&t.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}function Wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wf(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class ai extends gc{constructor(t,r){let{maxEventListeners:n=100,jsonRpcStreamName:i="provider"}=r;super(t,{maxEventListeners:n,jsonRpcStreamName:i}),ce(this,"embedTranslations",void 0),ce(this,"torusUrl",void 0),ce(this,"dappStorageKey",void 0),ce(this,"windowRefs",void 0),ce(this,"tryWindowHandle",void 0),ce(this,"torusAlertContainer",void 0),ce(this,"torusIframe",void 0),this._state=Kw({},ai._defaultState),this.torusUrl="",this.dappStorageKey="";const o=Da.translations[Hw()];this.embedTranslations=o.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0});const a=f=>{const{method:s,params:l}=f;if(s===Ur.IFRAME_STATUS){const{isFullScreen:S,rid:T}=l;this._displayIframe({isFull:S,rid:T})}else if(s===Ur.CREATE_WINDOW){const{windowId:S,url:T}=l;this._createPopupBlockAlert(S,T)}else if(s===Ur.CLOSE_WINDOW)this._handleCloseWindow(l);else if(s===Ur.USER_LOGGED_IN){const{currentLoginProvider:S}=l;this._state.isLoggedIn=!0,this._state.currentLoginProvider=S}else s===Ur.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())};this.jsonRpcConnectionEvents.on("notification",a)}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(t){try{const{torusUrl:r,dappStorageKey:n,torusAlertContainer:i,torusIframe:o}=t;this.torusUrl=r,this.dappStorageKey=n,this.torusAlertContainer=i,this.torusIframe=o,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});const{currentLoginProvider:a,isLoggedIn:f}=await this.request({method:Et.GET_PROVIDER_STATE,params:[]});this._handleConnect(a,f)}catch(r){Se.error("Torus: Failed to get initial state. Please report this bug.",r)}finally{Se.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(t){let{url:r,target:n,features:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=new URL(r||`${this.torusUrl}/redirect?windowId=${t}`);this.dappStorageKey&&(o.hash?o.hash+=`&dappStorageKey=${this.dappStorageKey}`:o.hash=`#dappStorageKey=${this.dappStorageKey}`);const a=new wc({url:o,target:n,features:i});if(a.open(),!a.window){this._createPopupBlockAlert(t,o.href);return}this.windowRefs[t]=a,this.request({method:Et.OPENED_WINDOW,params:{windowId:t}}),a.once("close",()=>{delete this.windowRefs[t],this.request({method:Et.CLOSED_WINDOW,params:{windowId:t}})})}_displayIframe(){let{isFull:t=!1,rid:r=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={};if(t)n.display="block",n.width="100%",n.height="100%",n.top="0px",n.right="0px",n.left="0px",n.bottom="0px";else switch(n.display=this._state.torusWidgetVisibility?"block":"none",n.height="70px",n.width="70px",this._state.buttonPosition){case qr.TOP_LEFT:n.top="0px",n.left="0px",n.right="auto",n.bottom="auto";break;case qr.TOP_RIGHT:n.top="0px",n.right="0px",n.left="auto",n.bottom="auto";break;case qr.BOTTOM_RIGHT:n.bottom="0px",n.right="0px",n.top="auto",n.left="auto";break;case qr.BOTTOM_LEFT:default:n.bottom="0px",n.left="0px",n.top="auto",n.right="auto";break}Object.assign(this.torusIframe.style,n),this._state.isIFrameFullScreen=t,this.request({method:Et.IFRAME_STATUS,params:{isIFrameFullScreen:t,rid:r}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(t,r){const n=r,i=t;Array.isArray(i)||i.jsonrpc||(i.jsonrpc="2.0"),this.tryWindowHandle(i,n)}_handleConnect(t,r){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:t,isLoggedIn:r}),Se.debug(Rt.info.connected(t)))}_handleDisconnect(t,r){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){this._state.isConnected=!1;let n;t?(n=new mt.EthereumRpcError(1013,r||Rt.errors.disconnected()),Se.debug(n)):(n=new mt.EthereumRpcError(1011,r||Rt.errors.permanentlyDisconnected()),Se.error(n),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleCloseWindow(t){const{windowId:r}=t;this.windowRefs[r]&&(this.windowRefs[r].close(),delete this.windowRefs[r])}async _createPopupBlockAlert(t,r){const n=this.getLogoUrl(),i=Rr(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${n}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),o=Rr(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),a=Rr('<div id="torusAlert__btn-container"></div>');a.appendChild(o),i.appendChild(a);const f=()=>{o.addEventListener("click",()=>{this._handleWindow(t,{url:r,target:"_blank",features:zr(yc)}),i.remove(),this.torusAlertContainer.children.length===0&&(this.torusAlertContainer.style.display="none")})},s=()=>{this.torusAlertContainer.appendChild(i)};await bc(),s(),f(),this.torusAlertContainer.style.display="block"}getLogoUrl(){return`${this.torusUrl}/images/torus_icon-blue.svg`}}ce(ai,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});function Hf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hf(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class si extends gc{constructor(t,r){let{maxEventListeners:n=100,jsonRpcStreamName:i="provider"}=r;super(t,{maxEventListeners:n,jsonRpcStreamName:i}),ce(this,"chainId",void 0),ce(this,"selectedAddress",void 0),ce(this,"tryWindowHandle",void 0),this._state=Yw({},si._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0});const o=a=>{const{method:f,params:s}=a;f===yo.ACCOUNTS_CHANGED?this._handleAccountsChanged(s):f===yo.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(s):f===yo.CHAIN_CHANGED&&this._handleChainChanged(s)};this.jsonRpcConnectionEvents.on("notification",o)}isConnected(){return this._state.isConnected}async _initializeState(){try{const{accounts:t,chainId:r,isUnlocked:n}=await this.request({method:Db.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:r}),this._handleChainChanged({chainId:r}),this._handleUnlockStateChanged({accounts:t,isUnlocked:n}),this._handleAccountsChanged(t)}catch(t){Se.error("Torus: Failed to get initial state. Please report this bug.",t)}finally{Se.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=r;const o=t;if(!Array.isArray(o)){if(o.jsonrpc||(o.jsonrpc="2.0"),o.method==="solana_accounts"||o.method==="solana_requestAccounts")i=(a,f)=>{this._handleAccountsChanged(f.result||[],o.method==="solana_accounts",n),r(a,f)};else if(o.method==="wallet_getProviderState"){this._rpcEngine.handle(t,i);return}}this.tryWindowHandle(o,i)}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),Se.debug(Rt.info.connected(t)))}_handleDisconnect(t,r){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){this._state.isConnected=!1;let n;t?(n=new mt.EthereumRpcError(1013,r||Rt.errors.disconnected()),Se.debug(n)):(n=new mt.EthereumRpcError(1011,r||Rt.errors.permanentlyDisconnected()),Se.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleAccountsChanged(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=t;Array.isArray(i)||(Se.error("Torus: Received non-array accounts parameter. Please report this bug.",i),i=[]);for(const o of t)if(typeof o!="string"){Se.error("Torus: Received non-string account. Please report this bug.",t),i=[];break}Ac(this._state.accounts,i)||(r&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!n&&Se.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}_handleChainChanged(){let{chainId:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!t){Se.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:t});return}t==="loading"?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:t,isUnlocked:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof r!="boolean"){Se.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r});return}r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[]))}}ce(si,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});function Ff(e){return new Promise((t,r)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(n){r(n)}})}const Zw=e=>{const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function Jw(e){try{const{document:t}=e;let r=t.querySelector('head > link[rel="shortcut icon"]');return r&&await Ff(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href),r&&await Ff(r.href))?r.href:""}catch{return""}}const Xw=async()=>({name:Zw(window),icon:await Jw(window)});function qf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qf(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Qw=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],em=[Et.SET_PROVIDER],tm=Gw("localStorage");(async function(){try{if(typeof document>"u")return;const t=document.createElement("link"),{torusUrl:r}=await pc("production");t.href=`${r}/frame`,t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t)}catch(t){Se.warn(t)}})();class lm{constructor(){let{modalZIndex:t=99999}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ce(this,"isInitialized",void 0),ce(this,"torusAlert",void 0),ce(this,"modalZIndex",void 0),ce(this,"alertZIndex",void 0),ce(this,"requestedLoginProvider",void 0),ce(this,"provider",void 0),ce(this,"communicationProvider",void 0),ce(this,"dappStorageKey",void 0),ce(this,"isTopupHidden",!1),ce(this,"torusAlertContainer",void 0),ce(this,"torusUrl",void 0),ce(this,"torusIframe",void 0),ce(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=t,this.alertZIndex=t+1e3,this.dappStorageKey=""}get isLoggedIn(){return this.communicationProvider?this.communicationProvider.isLoggedIn:!1}async init(){let{buildEnv:t=$w.PRODUCTION,enableLogging:r=!1,network:n,showTorusButton:i=!1,useLocalStorage:o=!1,buttonPosition:a=qr.BOTTOM_LEFT,apiKey:f="torus-default",extraParams:s={},whiteLabel:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");const{torusUrl:S,logLevel:T}=await pc(t);Se.enableAll(),Se.info(S,"url loaded"),Se.info(`Solana Embed Version :${kw}`),this.torusUrl=S,Se.setDefaultLevel(T),r?Se.enableAll():Se.disableAll();const w=this.handleDappStorageKey(o),d=new URL(S);d.pathname.endsWith("/")?d.pathname+="frame":d.pathname+="/frame";const P=new URLSearchParams;w&&P.append("dappStorageKey",w),P.append("origin",window.location.origin),d.hash=P.toString(),this.torusIframe=Rr(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${d.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=Rr(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=Rr(`<link href="${S}/css/widget.css" rel="stylesheet" type="text/css">`);const I=async()=>new Promise((y,A)=>{try{window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer),this.torusIframe.addEventListener("load",async()=>{const h=await Xw();this.torusIframe.contentWindow.postMessage({buttonPosition:a,apiKey:f,network:n,dappMetadata:h,extraParams:s,whiteLabel:l},d.origin),await this._setupWeb3({torusUrl:S}),i&&this.showTorusButton(),l!=null&&l.topupHide?this.isTopupHidden=l.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,y()})}catch(h){A(h)}});await bc(),await I()}async login(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");try{this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});const r=await new Promise((n,i)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,t.login_hint]},Qo(n,i))});if(Array.isArray(r)&&r.length>0)return r;throw new Error("Login failed")}catch(r){throw Se.error("login failed",r),r}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(t){if(!this.isInitialized)throw new Error("Call init() first");const{privateKey:r,userInfo:n}=t,{success:i}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:r,userInfo:n}});if(!i)throw new Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:Et.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function t(r){return r instanceof Element||r instanceof Document}t(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),t(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),t(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(t){await this.communicationProvider.request({method:Et.SET_PROVIDER,params:Oo({},t)})}async showWallet(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=await this.communicationProvider.request({method:Et.WALLET_INSTANCE_ID,params:[]}),i=t?`/${t}`:"",o=new URL(`${this.torusUrl}/wallet${i}`);o.searchParams.append("instanceId",n),Object.keys(r).forEach(f=>{o.searchParams.append(f,r[f])}),this.dappStorageKey&&(o.hash=`#dappStorageKey=${this.dappStorageKey}`),new wc({url:o,features:zr(qw)}).open()}async getUserInfo(){return await this.communicationProvider.request({method:Et.USER_INFO,params:[]})}async initiateTopup(t,r){if(!this.isInitialized)throw new Error("Torus is not initialized");const n=dn();return this.communicationProvider._handleWindow(n),await this.communicationProvider.request({method:Et.TOPUP,params:{provider:t,params:r,windowId:n}})}async getAccounts(){return await this.provider.request({method:"getAccounts",params:[]})}async sendTransaction(t){const r=hn(t),n=r?t.serialize({requireAllSignatures:!1}).toString("hex"):ue.from(t.serialize()).toString("hex");return await this.provider.request({method:"send_transaction",params:{message:n,isLegacyTransaction:r}})}async signAndSendTransaction(t,r){const n=hn(t),i=n?t.serialize({requireAllSignatures:!1}).toString("hex"):ue.from(t.serialize()).toString("hex");return{signature:await this.provider.request({method:"send_transaction",params:{message:i,options:r,isLegacyTransaction:n}})}}async signTransaction(t){const r=hn(t),n=r?t.serializeMessage().toString("hex"):ue.from(t.message.serialize()).toString("hex"),i=await this.provider.request({method:"sign_transaction",params:{message:n,messageOnly:!0,isLegacyTransaction:r}}),o=JSON.parse(i),a={publicKey:new ka(o.publicKey),signature:ue.from(o.signature,"hex")};return t.addSignature(a.publicKey,a.signature),t}async signAllTransactions(t){let r;const n=t.map(a=>(r=hn(a),r?a.serializeMessage().toString("hex"):ue.from(a.message.serialize()).toString("hex"))),o=(await this.provider.request({method:"sign_all_transactions",params:{message:n,messageOnly:!0,isLegacyTransaction:r}})).map(a=>{const f=JSON.parse(a);return{publicKey:new ka(f.publicKey),signature:ue.from(f.signature,"hex")}});return t.forEach((a,f)=>(a.addSignature(o[f].publicKey,o[f].signature),a)),t}async signMessage(t){return await this.provider.request({method:"sign_message",params:{data:t}})}async getGaslessPublicKey(){return await this.provider.request({method:"get_gasless_public_key",params:[]})}handleDappStorageKey(t){const r=`${Da.localStorageKeyPrefix}${window.location.hostname}`;let n="";if(tm&&t){const i=window.localStorage.getItem(r);if(i)n=i;else{const o=`torus-app-${dn()}`;window.localStorage.setItem(r,o),n=o}}return this.dappStorageKey=n,n}async _setupWeb3(t){Se.info("setupWeb3 running");const r=new xf({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),n=new xf({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),i=new si(r,{}),o=new ai(n,{});i.tryWindowHandle=(l,S)=>{const T=l;if(!Array.isArray(T)&&Qw.includes(T.method)){if(!this.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");const w=dn();o._handleWindow(w,{target:"_blank",features:zr(yc)}),T.windowId=w}i._rpcEngine.handle(T,S)},o.tryWindowHandle=(l,S)=>{const T=l;if(!Array.isArray(T)&&em.includes(T.method)){const w=dn();o._handleWindow(w,{target:"_blank",features:zr(Fw)}),T.params.windowId=w}o._rpcEngine.handle(T,S)};const a=l=>{const S=i[l],T=this;i[l]=function(d,P){const{method:I,params:y=[]}=d;if(I==="solana_requestAccounts"){if(!P)return T.login({loginProvider:y[0]});T.login({loginProvider:y[0]}).then(A=>P(null,A)).catch(A=>P(A))}return S.apply(this,[d,P])}};a("request"),a("sendAsync"),a("send");const f=new Proxy(i,{deleteProperty:()=>!0}),s=new Proxy(o,{deleteProperty:()=>!0});this.provider=f,this.communicationProvider=s,await Promise.all([i._initializeState(),o._initializeState(Oo(Oo({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),Se.debug("Torus - injected provider")}}export{qr as BUTTON_POSITION,To as LOGIN_PROVIDER,$w as TORUS_BUILD_ENV,si as TorusInPageProvider,lm as default};